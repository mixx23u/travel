!function() {
    try {
        var e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}
          , t = (new e.Error).stack;
        t && (e._sentryDebugIds = e._sentryDebugIds || {},
        e._sentryDebugIds[t] = "6cca1f1d-b6d4-48e1-8710-09ecf7407154",
        e._sentryDebugIdIdentifier = "sentry-dbid-6cca1f1d-b6d4-48e1-8710-09ecf7407154")
    } catch (e) {}
}(),
(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[4634], {
    47785: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/pin.cea4c66e.svg",
            height: 10,
            width: 11,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    86265: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/chevron-right.600e08e8.svg",
            height: 20,
            width: 20,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    58001: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/cross.5b9f1357.svg",
            height: 24,
            width: 24,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    85436: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/dummy-image.37ff04f5.jpg",
            height: 512,
            width: 512,
            blurDataURL: "data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAACtg//EABcQAQADAAAAAAAAAAAAAAAAABIAIkH/2gAIAQEAAT8AssM//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwB//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwB//9k=",
            blurWidth: 8,
            blurHeight: 8
        }
    }
    ,
    97917: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/half_star.af2e3c56.svg",
            height: 16,
            width: 16,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    85488: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/GetYourGuide-white.a959dc79.svg",
            height: 80,
            width: 102,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    75936: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/Viator-white.a90de78e.svg",
            height: 39,
            width: 153,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    69123: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/hotel-booking-logo-white.df231096.svg",
            height: 39,
            width: 235,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    70510: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/maximize-2.a750825e.svg",
            height: 16,
            width: 16,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    33777: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/plane.7585dfec.svg",
            height: 14,
            width: 13,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    13084: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/star_sharp.9cd7e6d4.svg",
            height: 12,
            width: 12,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    6386: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/unlocked-lock-white.6f9237cb.svg",
            height: 21,
            width: 21,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    26518: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => n
        });
        let n = {
            src: "/_next/static/media/unlocked-lock.01c632ef.svg",
            height: 21,
            width: 21,
            blurWidth: 0,
            blurHeight: 0
        }
    }
    ,
    36708: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => o
        });
        var n = i(74848);
        i(96540);
        var l = i(98097)
          , r = i(98935);
        let a = {
            activity: {
                text: "trip.edit.day.activity",
                icon: "/attraction-icon-black.svg"
            },
            accommodation: {
                text: "includedSection.included.items.accommodation",
                icon: "/CardsIcons/hotel-icon.svg"
            },
            attraction: {
                text: "trip.edit.day.attraction",
                icon: "/attraction-icon-black.svg"
            }
        }
          , o = e => {
            let {label: t, onClick: i} = e
              , {tAsString: o} = (0,
            r.Ay)()
              , s = a[t];
            return (0,
            n.jsxs)("div", {
                onClick: i,
                className: "flex items-center gap-4 py-2 cursor-pointer hover:opacity-70 transition-opacity",
                children: [(0,
                n.jsx)("div", {
                    className: "w-20 h-20 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 relative",
                    children: (0,
                    n.jsx)(l.A, {
                        className: "w-8 h-8 text-muted-foreground"
                    })
                }), (0,
                n.jsx)("div", {
                    className: "flex flex-col flex-1",
                    children: (0,
                    n.jsxs)("p", {
                        className: "text-base font-medium text-foreground leading-6 hover:text-primary transition-colors",
                        children: [o("trip.tripPopups.add"), " ", o(s.text).toLowerCase()]
                    })
                })]
            })
        }
    }
    ,
    88608: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(98935);
        let a = function(e) {
            let {isOpen: t, onClose: i, onReplace: a, onRemove: o, onViewDetails: s, className: d=""} = e
              , {tAsString: c} = (0,
            r.Ay)()
              , u = (0,
            l.useRef)(null);
            return ((0,
            l.useEffect)( () => {
                let e = e => {
                    u.current && !u.current.contains(e.target) && i()
                }
                ;
                return t && document.addEventListener("mousedown", e),
                () => {
                    document.removeEventListener("mousedown", e)
                }
            }
            , [t, i]),
            t) ? (0,
            n.jsxs)("div", {
                ref: u,
                className: "absolute top-full right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px] mt-1 ".concat(d),
                children: [s && (0,
                n.jsx)("button", {
                    className: "block w-full px-3 py-2 text-left text-sm text-gray-700 bg-transparent border-none cursor-pointer transition-colors duration-150 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",
                    onClick: e => {
                        e.stopPropagation(),
                        i(),
                        s(e)
                    }
                    ,
                    children: c("trip.tripPopups.viewDetails")
                }), (0,
                n.jsx)("button", {
                    className: "block w-full px-3 py-2 text-left text-sm text-gray-700 bg-transparent border-none cursor-pointer transition-colors duration-150 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",
                    onClick: e => {
                        e.stopPropagation(),
                        i(),
                        a(e)
                    }
                    ,
                    children: "Replace"
                }), o && (0,
                n.jsx)("button", {
                    className: "block w-full px-3 py-2 text-left text-sm text-gray-700 bg-transparent border-none cursor-pointer transition-colors duration-150 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",
                    onClick: e => {
                        e.stopPropagation(),
                        i(),
                        o(e)
                    }
                    ,
                    children: "Remove"
                })]
            }) : null
        }
    }
    ,
    56352: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            default: () => o
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(79126)
          , a = i.n(r);
        let o = e => {
            let {itemCount: t=4, loadingContainerClassname: i=""} = e
              , r = (0,
            l.useMemo)( () => Array.from({
                length: t
            }).map( (e, t) => (0,
            n.jsxs)("div", {
                className: a().skeletonItem,
                children: [(0,
                n.jsx)("div", {
                    className: a().skeletonImage
                }), (0,
                n.jsxs)("div", {
                    className: a().skeletonContent,
                    children: [(0,
                    n.jsx)("div", {
                        className: a().skeletonTitle
                    }), (0,
                    n.jsx)("div", {
                        className: a().skeletonSubtitle
                    }), (0,
                    n.jsx)("div", {
                        className: a().skeletonTags
                    })]
                })]
            }, t)), [t]);
            return (0,
            n.jsx)("div", {
                className: a().container,
                children: (0,
                n.jsx)("div", {
                    className: "".concat(a().loadingContainer, " ").concat(i),
                    children: (0,
                    n.jsx)("div", {
                        className: a().loadingSkeleton,
                        children: r
                    })
                })
            })
        }
    }
    ,
    35123: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => B
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(13725)
          , a = i(98935)
          , o = i(18584)
          , s = i(9229)
          , d = i(86409)
          , c = i(26518)
          , u = i(6386);
        let p = {
            src: "/_next/static/media/send.203578b9.svg",
            height: 15,
            width: 15,
            blurWidth: 0,
            blurHeight: 0
        };
        var v = i(42748)
          , _ = i.n(v);
        let m = e => {
            let {placeholder: t, disabled: i, lockInput: v, onSubmit: m, onUnlockButtonClick: h, getBlockedMessage: g, initialQuery: f, submitButtonIconSrc: x, submitButtonText: y, keepPrompt: b, baseText: j} = e
              , {tAsString: w} = (0,
            a.Ay)()
              , {isMobile: A} = (0,
            o.U)()
              , [I,C] = (0,
            l.useState)(f || "")
              , [N,T] = (0,
            l.useState)("")
              , k = (0,
            l.useRef)(null)
              , S = (0,
            l.useCallback)( () => j ? N ? "".concat(j, " ").concat(N) : j : I, [j, N, I])
              , R = (0,
            l.useCallback)( () => j ? j.length + (N ? 1 : 0) : 0, [j, N]);
            (0,
            s.A)(k.current, j ? S() : I);
            let E = (0,
            l.useCallback)(e => {
                let t = e.currentTarget.value;
                if (j) {
                    if (!t.startsWith(j)) {
                        C(j),
                        T(""),
                        setTimeout( () => {
                            if (k.current) {
                                let e = R();
                                k.current.setSelectionRange(e, e)
                            }
                        }
                        , 0);
                        return
                    }
                    T(t.substring(j.length).trim()),
                    C(t)
                } else
                    C(t)
            }
            , [j, R])
              , P = e => {
                let t = e.trim();
                t.length && (b || (j ? (T(""),
                C(j)) : C("")),
                m(t).catch( () => {
                    C(t),
                    j && T(t.substring(j.length).trim())
                }
                ))
            }
            ;
            (0,
            l.useEffect)( () => {
                j && f ? (C(f),
                T(f.substring(j.length).trim()),
                k.current && setTimeout( () => {
                    let e = k.current;
                    if (e) {
                        let t = f.length;
                        e.setSelectionRange(t, t),
                        A || e.focus()
                    }
                }
                , 0)) : j ? (C(j),
                T(""),
                k.current && setTimeout( () => {
                    let e = k.current;
                    if (e) {
                        let t = j.length;
                        e.setSelectionRange(t, t),
                        A || e.focus()
                    }
                }
                , 0)) : (C(f || ""),
                f && k.current && setTimeout( () => {
                    let e = k.current;
                    if (e) {
                        let t = f.length;
                        e.setSelectionRange(t, t),
                        A || e.focus()
                    }
                }
                , 0))
            }
            , [f, j, A]),
            (0,
            l.useEffect)( () => {
                let e = null == g ? void 0 : g();
                e && "" !== e && C(e)
            }
            , []);
            let D = v ? _().unlockButtonAsText : _().unlockButton;
            return (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsxs)("div", {
                    className: _().input_container,
                    children: [v && (0,
                    n.jsx)("div", {
                        className: _().lockedOverlay,
                        children: (0,
                        n.jsxs)("button", {
                            onClick: h,
                            className: D,
                            children: [(0,
                            n.jsx)(r.A, {
                                className: _().locked_img,
                                src: v ? c.A : u.A,
                                alt: "lock",
                                width: 20,
                                height: 20
                            }), w(A ? "chatPage.input.unlock" : "chatPage.input.unlockDesktop")]
                        })
                    }), (0,
                    n.jsxs)("div", {
                        className: _().input_and_button,
                        children: [(0,
                        n.jsx)("textarea", {
                            placeholder: void 0 !== t ? t : w(A ? "chatPage.input.placeholder" : "chatPage.input.newPlaceholder"),
                            className: _().input,
                            value: I,
                            onChange: E,
                            onKeyDown: e => {
                                !e.shiftKey && !i && ["Enter", "Return"].includes(e.key) && (e.preventDefault(),
                                P(j ? S() : I),
                                k.current && A && k.current.blur())
                            }
                            ,
                            ref: k,
                            autoFocus: !A,
                            disabled: v
                        }), i ? (0,
                        n.jsx)(d.A, {
                            className: "".concat(_().loader),
                            wrapperStyles: _().loader_wrapper
                        }) : (0,
                        n.jsxs)("button", {
                            className: "".concat(_().send_button),
                            onClick: () => P(j ? S() : I),
                            disabled: !I,
                            children: [(0,
                            n.jsx)(r.A, {
                                src: null != x ? x : p,
                                alt: "send",
                                width: 12,
                                height: 12
                            }), !A && y]
                        })]
                    })]
                })
            })
        }
        ;
        var h = i(40961)
          , g = i(72111)
          , f = i(10867)
          , x = i(66802)
          , y = i(81211)
          , b = i(87009)
          , j = i(98047)
          , w = i(48434)
          , A = i.n(w)
          , I = i(20901)
          , C = i(7009)
          , N = i(60704)
          , T = i(50447);
        let k = l.memo(e => {
            let {fromCity: t, toCity: i, onSearch: s, setLoadingFlights: d, trip: c, departureDate: u, enableAutoFocus: p=!0, onClearRef: v, startTypingAnimation: _=!0, initialValue: m, allFlights: w} = e
              , {tAsString: k} = (0,
            a.Ay)()
              , {isMobile: S} = (0,
            o.U)()
              , {getFlightList: R} = (0,
            j.gC)()
              , [E,P] = (0,
            l.useState)(!1)
              , [D,M] = (0,
            l.useState)(c.cabinClass || C.qP.CABIN_CLASS_UNSPECIFIED)
              , L = (0,
            l.useMemo)( () => [k("homepage.searchBar.typingAnimation.tripFlights.first", {
                fromCity: t,
                toCity: i
            }), k("homepage.searchBar.typingAnimation.tripFlights.second", {
                fromCity: t,
                toCity: i
            }), k("homepage.searchBar.typingAnimation.tripFlights.third", {
                fromCity: t,
                toCity: i
            })], [k, t, i])
              , O = (0,
            l.useMemo)( () => ({
                fromCity: t,
                toCity: i,
                trip: c,
                departureDate: u
            }), [t, i, c, u])
              , {inputValue: F, isLoading: B, handleInputChange: H, handleKeyDown: U, executeSearch: z, inputRef: q, clearInput: V} = (0,
            I.u)({
                searchType: "flights",
                debounceMs: 500,
                buildQuery: (e, t, i) => (0,
                N.TE)(e, t.fromCity || "", t.toCity || "", t.trip, t.departureDate, D, i, w),
                executeSearch: async e => {
                    var t, i, n, l, r, a;
                    let o = await R(e, 10);
                    return M((null == o ? void 0 : null === (i = o.flights) || void 0 === i ? void 0 : null === (t = i[0]) || void 0 === t ? void 0 : t.cabinClass) || (null == o ? void 0 : null === (a = o.flightItineraries) || void 0 === a ? void 0 : null === (r = a[0]) || void 0 === r ? void 0 : null === (l = r.flights) || void 0 === l ? void 0 : null === (n = l[0]) || void 0 === n ? void 0 : n.cabinClass) || C.qP.CABIN_CLASS_UNSPECIFIED),
                    (null == o ? void 0 : o.flights) || (null == o ? void 0 : o.flightItineraries) || []
                }
                ,
                searchParams: O,
                typingSequence: L,
                enableTypingAnimation: _,
                onSearchResult: s,
                onLoadingChange: d,
                initialValue: m
            });
            (0,
            l.useEffect)( () => {
                null == v || v(V)
            }
            , [v, V]);
            let W = (0,
            l.useCallback)( () => {
                z(),
                P(!1)
            }
            , [z, P])
              , G = (0,
            l.useCallback)(e => {
                "Enter" !== e.key || e.shiftKey || P(!1),
                U(e)
            }
            , [U, P])
              , Y = (0,
            l.useCallback)( () => {
                var e, t;
                let i = (null == c ? void 0 : null === (t = c.travelers) || void 0 === t ? void 0 : null === (e = t.filter(e => e.isAdult)) || void 0 === e ? void 0 : e.length) || 0;
                return S ? i.toString() : i > 0 ? k("trip.detailsModal.roomsAndGuests.adultsWithCount", {
                    count: i
                }).replace(/\badult(s)?\b/i, e => e.charAt(0).toUpperCase() + e.slice(1)) : k("trip.detailsModal.roomsAndGuests.adults")
            }
            , [null == c ? void 0 : c.travelers, k, S]);
            return (0,
            n.jsxs)("div", {
                className: A().container,
                children: [(0,
                n.jsxs)("div", {
                    className: A().info_banner_wrapper,
                    children: [(0,
                    n.jsxs)("div", {
                        className: A().search_fields_wrapper,
                        children: [w && w.length > 0 ? w.slice(0, 3).map( (e, t) => {
                            let i = e.flights[0];
                            return i.fromCity && i.toCity ? (0,
                            n.jsx)("div", {
                                className: A().search_fields_row,
                                children: (0,
                                n.jsx)("div", {
                                    className: A().flight_route_container,
                                    children: (0,
                                    n.jsxs)("div", {
                                        className: A().route_field,
                                        children: [(0,
                                        n.jsx)("span", {
                                            className: A().field_text,
                                            children: i.fromCity
                                        }), (0,
                                        n.jsx)(f.A, {
                                            className: A().field_icon
                                        }), (0,
                                        n.jsx)("span", {
                                            className: A().field_text,
                                            children: i.toCity
                                        })]
                                    })
                                })
                            }, e.id || t) : null
                        }
                        ) : (0,
                        n.jsx)("div", {
                            className: A().search_fields_row,
                            children: (0,
                            n.jsx)("div", {
                                className: A().flight_route_container,
                                children: (0,
                                n.jsxs)("div", {
                                    className: A().route_field,
                                    children: [(0,
                                    n.jsx)("span", {
                                        className: A().field_text,
                                        children: t
                                    }), (0,
                                    n.jsx)(f.A, {
                                        className: A().field_icon
                                    }), (0,
                                    n.jsx)("span", {
                                        className: A().field_text,
                                        children: i
                                    })]
                                })
                            })
                        }), w && w.length > 3 && (0,
                        n.jsx)("div", {
                            className: A().search_fields_row,
                            children: (0,
                            n.jsx)("div", {
                                className: A().flight_route_container,
                                children: (0,
                                n.jsx)("div", {
                                    className: A().route_field,
                                    children: (0,
                                    n.jsxs)("span", {
                                        className: A().field_text,
                                        children: ["+", w.length - 3]
                                    })
                                })
                            })
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: A().flight_info_wrapper,
                        children: [w && w.length > 1 && (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsx)("div", {
                                className: A().flight_info_item,
                                children: (0,
                                n.jsx)("span", {
                                    children: w && w.length > 2 ? k("trip.itinerary.flightInfo.multicity") : k("trip.itinerary.flightInfo.return")
                                })
                            }), (0,
                            n.jsx)(x.A, {
                                className: A().field_icon
                            })]
                        }), (0,
                        n.jsx)("div", {
                            className: A().flight_info_item,
                            children: (0,
                            n.jsx)("span", {
                                children: Y()
                            })
                        }), D !== C.qP.CABIN_CLASS_UNSPECIFIED && (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsx)(x.A, {
                                className: A().field_icon
                            }), (0,
                            n.jsx)("div", {
                                className: A().flight_info_item,
                                children: (0,
                                n.jsx)("span", {
                                    children: (0,
                                    C.$I)(D, k)
                                })
                            })]
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: A().info_banner,
                        children: [(0,
                        n.jsx)(T.A, {
                            className: A().info_icon
                        }), (0,
                        n.jsx)("span", {
                            children: k("homepage.searchBar.changeDateAndDestinationInstruction")
                        })]
                    })]
                }), (0,
                n.jsx)(g.$, {
                    variant: "secondary",
                    leftIcon: (0,
                    n.jsx)(y.A, {}),
                    onClick: () => P(!0),
                    className: A().filter_flights_button,
                    children: (0,
                    n.jsx)("span", {
                        className: A().filter_flights_button_text,
                        children: k("trip.itinerary.flightInfo.filterFlights")
                    })
                }), E && (0,
                h.createPortal)((0,
                n.jsx)("div", {
                    onClick: () => P(!1),
                    className: A().chat_input_container_overlay,
                    children: (0,
                    n.jsxs)("div", {
                        className: A().chat_input_container,
                        children: [(0,
                        n.jsxs)("div", {
                            className: A().chat_input_header,
                            children: [(0,
                            n.jsx)("div", {
                                className: A().avatar,
                                children: (0,
                                n.jsx)(r.A, {
                                    src: "/theme/layla/new-character-small.webp",
                                    alt: "assistant",
                                    width: 24,
                                    height: 24
                                })
                            }), (0,
                            n.jsx)("span", {
                                className: A().chat_input_header_text,
                                children: k("trip.itinerary.flightInfo.smartFilter")
                            })]
                        }), (0,
                        n.jsx)("span", {
                            className: A().chat_input_description,
                            children: k("trip.itinerary.flightInfo.poweredBy")
                        }), (0,
                        n.jsx)(b.A, {
                            customRef: q,
                            onKeyDown: G,
                            className: A().chat_input,
                            value: F,
                            onChange: H,
                            placeholder: k("trip.itinerary.flightInfo.placeholder"),
                            initialHeight: "24px",
                            enableAutoFocus: p
                        }), (0,
                        n.jsx)(g.$, {
                            variant: "default",
                            className: A().search_btn,
                            onClick: W,
                            disabled: !F || B,
                            children: k("trip.itinerary.flightInfo.filterFlights")
                        })]
                    })
                }), document.body)]
            })
        }
        );
        k.displayName = "FlightSearchInput";
        var S = i(53670)
          , R = i(45648)
          , E = i(83457)
          , P = i(30130)
          , D = i.n(P);
        let M = {
            src: "/_next/static/media/search-send.cacde5a8.svg",
            height: 14,
            width: 14,
            blurWidth: 0,
            blurHeight: 0
        };
        var L = i(86715)
          , O = i(85610);
        let F = {
            hotels: "Hotels",
            activities: "Activities",
            destinations: "Destinations",
            flights: "Flights",
            flightItineraries: "Flights",
            carRentals: "Car Rentals"
        }
          , B = e => {
            let {entity: t, onSearchResults: i, onSearchStart: r, isLoading: a, placeholder: s, initialSearchQuery: d, searchButtonText: c, searchButtonIconSrc: u, usersIata: p, baseText: v, trip: _, fromCity: h, toCity: g, departureDate: f, allFlights: x} = e
              , {updateLocation: y} = (0,
            o.U)()
              , b = (0,
            L.useRouter)()
              , {locale: w, asPath: A, query: I} = b
              , C = (0,
            l.useRef)(void 0)
              , N = (0,
            S.VC)()
              , T = (0,
            R.D0)()
              , P = (0,
            j.lo)()
              , B = (0,
            j.pQ)()
              , {getFlightList: H} = (0,
            j.gC)()
              , U = (0,
            E.B)()
              , z = (0,
            l.useCallback)(async e => {
                r();
                try {
                    let r = [];
                    switch (t) {
                    case "hotels":
                        let a = await N(e);
                        if (a) {
                            if (r = [a],
                            a.id && A.includes("/chat/")) {
                                let e = I.chatId
                                  , t = "/chat/".concat(e, "/hotel-search/").concat(a.id);
                                if (C.current === t)
                                    return;
                                C.current = t,
                                window.history.replaceState({
                                    ...window.history.state,
                                    as: t,
                                    url: t
                                }, "", t),
                                y && y(t)
                            } else if (a.id && !A.includes("/chat/")) {
                                var n, l;
                                let e = (0,
                                O.ON)(null === (n = a.prompt) || void 0 === n ? void 0 : n.prompt)
                                  , t = "/".concat(w, "/hotels/").concat((null === (l = a.seo) || void 0 === l ? void 0 : l.slug) || e, "/").concat(a.id);
                                if (C.current === t)
                                    return;
                                C.current = t,
                                window.history.replaceState({
                                    ...window.history.state,
                                    as: t,
                                    url: t
                                }, "", t),
                                y && y(t)
                            }
                        }
                        break;
                    case "activities":
                        let o = await T(e, "en");
                        o && (r = o);
                        break;
                    case "destinations":
                        let s = await P(e, void 0, 10);
                        if (null == s ? void 0 : s.destinations) {
                            let e = s.destinations.map(e => B([e.destinationId.toString()], void 0, void 0, void 0, p, void 0, void 0, void 0, s.dateOfTravel));
                            r = (await Promise.all(e)).filter(e => !!e).map(e => e.destinations[0])
                        }
                        break;
                    case "flights":
                    case "flightItineraries":
                        let d = await H(e, 10);
                        (null == d ? void 0 : d.flights) ? r = d.flights : (null == d ? void 0 : d.flightItineraries) && (r = d.flightItineraries);
                        break;
                    case "carRentals":
                        let c = await U(e);
                        c && (r = c)
                    }
                    i(r, e)
                } catch (n) {
                    console.error("Error searching ".concat(t, ":"), n),
                    i([], e)
                }
            }
            , [t, i, r, N, T, P, H, U, b, A, I.chatId, w, y]);
            return ("flights" === t || "flightItineraries" === t) && _ ? (0,
            n.jsx)("div", {
                className: D().container_flights,
                children: (0,
                n.jsx)("div", {
                    className: D().searchInputWrapper,
                    children: (0,
                    n.jsx)(k, {
                        fromCity: h,
                        toCity: g,
                        trip: _,
                        departureDate: f,
                        onSearch: e => i(e),
                        setLoadingFlights: e => e && r(),
                        initialValue: d,
                        startTypingAnimation: !0,
                        allFlights: x
                    })
                })
            }) : (0,
            n.jsx)("div", {
                className: D().container,
                children: (0,
                n.jsx)("div", {
                    className: D().searchInputWrapper,
                    children: (0,
                    n.jsx)(m, {
                        keepPrompt: !0,
                        placeholder: s || "Search ".concat(F[t].toLowerCase(), "..."),
                        initialQuery: d,
                        baseText: v,
                        disabled: a,
                        onSubmit: z,
                        submitButtonIconSrc: null != u ? u : M,
                        submitButtonText: c
                    })
                })
            })
        }
    }
    ,
    74236: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => tc
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(73877)
          , a = i(31696)
          , o = i(4687)
          , s = i.n(o)
          , d = i(98935)
          , c = i(65018)
          , u = i(49887)
          , p = i.n(u)
          , v = i(47950)
          , _ = i(89906)
          , m = i(5104)
          , h = i(13725)
          , g = i(29965)
          , f = i.n(g);
        let x = e => {
            let {imageUrl: t, alt: i, fallbackText: r} = e
              , [a,o] = (0,
            l.useState)(!1);
            return a || !t ? (0,
            n.jsx)("div", {
                style: {
                    width: 74,
                    height: "100%",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center"
                },
                children: r
            }) : (0,
            n.jsx)(f(), {
                src: t,
                alt: i,
                width: 100,
                height: 45,
                onError: () => o(!0),
                style: {
                    objectFit: "contain"
                }
            })
        }
        ;
        var y = i(60704);
        function b(e) {
            var t;
            let {expandedInfo: i, transportDetails: l, flightDetails: r, isFlight: a, isLivePrice: o, isRightSidePanelExpanded: s} = e
              , {tAsString: c} = (0,
            d.Ay)()
              , {segments: u=[]} = null != r ? r : {}
              , m = (0,
            _.A)(p().transport_details_info_expanded_wrapper, {
                [p().expanded]: s
            })
              , g = e => {
                let {iataName: t, iataCode: i, fromCityName: l="", toCityName: r=""} = e;
                return (0,
                n.jsxs)("div", {
                    className: p().flight_info_wrapper,
                    children: [(0,
                    n.jsxs)("p", {
                        className: p().flight_info_text,
                        children: [l || r, " ", (0,
                        n.jsx)("span", {
                            children: " (".concat(i, ")")
                        })]
                    }), (0,
                    n.jsx)("p", {
                        className: p().flight_info_desc,
                        children: t
                    })]
                })
            }
            ;
            return (0,
            n.jsx)("div", {
                className: m,
                style: {
                    opacity: i ? 1 : 0
                },
                children: (0,
                n.jsxs)("div", {
                    className: "".concat(p().transport_details_info_expanded, " ").concat(i ? p().expanded : ""),
                    children: [(!a || a && !o) && (0,
                    n.jsx)(n.Fragment, {
                        children: (0,
                        n.jsxs)("div", {
                            className: p().transport_details_info_timeline,
                            children: [(0,
                            n.jsx)("div", {
                                className: p().dashed_line
                            }), (0,
                            n.jsx)(w, {
                                transportDetails: l,
                                flightDetails: r,
                                isDeparture: !0,
                                isFlight: a
                            }), (0,
                            n.jsxs)("div", {
                                className: p().info_expanded_line_item,
                                children: [(0,
                                n.jsx)("div", {
                                    className: p().info_expanded_line_item_dot,
                                    style: {
                                        opacity: 0
                                    }
                                }), (0,
                                n.jsx)("div", {
                                    className: p().transport_details_info_timeline_duration,
                                    children: (0,
                                    v.t)(null !== (t = null == l ? void 0 : l.durationInMinutes) && void 0 !== t ? t : 0)
                                })]
                            }), (0,
                            n.jsx)(w, {
                                transportDetails: l,
                                flightDetails: r,
                                isDeparture: !1,
                                isFlight: a
                            })]
                        })
                    }), null == u ? void 0 : u.map( (e, t) => {
                        var i, l;
                        return (0,
                        n.jsxs)("div", {
                            className: p().live_flight_wrapper,
                            children: [(0,
                            n.jsxs)("div", {
                                className: p().fight_wrapper,
                                children: [(0,
                                n.jsx)(x, {
                                    imageUrl: S(0, (null == e ? void 0 : e.carrier) ? [e.carrier] : r.carriers),
                                    alt: "flight-indicator",
                                    fallbackText: R((null == e ? void 0 : e.carrier) ? [e.carrier] : r.carriers || r.carriers, 0)
                                }), (0,
                                n.jsx)("div", {
                                    className: p().fight_info,
                                    children: (0,
                                    n.jsxs)("p", {
                                        children: [e.carrier.name, " ", (null == e ? void 0 : e.flightNumber) && " • ".concat(null == e ? void 0 : e.flightNumber)]
                                    })
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: p().transport_details_info_timeline,
                                children: [(0,
                                n.jsx)("div", {
                                    className: p().dashed_line
                                }), (0,
                                n.jsx)(j, {
                                    text: (0,
                                    n.jsx)(g, {
                                        iataName: e.fromIataName,
                                        iataCode: e.fromIata,
                                        fromCityName: e.fromCityName
                                    }),
                                    time: e.departureTime
                                }), (0,
                                n.jsx)("div", {
                                    className: p().separator,
                                    children: (0,
                                    n.jsx)(j, {
                                        text: (0,
                                        v.t)(e.flightDurationInMinutes),
                                        hideDot: !0,
                                        className: p().flight_segment_duration,
                                        extraClass: p().separator
                                    })
                                }), (0,
                                n.jsx)(j, {
                                    text: (0,
                                    n.jsx)(g, {
                                        iataName: e.toIataName,
                                        iataCode: e.toIata,
                                        toCityName: e.toCityName
                                    }),
                                    time: e.arrivalTime,
                                    extraClass: p().extraClass,
                                    className: p().extraClass,
                                    daysDifference: (0,
                                    y.nI)(e.departureTime, e.arrivalTime)
                                })]
                            }), (null !== (i = null == e ? void 0 : e.layoverDurationInMinutes) && void 0 !== i ? i : 0) > 0 && (0,
                            n.jsxs)("div", {
                                className: p().live_flight_layover_detail,
                                children: [(0,
                                n.jsx)(h.A, {
                                    src: "/alarmClock.svg",
                                    alt: "clock",
                                    width: 16,
                                    height: 16
                                }), (0,
                                n.jsx)("p", {
                                    children: c("agent.flight.layover", {
                                        time: (0,
                                        v.t)(null !== (l = null == e ? void 0 : e.layoverDurationInMinutes) && void 0 !== l ? l : 0),
                                        city: e.toCityName
                                    })
                                })]
                            })]
                        }, t)
                    }
                    )]
                })
            })
        }
        let j = e => {
            let {text: t, hideDot: i=!1, time: r, className: a="", extraClass: o, daysDifference: s=0} = e
              , d = (0,
            l.useMemo)( () => r ? (0,
            y.pQ)(r) : "", [r]);
            return (0,
            n.jsxs)("div", {
                className: "".concat(p().info_expanded_line_item, " ").concat(a),
                children: [!i && (0,
                n.jsx)("div", {
                    className: p().info_expanded_line_item_dot
                }), (0,
                n.jsxs)("div", {
                    className: "".concat(p().info_expanded_line_item_content, " ").concat(o || ""),
                    children: [d && (0,
                    n.jsxs)("div", {
                        className: p().time_with_indicator,
                        children: [(0,
                        n.jsx)("p", {
                            children: d
                        }), s > 0 && (0,
                        n.jsxs)("span", {
                            className: p().day_indicator,
                            children: ["+", s]
                        })]
                    }), !r && (0,
                    n.jsxs)("p", {
                        className: "".concat(p().time_wrapper, " ").concat(p().time_border),
                        children: [(0,
                        n.jsx)(h.A, {
                            src: "/clockGray.svg",
                            alt: "time",
                            width: 16,
                            height: 16
                        }), t]
                    }), r && t]
                })]
            })
        }
          , w = e => {
            let {transportDetails: t, flightDetails: i, isDeparture: l, isFlight: r} = e;
            return (0,
            n.jsxs)("div", {
                className: p().info_expanded_line_item,
                children: [(0,
                n.jsx)("div", {
                    className: p().info_expanded_line_item_dot
                }), (0,
                n.jsxs)("div", {
                    className: p().info_expanded_line_item_content,
                    children: [(0,
                    n.jsx)("p", {
                        children: (0,
                        m.$j)(l ? (null == i ? void 0 : i.departureStartTime) || (null == t ? void 0 : t.departureDateTime) : (null == i ? void 0 : i.departureEndTime) || (null == t ? void 0 : t.arrivalDateTime), r)
                    }), (0,
                    n.jsx)("span", {
                        className: p().transport_dot,
                        children: "•"
                    }), (0,
                    n.jsxs)("p", {
                        children: [l ? (null == i ? void 0 : i.fromCity) || (null == t ? void 0 : t.fromIataName) || (null == t ? void 0 : t.fromStation) : (null == i ? void 0 : i.toCity) || (null == t ? void 0 : t.toIataName) || (null == t ? void 0 : t.toStation), " ", l ? (null == t ? void 0 : t.fromIata) && (0,
                        n.jsxs)(n.Fragment, {
                            children: ["(", null == t ? void 0 : t.fromIata, ")"]
                        }) : (null == t ? void 0 : t.toIata) && (0,
                        n.jsxs)(n.Fragment, {
                            children: ["(", null == t ? void 0 : t.toIata, ")"]
                        })]
                    })]
                })]
            })
        }
        ;
        var A = i(91106)
          , I = i.n(A)
          , C = i(28097)
          , N = i(88541)
          , T = i(4481)
          , k = i(88023);
        i(7009);
        let S = function(e) {
            var t;
            let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
            if (i.length > e && (null === (t = i[e]) || void 0 === t ? void 0 : t.imageUrl) && "" !== i[e].imageUrl) {
                let t;
                return (t = i[e].imageUrl) && "" !== t ? i[e].imageUrl : "/flightPlaceholder.svg"
            }
            return "/flightPlaceholder.svg"
        }
          , R = function() {
            var e, t;
            let i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
              , n = arguments.length > 1 ? arguments[1] : void 0;
            return null !== (t = null == i ? void 0 : null === (e = i[n]) || void 0 === e ? void 0 : e.name) && void 0 !== t ? t : ""
        }
          , E = e => {
            if (!e)
                return "";
            let t = C.c9.fromISO(e);
            if (t.isValid)
                return t.toFormat("EEE, d MMM");
            let i = e.split(" ")[0]
              , n = C.c9.fromISO(i);
            return n.isValid ? n.toFormat("EEE, d MMM") : ""
        }
          , P = (0,
        l.memo)(e => {
            let {tag: t} = e
              , {tAsString: i} = (0,
            d.Ay)();
            return (0,
            n.jsx)("div", {
                className: s().label,
                style: (0,
                m.IS)(t),
                children: i("agent.flight.".concat(t.toLowerCase()))
            })
        }
        );
        P.displayName = "FlightTag",
        (0,
        l.memo)(e => {
            let {index: t} = e
              , {tAsString: i} = (0,
            d.Ay)();
            return (0,
            n.jsxs)("div", {
                className: s().option_wrapper,
                children: [(0,
                n.jsxs)("div", {
                    className: s().option,
                    children: [(0,
                    n.jsx)(f(), {
                        src: "/plane.svg",
                        alt: i("agent.flight.flight"),
                        height: 16,
                        width: 16
                    }), i("agent.flight.flight")]
                }), (0,
                n.jsx)("div", {
                    className: s().option,
                    children: i("agent.flight.optionX", {
                        optionTag: t + 1
                    })
                })]
            })
        }
        ).displayName = "FlightOptions",
        (0,
        l.memo)(e => {
            let {reason: t} = e;
            return (0,
            n.jsxs)("div", {
                className: s().reason,
                children: [(0,
                n.jsx)(N.A, {
                    size: 24
                }), (0,
                n.jsx)("span", {
                    children: t
                })]
            })
        }
        ).displayName = "FlightReason";
        let D = (0,
        l.memo)(e => {
            let {flight: t, flightType: i, formattedPrice: l, countOfPerson: r=1, expanded: a, setExpanded: o} = e
              , {tAsString: c} = (0,
            d.Ay)();
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: s().info_block,
                    children: [(0,
                    n.jsx)("div", {
                        className: s().info_block_value_expanded,
                        children: "".concat(c("agent.flight.departing"), " ").concat(E(t.departureStartTime))
                    }), (0,
                    n.jsxs)("div", {
                        className: s().info_duration,
                        children: [(0,
                        n.jsxs)("span", {
                            children: [c("agent.flight.totalDuration"), ": ", t.duration]
                        }), (0,
                        n.jsx)("span", {
                            children: "•"
                        }), (0,
                        n.jsx)("span", {
                            children: i
                        })]
                    })]
                }), (0,
                n.jsx)(M, {
                    formattedPrice: l,
                    expanded: a,
                    setExpanded: o,
                    countOfPerson: r
                })]
            })
        }
        );
        D.displayName = "ExpandedInfo",
        (0,
        l.memo)(e => {
            let {flight: t, flightType: i, isMobile: l, formattedPrice: r, expanded: a, countOfPerson: o, setExpanded: d} = e
              , c = (0,
            y.nI)(t.departureStartTime, t.departureEndTime);
            return l ? (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: s().info_block,
                    children: [(0,
                    n.jsxs)("div", {
                        className: s().info_block_value,
                        children: [(0,
                        n.jsx)("time", {
                            dateTime: t.departureStartTime,
                            children: (0,
                            y.pQ)(t.departureStartTime)
                        }), "-", (0,
                        n.jsxs)("div", {
                            className: s().time_with_indicator,
                            children: [(0,
                            n.jsx)("time", {
                                dateTime: t.departureEndTime,
                                children: (0,
                                y.pQ)(t.departureEndTime)
                            }), c > 0 && (0,
                            n.jsxs)("span", {
                                className: s().day_indicator,
                                children: ["+", c]
                            })]
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: s().info_block_value,
                        children: [(0,
                        n.jsx)("span", {
                            className: s().airport_code,
                            children: t.fromIata
                        }), (0,
                        n.jsx)("span", {
                            className: s().airport_code,
                            children: "-"
                        }), (0,
                        n.jsx)("span", {
                            className: s().airport_code,
                            children: t.toIata
                        })]
                    })]
                }), (0,
                n.jsx)(M, {
                    formattedPrice: r,
                    expanded: a,
                    setExpanded: d,
                    countOfPerson: o
                })]
            }) : (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: s().info_block,
                    children: [(0,
                    n.jsxs)("div", {
                        className: s().time_with_indicator,
                        children: [(0,
                        n.jsxs)("span", {
                            children: [(0,
                            y.pQ)(t.departureStartTime), " - ", (0,
                            y.pQ)(t.departureEndTime)]
                        }), c > 0 && (0,
                        n.jsxs)("span", {
                            className: s().day_indicator,
                            children: ["+", c]
                        })]
                    }), R(t.carriers, 0)]
                }), (0,
                n.jsxs)("div", {
                    className: "".concat(s().info_block, " ").concat(s().block1),
                    children: [(0,
                    n.jsx)("div", {
                        className: s().info_block_value,
                        children: t.duration
                    }), t.fromIata, " - ", t.toIata]
                }), (0,
                n.jsx)("div", {
                    className: "".concat(s().info_block, " ").concat(s().block1),
                    children: (0,
                    n.jsx)("div", {
                        className: s().info_block_value,
                        children: i
                    })
                }), (0,
                n.jsx)(M, {
                    formattedPrice: r,
                    expanded: a,
                    setExpanded: d,
                    countOfPerson: o
                })]
            })
        }
        ).displayName = "CollapsedInfo";
        let M = (0,
        l.memo)(e => {
            let {formattedPrice: t, countOfPerson: i=1, expanded: l, setExpanded: r} = e
              , {tAsString: a} = (0,
            d.Ay)();
            return (0,
            n.jsxs)("div", {
                className: s().price_with_button_wrapper,
                children: [(0,
                n.jsxs)("div", {
                    className: s().info_block,
                    children: [(0,
                    n.jsx)("div", {
                        className: s().info_block_value,
                        children: t
                    }), a(1 !== i ? "agent.flight.totalPriceForPassengers" : "agent.flight.totalPriceForPassenger", {
                        count: i
                    })]
                }), (0,
                n.jsx)("div", {
                    className: "".concat(s().button_block, " ").concat(l ? s().button_block_up : ""),
                    children: (0,
                    n.jsx)("button", {
                        className: s().dropdown,
                        onClick: e => {
                            e.stopPropagation(),
                            r(!l)
                        }
                        ,
                        children: (0,
                        n.jsx)(f(), {
                            src: "/arrow-back-dark.svg",
                            width: 20,
                            height: 20,
                            alt: "dropdown"
                        })
                    })
                })]
            })
        }
        );
        M.displayName = "PriceBlock";
        let L = (0,
        l.memo)(e => {
            let {url: t, flight: i} = e
              , {tAsString: l} = (0,
            d.Ay)()
              , r = (0,
            k.A)();
            return (0,
            n.jsx)("div", {
                className: s().buttons,
                children: (0,
                n.jsxs)(I(), {
                    href: t,
                    target: "_blank",
                    className: s().book,
                    onClick: e => {
                        e.stopPropagation(),
                        i && r({
                            event: "FlightViewDetailsButtonClick",
                            data: {
                                fromIata: i.fromIata,
                                toIata: i.toIata,
                                price: i.priceInEuros,
                                source: "flightCompareCard"
                            }
                        })
                    }
                    ,
                    children: [l("checkout.bookFlights"), (0,
                    n.jsx)(T.M, {
                        src: "/external-link.svg",
                        alt: "arrow",
                        width: 14,
                        height: 14,
                        color: "black"
                    })]
                })
            })
        }
        );
        L.displayName = "BookButton";
        let O = (0,
        l.memo)(e => {
            let {flight: t, flightType: i, formattedPrice: l, expanded: r, countOfPerson: a, setExpanded: o} = e
              , {tAsString: c} = (0,
            d.Ay)();
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: s().flight_collapsed_info,
                    children: [(0,
                    n.jsx)("div", {
                        className: s().carrier,
                        children: (0,
                        n.jsx)(x, {
                            imageUrl: S(0, t.carriers),
                            alt: "flight-indicator",
                            fallbackText: R(t.carriers, 0)
                        })
                    }), (0,
                    n.jsx)("div", {
                        className: s().flight_main_info,
                        children: (0,
                        n.jsxs)("div", {
                            className: s().time_and_route,
                            children: [(0,
                            n.jsxs)("div", {
                                className: s().flight_time,
                                children: [(0,
                                y.pQ)(t.departureStartTime), " - ", (0,
                                y.pQ)(t.departureEndTime)]
                            }), (0,
                            n.jsxs)("div", {
                                className: s().flight_route,
                                children: [t.fromIata, " - ", t.toIata]
                            })]
                        })
                    }), (0,
                    n.jsxs)("div", {
                        className: s().price_and_button,
                        children: [(0,
                        n.jsxs)("div", {
                            className: s().price_section,
                            children: [(0,
                            n.jsx)("div", {
                                className: s().price_amount,
                                children: l
                            }), (0,
                            n.jsx)("div", {
                                className: s().price_label,
                                children: 1 !== a ? c("agent.flight.totalPriceForPassengers", {
                                    count: a
                                }) : c("homepage.tripList.perPerson")
                            })]
                        }), (0,
                        n.jsx)("button", {
                            className: s().expand_button,
                            onClick: e => {
                                e.stopPropagation(),
                                o(!r)
                            }
                            ,
                            children: (0,
                            n.jsx)(f(), {
                                src: "/arrow-back-dark.svg",
                                width: 20,
                                height: 20,
                                alt: "expand"
                            })
                        })]
                    })]
                }), (0,
                n.jsxs)("div", {
                    className: s().flight_details_full_width,
                    children: [t.duration, " • ", R(t.carriers, 0), " • ", i]
                })]
            })
        }
        );
        function F(e) {
            var t, i, r, o;
            let {flight: u, onClick: p} = e
              , {tAsString: v} = (0,
            d.Ay)()
              , [_,m] = (0,
            l.useState)(!1)
              , h = (0,
            l.useMemo)( () => u ? 0 === u.stops ? v("topicPage.chatSection.cards.flightTypes.nonStop") : 1 === u.stops ? v("topicPage.chatSection.cards.flightTypes.oneStop") : v("topicPage.chatSection.cards.flightTypes.nthStops", {
                count: u.stops
            }) : "", [u, v])
              , g = (null !== (i = null == u ? void 0 : u.numberOfAdults) && void 0 !== i ? i : 1) + (null !== (r = null == u ? void 0 : null === (t = u.childrenAges) || void 0 === t ? void 0 : t.length) && void 0 !== r ? r : 0)
              , {formattedPrice: f} = (0,
            c.A)(null !== (o = null == u ? void 0 : u.priceInEuros) && void 0 !== o ? o : 0, "EUR", void 0, !0)
              , x = (0,
            l.useMemo)( () => {
                var e;
                return !!(null == u ? void 0 : null === (e = u.tags) || void 0 === e ? void 0 : e[0])
            }
            , [null == u ? void 0 : u.tags])
              , y = (0,
            l.useMemo)( () => !!(null == u ? void 0 : u.url), [null == u ? void 0 : u.url]);
            return (0,
            n.jsxs)("div", {
                className: s().container,
                children: [x && (0,
                n.jsx)("div", {
                    className: s().tags_container,
                    children: u.tags.map(e => (0,
                    n.jsx)(P, {
                        tag: e
                    }, e))
                }), (0,
                n.jsxs)("div", {
                    className: s().flight_and_buttons,
                    onClick: p,
                    children: [(0,
                    n.jsxs)(n.Fragment, {
                        children: [(0,
                        n.jsxs)("div", {
                            className: "".concat(s().flight, " ").concat(_ ? s().flightExpanded : ""),
                            children: [!_ && (0,
                            n.jsx)(O, {
                                flight: u,
                                flightType: h,
                                formattedPrice: f,
                                expanded: _,
                                countOfPerson: g,
                                setExpanded: m
                            }), _ && (0,
                            n.jsx)("div", {
                                className: s().info,
                                children: (0,
                                n.jsx)(D, {
                                    flight: u,
                                    flightType: h,
                                    formattedPrice: f,
                                    expanded: _,
                                    setExpanded: m,
                                    countOfPerson: g
                                })
                            })]
                        }), _ && (0,
                        n.jsx)("div", {
                            className: s().flight_info,
                            children: (0,
                            n.jsx)(b, {
                                expandedInfo: !0,
                                flightDetails: u,
                                isFlight: !0,
                                transportDetails: void 0,
                                isLivePrice: !0,
                                isRightSidePanelExpanded: !1
                            })
                        })]
                    }), y && (null == u ? void 0 : u.deepLink) && (0,
                    n.jsx)(L, {
                        url: (0,
                        a.LC)(null == u ? void 0 : u.deepLink),
                        flight: u
                    })]
                })]
            })
        }
        O.displayName = "NewCollapsedInfo";
        var B = i(52745)
          , H = i.n(B)
          , U = i(67154)
          , z = i(46002)
          , q = i(92612)
          , V = i(10867);
        let W = () => {
            let[e,t] = (0,
            l.useState)(!1);
            return (0,
            l.useEffect)( () => {
                t(!0)
            }
            , []),
            t => (0,
            y.Ak)(t, !e)
        }
          , G = e => {
            if (!e || e <= 0)
                return "";
            let t = Math.floor(e / 60);
            return "".concat(t, "h ").concat(e % 60, "m")
        }
          , Y = (e, t) => {
            var i, n, l, r, a, o, s, d, c, u, p, v;
            let _ = t(null === (n = e.segments) || void 0 === n ? void 0 : null === (i = n[0]) || void 0 === i ? void 0 : i.departureTime)
              , m = t(null === (r = e.segments) || void 0 === r ? void 0 : null === (l = r[e.segments.length - 1]) || void 0 === l ? void 0 : l.arrivalTime)
              , h = (null === (o = e.segments) || void 0 === o ? void 0 : null === (a = o[0]) || void 0 === a ? void 0 : a.fromIata) || ""
              , g = (null === (d = e.segments) || void 0 === d ? void 0 : null === (s = d[e.segments.length - 1]) || void 0 === s ? void 0 : s.toIata) || "";
            return {
                flightDeparture: _,
                flightArrival: m,
                flightDepartureIata: h,
                flightArrivalIata: g,
                flightDuration: G(e.durationInMinutes),
                flightStops: e.stops || (null !== (v = null === (c = e.segments) || void 0 === c ? void 0 : c.length) && void 0 !== v ? v : 1) - 1,
                carrierImage: (null === (p = e.carriers) || void 0 === p ? void 0 : null === (u = p[0]) || void 0 === u ? void 0 : u.imageUrl) || "/flightPlaceholder.svg"
            }
        }
          , X = function(e) {
            let {formattedPrice: t} = e;
            return (0,
            n.jsx)("div", {
                className: H().price_with_button_wrapper,
                children: (0,
                n.jsxs)("div", {
                    className: H().info_block,
                    children: [(0,
                    n.jsx)("div", {
                        className: H().info_block_value,
                        children: t
                    }), (0,
                    n.jsx)("div", {
                        className: H().info_block_value_total_cost,
                        children: "Total Cost"
                    })]
                })
            })
        };
        var J = i(98097);
        let Z = function(e) {
            let {buttonClass: t, buttonText: i, onClick: r, disabled: a=!1, logData: o} = e
              , {tAsString: s} = (0,
            d.Ay)()
              , c = (0,
            k.A)()
              , u = (0,
            l.useCallback)(e => {
                e.stopPropagation(),
                a || (o && c({
                    event: "AddFlightButtonClick",
                    data: {
                        flightItineraryId: o.flightItineraryId,
                        flightSearchId: o.flightSearchId,
                        legIndex: o.legIndex,
                        priceInEuros: o.priceInEuros
                    }
                }),
                null == r || r())
            }
            , [r, a, o, c]);
            return (0,
            n.jsxs)("div", {
                onClick: u,
                className: "flex items-center justify-center gap-1 h-8 px-3 py-2 text-xs font-medium leading-4 text-center bg-[#21BCBE] text-white rounded-md cursor-pointer whitespace-nowrap transition-colors duration-200 flex-1 hover:bg-[#1da6a9] md:px-3 md:py-1.5 md:text-sm md:min-h-8 ".concat(a ? "bg-[#6c757d] cursor-not-allowed opacity-60 hover:bg-[#6c757d]" : "", " ").concat(null != t ? t : ""),
                role: "button",
                "aria-label": null != i ? i : s("flights.card.addToTrip"),
                children: [null != i ? i : s("flights.card.addToTrip"), (0,
                n.jsx)(J.A, {
                    size: 12,
                    className: "text-white"
                })]
            })
        };
        var K = i(20005)
          , Q = i(62027)
          , $ = i(99621)
          , ee = i(27710);
        let et = function(e) {
            let {flightSearchId: t, onRemove: i, flightId: r} = e
              , {tAsString: a} = (0,
            d.Ay)()
              , o = (0,
            k.A)()
              , {showPopup: s, anchorEl: c, handleButtonClick: u, handleClosePopup: p} = (0,
            $.U)()
              , {removeFlight: v} = (0,
            U.y)()
              , _ = (0,
            l.useCallback)( () => {
                p(),
                o({
                    event: "RemoveTripFlight"
                }),
                null == v || v(t),
                null == i || i()
            }
            , [r, t, v, i, o, p]);
            return (0,
            n.jsxs)("span", {
                className: "relative",
                children: [(0,
                n.jsxs)("button", {
                    className: "flex items-center justify-between px-4 py-3 h-8 rounded-md bg-[#DCFCE7] text-[#22C55E] text-xs font-medium leading-4 tracking-[-0.32px] transition-all duration-300 w-full cursor-pointer focus-visible:ring-2 focus-visible:ring-[rgba(40,167,69,0.5)] focus-visible:outline-none md:px-2.5 md:py-1.5 md:text-sm md:min-h-8 md:gap-1",
                    onClick: u,
                    "aria-label": a("flights.card.addedToTrip"),
                    children: [(0,
                    n.jsxs)("span", {
                        className: "flex items-center gap-1 flex-1 justify-center",
                        children: [(0,
                        n.jsx)(K.A, {
                            strokeWidth: 1.5,
                            size: 16
                        }), (0,
                        n.jsx)("span", {
                            className: "whitespace-nowrap",
                            children: a("flights.card.addedToTrip")
                        })]
                    }), (0,
                    n.jsx)(Q.A, {
                        strokeWidth: 1.5,
                        size: 16,
                        className: "transition-transform duration-200 ease-in-out ".concat(s ? "rotate-180" : "")
                    })]
                }), (0,
                n.jsx)(ee.$, {
                    show: s,
                    onClose: p,
                    onRemove: _,
                    anchorEl: c
                })]
            })
        }
          , ei = function(e) {
            var t;
            let {flightItinerary: i, formattedPrice: l, shouldShowAddButton: r, shouldShowBookButton: o, isFlightSelected: s, handleAddFlight: c, handleFlightRemoved: u, flightSearchId: p, mockFlight: v} = e
              , {tAsString: _} = (0,
            d.Ay)()
              , m = W()
              , h = e => {
                if (!e)
                    return "";
                let t = C.c9.fromISO(e);
                if (t.isValid)
                    return t.toFormat("EEE, MMM d");
                let i = e.split(" ")[0];
                return C.c9.fromISO(i).toFormat("EEE, MMM d")
            }
            ;
            return (0,
            n.jsxs)("div", {
                className: H().skyscanner_layout,
                children: [(0,
                n.jsx)("div", {
                    className: H().flight_details_section,
                    children: null === (t = i.flights) || void 0 === t ? void 0 : t.map( (e, t) => {
                        var i, l;
                        let {flightDeparture: r, flightArrival: a, flightDepartureIata: o, flightArrivalIata: s, flightDuration: d, flightStops: c, carrierImage: u} = Y(e, m)
                          , p = null === (i = e.segments) || void 0 === i ? void 0 : i[0]
                          , v = null === (l = e.segments) || void 0 === l ? void 0 : l[e.segments.length - 1]
                          , g = (null == p ? void 0 : p.fromCityName) || o
                          , y = (null == v ? void 0 : v.toCityName) || s
                          , b = h(null == p ? void 0 : p.departureTime);
                        return (0,
                        n.jsxs)("div", {
                            className: H().flight_leg_container,
                            children: [(0,
                            n.jsxs)("div", {
                                className: H().flight_leg_header,
                                children: [(0,
                                n.jsxs)("span", {
                                    className: H().flight_leg_route,
                                    children: [g, (0,
                                    n.jsx)(V.A, {
                                        size: 12,
                                        strokeWidth: 2
                                    }), y]
                                }), (0,
                                n.jsx)("span", {
                                    className: H().flight_leg_date,
                                    children: b
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: H().flight_row,
                                children: [(0,
                                n.jsx)("div", {
                                    className: H().carrier_column,
                                    children: (0,
                                    n.jsx)(x, {
                                        imageUrl: u,
                                        alt: "flight-".concat(t + 1),
                                        fallbackText: R(e.carriers, 0)
                                    })
                                }), (0,
                                n.jsxs)("div", {
                                    className: H().time_column,
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: H().time_value,
                                        children: r
                                    }), (0,
                                    n.jsx)("div", {
                                        className: H().iata_code,
                                        children: o
                                    })]
                                }), (0,
                                n.jsxs)("div", {
                                    className: H().duration_stops_column,
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: H().duration_text,
                                        children: d
                                    }), (0,
                                    n.jsxs)("div", {
                                        className: H().stops_line_container,
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: H().stops_line
                                        }), (0,
                                        n.jsx)("div", {
                                            className: H().stops_line_dots,
                                            children: Array.from({
                                                length: c
                                            }, (e, t) => (0,
                                            n.jsx)("span", {
                                                className: H().stop_dot,
                                                children: "•"
                                            }, t))
                                        }), (0,
                                        n.jsx)("span", {
                                            className: H().plane_icon,
                                            children: (0,
                                            n.jsx)(f(), {
                                                src: "/plane.svg",
                                                alt: _("agent.flight.flight"),
                                                height: 16,
                                                width: 16
                                            })
                                        })]
                                    }), (0,
                                    n.jsx)("div", {
                                        className: H().stops_text,
                                        children: 0 === c ? _("topicPage.chatSection.cards.flightTypes.nonStop") : 1 === c ? _("topicPage.chatSection.cards.flightTypes.oneStop") : _("topicPage.chatSection.cards.flightTypes.nthStops", {
                                            count: c
                                        })
                                    })]
                                }), (0,
                                n.jsxs)("div", {
                                    className: H().time_column,
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: H().time_value,
                                        children: a
                                    }), (0,
                                    n.jsx)("div", {
                                        className: H().iata_code,
                                        children: s
                                    })]
                                })]
                            })]
                        }, t)
                    }
                    )
                }), (0,
                n.jsxs)("div", {
                    className: H().price_section,
                    children: [(0,
                    n.jsx)(X, {
                        formattedPrice: l
                    }), (0,
                    n.jsxs)("div", {
                        className: H().buttons_container,
                        children: [o && i.deepLink && (0,
                        n.jsx)("div", {
                            className: H().book_button,
                            children: (0,
                            n.jsx)(L, {
                                url: (0,
                                a.LC)(i.deepLink),
                                flight: v
                            })
                        }), r && !s && (0,
                        n.jsx)("div", {
                            className: H().action_button,
                            children: (0,
                            n.jsx)(Z, {
                                onClick: c,
                                logData: {
                                    flightItineraryId: i.id,
                                    flightSearchId: p,
                                    priceInEuros: i.price
                                }
                            })
                        }), r && s && p && (0,
                        n.jsx)("div", {
                            className: H().action_button,
                            children: (0,
                            n.jsx)(et, {
                                flightSearchId: p,
                                flightId: i.id,
                                onRemove: u
                            })
                        })]
                    })]
                })]
            })
        };
        var en = i(32942)
          , el = i(72111);
        function er(e) {
            var t, i;
            let {flightItinerary: r, onClick: a, onFlightAdded: o, onFlightRemoved: s} = e
              , {tAsString: u} = (0,
            d.Ay)()
              , {addFlight: p, getSelectedLegRoute: v} = (0,
            U.y)()
              , {navigationState: _} = (0,
            q.Pd)()
              , {trip: m} = (0,
            z.f)()
              , h = null == m ? void 0 : m.flightSearchId
              , [g,f] = (0,
            l.useState)(!1)
              , {formattedPrice: x} = (0,
            c.A)((null == r ? void 0 : r.price) || 0, "EUR", void 0, !0)
              , j = (0,
            l.useMemo)( () => {
                var e;
                return !!(null == r ? void 0 : null === (e = r.tags) || void 0 === e ? void 0 : e[0])
            }
            , [null == r ? void 0 : r.tags])
              , w = (0,
            l.useMemo)( () => !!(null == r ? void 0 : r.deepLink), [null == r ? void 0 : r.deepLink])
              , A = (0,
            l.useMemo)( () => {
                var e;
                return null !== (e = _.originalLegIndex) && void 0 !== e ? e : null
            }
            , [_.originalLegIndex])
              , I = (0,
            l.useMemo)( () => {
                var e, t;
                if (null === A)
                    return null;
                let i = v(A);
                if (!i)
                    return null;
                let n = null === (e = i.option) || void 0 === e ? void 0 : e.find(e => e.details && e.details.id);
                return (null == n ? void 0 : null === (t = n.details) || void 0 === t ? void 0 : t.id) || null
            }
            , [A, v])
              , C = (0,
            l.useMemo)( () => (null == m ? void 0 : m.flightSearchId) && (null == m ? void 0 : m.selectedFlightSearchId) ? m.selectedFlightSearchId === r.id : !!I && !!r.id && I === r.id, [null == m ? void 0 : m.flightSearchId, null == m ? void 0 : m.selectedFlightSearchId, r.id, I])
              , N = !!r.id
              , T = w && (null == r ? void 0 : r.deepLink)
              , k = (0,
            l.useCallback)(async () => {
                h && r.id && (await p(h, r.id),
                null == o || o())
            }
            , [h, r, o, p])
              , S = (0,
            l.useCallback)( () => {
                null == s || s()
            }
            , [s])
              , R = (0,
            l.useMemo)( () => {
                var e, t, i, n, l, a, o, s, d, c;
                let u = null === (i = r.flights) || void 0 === i ? void 0 : null === (t = i[0]) || void 0 === t ? void 0 : null === (e = t.segments) || void 0 === e ? void 0 : e[0]
                  , p = null === (a = r.flights) || void 0 === a ? void 0 : null === (l = a[r.flights.length - 1]) || void 0 === l ? void 0 : null === (n = l.segments) || void 0 === n ? void 0 : n.slice(-1)[0];
                return {
                    fromIata: (null == u ? void 0 : u.fromIata) || "",
                    toIata: (null == p ? void 0 : p.toIata) || "",
                    priceInEuros: null !== (c = null !== (d = r.price) && void 0 !== d ? d : null === (s = r.flights) || void 0 === s ? void 0 : null === (o = s[0]) || void 0 === o ? void 0 : o.priceInEuros) && void 0 !== c ? c : 0
                }
            }
            , [r]);
            return (0,
            n.jsxs)("div", {
                className: H().container,
                onClick: a,
                children: [j && (0,
                n.jsx)("div", {
                    className: H().tags_container,
                    children: null === (t = r.tags) || void 0 === t ? void 0 : t.map(e => (0,
                    n.jsx)(P, {
                        tag: e
                    }, e))
                }), (0,
                n.jsxs)("div", {
                    className: C ? H().flight_and_buttons_selected : H().flight_and_buttons,
                    children: [(0,
                    n.jsx)(el.$, {
                        variant: "ghost",
                        size: "icon",
                        className: H().chevron_button,
                        onClick: e => {
                            e.stopPropagation(),
                            f(!g)
                        }
                        ,
                        "aria-label": g ? "Collapse flight details" : "Expand flight details",
                        children: g ? (0,
                        n.jsx)(en.A, {
                            size: 20
                        }) : (0,
                        n.jsx)(Q.A, {
                            size: 20
                        })
                    }), (0,
                    n.jsxs)(n.Fragment, {
                        children: [(0,
                        n.jsx)("div", {
                            className: "".concat(H().flight, " ").concat(g ? H().flightExpanded : ""),
                            children: (0,
                            n.jsx)("div", {
                                className: H().info,
                                children: (0,
                                n.jsx)(ei, {
                                    flightItinerary: r,
                                    formattedPrice: x,
                                    shouldShowAddButton: N,
                                    shouldShowBookButton: T,
                                    isFlightSelected: C,
                                    handleAddFlight: k,
                                    handleFlightRemoved: S,
                                    flightSearchId: h,
                                    mockFlight: R
                                })
                            })
                        }), g && (0,
                        n.jsx)("div", {
                            className: H().flight_info,
                            children: null === (i = r.flights) || void 0 === i ? void 0 : i.map( (e, t) => {
                                var i, l, r, a, o, s, d, c;
                                let p = null === (i = e.segments) || void 0 === i ? void 0 : i[0]
                                  , v = null === (l = e.segments) || void 0 === l ? void 0 : l[e.segments.length - 1]
                                  , _ = {
                                    ...e,
                                    fromCity: (null == p ? void 0 : p.fromCityName) || (null == p ? void 0 : p.fromIata) || "",
                                    toCity: (null == v ? void 0 : v.toCityName) || (null == v ? void 0 : v.toIata) || "",
                                    fromIata: (null == p ? void 0 : p.fromIata) || "",
                                    toIata: (null == v ? void 0 : v.toIata) || "",
                                    departureStartTime: (null == p ? void 0 : p.departureTime) || "",
                                    duration: G(e.durationInMinutes),
                                    departureDate: (null !== (s = e.departureStartTime) && void 0 !== s ? s : null == p ? void 0 : p.departureTime) ? (0,
                                    y.z_)(null !== (d = e.departureStartTime) && void 0 !== d ? d : null == p ? void 0 : p.departureTime) : void 0,
                                    stops: e.stops || (null !== (c = null === (r = e.segments) || void 0 === r ? void 0 : r.length) && void 0 !== c ? c : 1) - 1
                                }
                                  , m = (null === (o = _.carriers) || void 0 === o ? void 0 : null === (a = o[0]) || void 0 === a ? void 0 : a.name) || ""
                                  , h = 0 === e.stops ? "Non-stop" : 1 === _.stops ? "1 stop" : "".concat(_.stops, " stops");
                                return (0,
                                n.jsxs)("div", {
                                    className: H().flight_card,
                                    children: [(0,
                                    n.jsxs)("div", {
                                        className: H().flight_card_header,
                                        children: [(0,
                                        n.jsxs)("div", {
                                            className: H().flight_number,
                                            children: [u("agent.flight.flight"), " ", t + 1]
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: H().flight_route,
                                            children: [(null == _ ? void 0 : _.fromCity) || (null == _ ? void 0 : _.fromIata), " →", " ", (null == _ ? void 0 : _.toCity) || (null == _ ? void 0 : _.toIata)]
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: H().flight_meta,
                                            children: [(0,
                                            y.z_)(null == p ? void 0 : p.departureTime), " • ", _.duration, " • ", m, " ", "• ", h]
                                        })]
                                    }), (0,
                                    n.jsx)(b, {
                                        expandedInfo: !0,
                                        flightDetails: _,
                                        isFlight: !0,
                                        transportDetails: void 0,
                                        isLivePrice: !0,
                                        isRightSidePanelExpanded: !1
                                    })]
                                }, t)
                            }
                            )
                        })]
                    })]
                })]
            })
        }
        var ea = i(17843)
          , eo = i(8020)
          , es = i.n(eo)
          , ed = i(49720)
          , ec = i(18584)
          , eu = i(81613)
          , ep = i.n(eu)
          , ev = i(70510)
          , e_ = i(50211)
          , em = i(30596)
          , eh = i(3058)
          , eg = i(30775)
          , ef = i.n(eg)
          , ex = i(13365);
        let ey = e => {
            var t;
            let {hotel: i, onClose: r} = e
              , a = (0,
            ex.A)("(max-width:1000px)")
              , {isMobile: o} = (0,
            ec.U)()
              , [s,d] = (0,
            l.useState)(!1)
              , [,c] = (0,
            l.useState)(null)
              , [u,p] = (0,
            l.useState)(null)
              , v = null !== (t = i.photos) && void 0 !== t ? t : []
              , _ = e => {
                if (!a) {
                    d(!0),
                    c(e);
                    let t = [...v]
                      , i = t.splice(e, 1);
                    t.unshift(i[0]),
                    p(t)
                }
            }
            ;
            return (0,
            n.jsxs)("div", {
                className: "".concat(ef().wrapped),
                children: [(0,
                n.jsxs)("div", {
                    className: ef().block_header,
                    children: [s ? (0,
                    n.jsx)("div", {
                        className: ef().close_button,
                        onClick: () => {
                            d(!1),
                            c(null)
                        }
                        ,
                        children: (0,
                        n.jsx)(h.A, {
                            src: "/arrow-back-dark.svg",
                            alt: "close window",
                            width: 24,
                            height: 24
                        })
                    }) : (0,
                    n.jsx)("div", {
                        className: ef().close_button,
                        onClick: r,
                        children: (0,
                        n.jsx)(h.A, {
                            src: "/cross.svg",
                            alt: "close window",
                            width: 24,
                            height: 24
                        })
                    }), (0,
                    n.jsx)("div", {
                        className: ef().block_name_hotel,
                        children: i.name
                    })]
                }), !s && (0,
                n.jsx)("div", {
                    className: ef().block_photo,
                    children: (0,
                    n.jsx)("div", {
                        className: ef().photos_grid,
                        children: v && v.map( (e, t) => (0,
                        n.jsx)(h.A, {
                            src: e.replace("max500", "max1000"),
                            alt: "photo",
                            width: 1e3,
                            height: 1e3,
                            className: ef().gallery__item,
                            onClick: () => _(t)
                        }, t))
                    })
                }), s && !a && (0,
                n.jsx)("div", {
                    className: ef().block_photo,
                    children: (0,
                    n.jsx)(e_.A, {
                        hideButtons: o,
                        controlsStyle: "white",
                        children: null == u ? void 0 : u.map( (e, t) => (0,
                        n.jsx)(h.A, {
                            src: e.replace("max500", "max2000"),
                            alt: "photo",
                            width: 1e3,
                            height: 1e3,
                            className: ef().full_image
                        }, t))
                    })
                })]
            })
        }
        ;
        var eb = i(44697)
          , ej = i(85999)
          , ew = i.n(ej)
          , eA = i(13816)
          , eI = i(85436);
        let eC = (0,
        l.memo)(e => {
            let {hotel: t, matchScore: i, isVisible: r, showExpand: a, forceCompactLayout: o} = e
              , {tAsString: s} = (0,
            d.Ay)()
              , {isMobile: c} = (0,
            ec.U)()
              , [u,p] = (0,
            l.useState)(0)
              , [v,m] = (0,
            l.useState)(!1)
              , g = (0,
            l.useMemo)( () => {
                var e, i;
                return [...null !== (e = t.videos) && void 0 !== e ? e : [], ...null !== (i = t.photos) && void 0 !== i ? i : []]
            }
            , [t.videos, t.photos])
              , f = (0,
            l.useRef)(null)
              , x = i && i > 0 && i <= 100 ? Math.round(i) : 0
              , y = e => {
                e.stopPropagation(),
                m(!1)
            }
              , b = (0,
            _.A)(ew().container, {
                [ew().compact_container]: o
            })
              , j = (0,
            _.A)(ew().match, {
                [ew().compact_match]: o
            });
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)(em.A, {
                    open: v,
                    onClose: y,
                    children: (0,
                    n.jsx)(eh.A, {
                        className: ew().galerry_popup_container,
                        role: "presentation",
                        children: (0,
                        n.jsx)(ey, {
                            hotel: t,
                            onClose: y
                        })
                    })
                }), (0,
                n.jsxs)("div", {
                    className: b,
                    children: [x > 0 && (0,
                    n.jsx)("div", {
                        className: j,
                        children: "".concat(x, "% ").concat(s("hotels.match"))
                    }), !a && (0,
                    n.jsx)("div", {
                        className: ew().gallery,
                        onClick: e => {
                            e.stopPropagation(),
                            t.reviews && t.facilitiesIds && m(!0)
                        }
                        ,
                        children: (0,
                        n.jsx)(h.A, {
                            src: ev.A,
                            alt: "maximize-icon",
                            width: 16,
                            height: 16,
                            style: {
                                objectFit: "contain",
                                cursor: "pointer"
                            }
                        })
                    }), (0,
                    n.jsx)(eA.Af, {
                        strategy: "center",
                        scrollRef: f,
                        children: (0,
                        n.jsx)(e_.A, {
                            onItemChange: e => {
                                p(e)
                            }
                            ,
                            controlsStyle: "white",
                            sizeArrowButton: c ? void 0 : 24,
                            hideButtons: c,
                            ref: f,
                            children: g.map( (e, i) => {
                                var l;
                                let a = null !== (l = t.videos) && void 0 !== l ? l : []
                                  , o = i < a.length ? e : null
                                  , s = i >= a.length ? e : null
                                  , d = s && s.replace("max500", "max1000")
                                  , c = o ? "video-".concat(o.id || i) : "photo-".concat(s || i);
                                return (0,
                                n.jsxs)("div", {
                                    className: ew().carousel_item,
                                    children: [o && (0,
                                    n.jsx)(eb.HLSVideoPlayer, {
                                        videoUrl: o.m3u8Url || o.mp4Url,
                                        autoPlay: i === u && r,
                                        className: ew().video,
                                        poster: o.thumbnailUrl,
                                        preload: "none",
                                        video: o
                                    }), s && (0,
                                    n.jsx)(h.A, {
                                        className: ew().image,
                                        src: d || s,
                                        alt: "".concat(t.name, " - Hotel image"),
                                        width: 320,
                                        height: 370,
                                        style: {
                                            objectFit: "cover",
                                            width: "100%",
                                            height: "100%"
                                        },
                                        loading: i === u ? "eager" : "lazy",
                                        onError: e => {
                                            let {currentTarget: t} = e;
                                            t.onerror = null,
                                            t.src = eI.A.src
                                        }
                                    })]
                                }, c)
                            }
                            )
                        })
                    })]
                })]
            })
        }
        , (e, t) => e.matchScore === t.matchScore && e.isVisible === t.isVisible && e.showExpand === t.showExpand && e.forceCompactLayout === t.forceCompactLayout && JSON.stringify(e.hotel.videos) === JSON.stringify(t.hotel.videos) && JSON.stringify(e.hotel.photos) === JSON.stringify(t.hotel.photos) && e.hotel.id === t.hotel.id && e.hotel.reviews === t.hotel.reviews && e.hotel.facilitiesIds === t.hotel.facilitiesIds);
        var eN = i(49687)
          , eT = i(14953)
          , ek = i.n(eT);
        let eS = ek()( () => i.e(3901).then(i.bind(i, 76282)), {
            loadableGenerated: {
                webpack: () => [76282]
            },
            ssr: !1
        })
          , eR = ek()( () => Promise.all([i.e(6679), i.e(7944), i.e(3303), i.e(3271)]).then(i.bind(i, 33271)), {
            loadableGenerated: {
                webpack: () => [33271]
            },
            ssr: !1
        })
          , eE = e => {
            let {hotel: t, bookingSearchRequest: i, isVisible: r, relevantHotelFacilities: a, onHotelClick: o, onAddHotelClick: s, onHotelHover: d, onHotelLeave: c, forceCompactLayout: u, useEnhancedDesign: p=!1} = e
              , v = (0,
            k.A)()
              , [m,h] = (0,
            l.useState)(!1)
              , [g,f] = (0,
            l.useState)(!1)
              , x = () => {
                h(!1)
            }
              , y = function() {
                let e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                v({
                    event: "HotelPageOpenPopupClick",
                    data: {
                        hotelId: t.id
                    }
                }),
                o ? o(t) : (f(e),
                h(!0))
            }
              , b = (0,
            _.A)(ep().container, {
                [ep().compact_container]: u
            })
              , j = (0,
            _.A)(ep().hotel_card, {
                [ep().compact_hotel_card]: u
            })
              , w = (0,
            _.A)(ep().info, {
                [ep().compact_info]: u
            })
              , A = (0,
            n.jsxs)("div", {
                onClick: () => y(),
                onMouseEnter: () => null == d ? void 0 : d(t.id),
                onMouseLeave: () => null == c ? void 0 : c(),
                className: j,
                children: [(0,
                n.jsx)(eC, {
                    hotel: t,
                    matchScore: t.matchScore,
                    isVisible: r,
                    showExpand: !0,
                    forceCompactLayout: u
                }), (0,
                n.jsx)("div", {
                    className: w,
                    children: (0,
                    n.jsx)(eN.A, {
                        onAddHotelClick: s,
                        onHotelClick: o,
                        onReviewSectionClick: () => {
                            y(!0)
                        }
                        ,
                        hotel: t,
                        bookingSearchRequest: i,
                        forceCompactLayout: u,
                        showTags: !0,
                        useEnhancedDesign: p
                    })
                })]
            });
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("div", {
                    className: b,
                    children: A
                }), m && (0,
                n.jsx)(eS, {
                    open: m,
                    onClose: x,
                    className: ep().popup_container,
                    children: (0,
                    n.jsx)("div", {
                        className: ep().popup_wrapper,
                        children: (0,
                        n.jsx)(eR, {
                            scrollToReview: g,
                            onClose: x,
                            currentHotel: t,
                            hotelUrl: t.url,
                            bookingSearchRequest: i,
                            relevantHotelFacilities: a,
                            showDiscountButton: !1,
                            sourceContext: "hotel-search",
                            hideAddHotelToTrip: !0
                        })
                    })
                })]
            })
        }
        ;
        var eP = i(31924)
          , eD = i.n(eP)
          , eM = i(44554)
          , eL = i(81445);
        let eO = e => {
            let {data: t, hotelsFacilities: i, onHotelClick: r, onAddHotelClick: a, onHotelHover: o, onHotelLeave: s, eventForBookingLabel: d, forceCompactLayout: c, useEnhancedDesign: u=!1} = e
              , {isMobile: p} = (0,
            ec.U)()
              , {debug: v} = t
              , {bookingSearchRequest: _} = v
              , h = (0,
            l.useRef)([])
              , [g,f] = (0,
            l.useState)([])
              , {loadRelevance: x, relevanceLoadingBulk: y, setEventForBookingLabel: b, hotels: j, hotelsMap: w} = (0,
            ea.I)()
              , A = (0,
            l.useRef)(null)
              , I = (0,
            l.useRef)(0)
              , C = (0,
            l.useMemo)( () => {
                let e;
                if (t.hotels && 1 === Object.keys(t.hotels).length) {
                    let i = Object.values(t.hotels)[0]
                      , n = Object.values(w).find(e => e && e.id === (null == i ? void 0 : i.id));
                    e = n ? [{
                        ...i,
                        ...n
                    }] : [i]
                } else
                    e = t.hotels && (!j || 0 === j.length) ? Object.values(t.hotels).filter(e => e && e.id && e.name && e.url) : j;
                return e
            }
            , [t.hotels, j, w]);
            (0,
            l.useEffect)( () => {
                let e = A.current;
                if (p || !e)
                    return;
                let t = (0,
                eL.A)(e => {
                    for (let t = 0; t < e.length; t++) {
                        let {width: i} = e[t].contentRect;
                        I.current = i
                    }
                }
                , 100)
                  , i = 0
                  , n = new ResizeObserver(e => {
                    cancelAnimationFrame(i),
                    i = requestAnimationFrame( () => t(e))
                }
                );
                return n.observe(e),
                () => {
                    e && (cancelAnimationFrame(i),
                    n.disconnect())
                }
            }
            , [A, p]);
            let N = (0,
            l.useCallback)( (e, t) => {
                t ? h.current.includes(e) || h.current.push(e) : h.current = h.current.filter(t => t !== e);
                let i = h.current.sort( (e, t) => e - t)
                  , n = Math.floor(I.current / 316);
                n <= 0 && (n = 1);
                let l = i.length > 0 ? i.slice(0, Math.min(i.length, n)) : [];
                (0,
                m.Sj)(l, g) || f(l)
            }
            , [g]);
            return (0,
            l.useEffect)( () => {
                b(null != d ? d : "ChatHotelSearch")
            }
            , []),
            (0,
            n.jsx)("div", {
                className: eD().container,
                ref: A,
                children: C.map( (e, t) => {
                    let l = e.relevantFacilitiesIds && e.relevantFacilitiesIds.length >= 5 ? e.relevantFacilitiesIds : e.facilitiesIds && e.facilitiesIds.length >= 5 ? e.facilitiesIds : []
                      , d = (0,
                    eM.NC)(l, i)
                      , p = t;
                    if (1 === C.length && e.id) {
                        let t = Object.entries(w).findIndex(t => {
                            let[,i] = t;
                            return i && i.id === e.id
                        }
                        );
                        -1 !== t && (p = t)
                    }
                    return (0,
                    n.jsxs)("div", {
                        id: "hotel-".concat(e.id.toString()),
                        style: {
                            width: "100%"
                        },
                        children: [(0,
                        n.jsx)(ed.A, {
                            onInView: () => p % y == 0 ? x(p) : null,
                            onVisibleChange: e => N(t, e)
                        }), (0,
                        n.jsx)(eE, {
                            hotel: e,
                            bookingSearchRequest: _,
                            isVisible: g.includes(t),
                            relevantHotelFacilities: d,
                            onHotelClick: r,
                            onAddHotelClick: a,
                            onHotelHover: o,
                            onHotelLeave: s,
                            forceCompactLayout: c,
                            useEnhancedDesign: u
                        })]
                    }, "hotel-".concat(e.id.toString()))
                }
                )
            })
        }
        ;
        var eF = i(79640);
        let eB = e => {
            let {data: t, isRightPanelExpanded: i, onClose: r, forceCompactLayout: a, disableInternalScrolling: o, onItemHover: s, onItemClick: c, toggleExpandSidePanel: u} = e
              , p = (0,
            k.A)()
              , {hotelsFacilities: v} = (0,
            ea.I)()
              , {tAsString: m} = (0,
            d.Ay)()
              , {isMobile: h} = (0,
            ec.U)()
              , {sendMessage: g} = (0,
            eF.Y)()
              , {setListenFirebase: f} = (0,
            ea.I)()
              , x = (0,
            l.useRef)(null);
            (0,
            l.useEffect)( () => {
                let e = x.current;
                if (!e)
                    return;
                let t = () => {
                    f(!0),
                    null == e || e.removeEventListener("scroll", t)
                }
                ;
                return null == e || e.addEventListener("scroll", t),
                () => null == e ? void 0 : e.removeEventListener("scroll", t)
            }
            , []);
            let y = (0,
            _.A)(es().container, {
                [es().align_start]: i && !h
            })
              , b = o && h ? {
                overflow: "visible",
                overflowY: "visible",
                maxHeight: "none",
                height: "auto"
            } : {}
              , j = (0,
            l.useCallback)(e => {
                g(m("hotels.card.addHotelMessage", {
                    hotelName: e.name
                })),
                h ? null == r || r() : null == u || u("close")
            }
            , [g, m, h, r, u]);
            return (0,
            n.jsx)("div", {
                className: y,
                style: b,
                children: (0,
                n.jsx)("div", {
                    ref: x,
                    children: (0,
                    n.jsx)(eO, {
                        data: t,
                        hotelsFacilities: null != v ? v : void 0,
                        onHotelClick: e => {
                            p({
                                event: "HotelClick",
                                data: {
                                    booking_url: e.url,
                                    hotelId: e.id
                                }
                            });
                            let i = Object.entries(t.hotels).find(t => {
                                let[,i] = t;
                                return i.id === e.id
                            }
                            );
                            if (i && c) {
                                let[e,n] = i;
                                c({
                                    ...t,
                                    hotels: {
                                        [e]: n
                                    }
                                })
                            }
                        }
                        ,
                        onAddHotelClick: j,
                        forceCompactLayout: a,
                        onHotelHover: e => null == s ? void 0 : s(e),
                        onHotelLeave: () => null == s ? void 0 : s(void 0)
                    }, t.id)
                })
            })
        }
        ;
        var eH = i(22769)
          , eU = i(68647)
          , ez = i(49688)
          , eq = i.n(ez);
        function eV(e) {
            let {count: t=3} = e;
            return (0,
            n.jsx)("div", {
                className: eq().skeleton_container,
                children: Array.from({
                    length: t
                }).map( (e, t) => (0,
                n.jsx)(eW, {}, t))
            })
        }
        function eW() {
            return (0,
            n.jsxs)("div", {
                className: eq().flight_card_skeleton,
                children: [(0,
                n.jsxs)("div", {
                    className: eq().card_content,
                    children: [(0,
                    n.jsx)("div", {
                        className: eq().card_header,
                        children: (0,
                        n.jsxs)("div", {
                            className: eq().carrier_section,
                            children: [(0,
                            n.jsx)(eU.A, {
                                variant: "rectangular",
                                width: 74,
                                height: 30,
                                style: {
                                    borderRadius: "8px"
                                }
                            }), (0,
                            n.jsx)(eU.A, {
                                variant: "rectangular",
                                width: 62,
                                height: 30,
                                style: {
                                    borderRadius: "8px"
                                }
                            })]
                        })
                    }), (0,
                    n.jsxs)("div", {
                        children: [(0,
                        n.jsx)(eU.A, {
                            variant: "text",
                            width: "100%",
                            height: 22,
                            style: {
                                borderRadius: "12px"
                            }
                        }), (0,
                        n.jsx)(eU.A, {
                            variant: "text",
                            width: "100%",
                            height: 22,
                            style: {
                                borderRadius: "12px"
                            }
                        })]
                    }), (0,
                    n.jsx)(eU.A, {
                        variant: "rectangular",
                        width: "100%",
                        height: 72,
                        style: {
                            borderRadius: "12px"
                        }
                    })]
                }), (0,
                n.jsx)("div", {
                    className: eq().card_footer,
                    children: (0,
                    n.jsx)(eU.A, {
                        variant: "rectangular",
                        width: 125,
                        height: 32,
                        style: {
                            borderRadius: "37px"
                        }
                    })
                })]
            })
        }
        var eG = i(10672)
          , eY = i.n(eG);
        let eX = e => {
            let {count: t=4, isRightPanelExpanded: i=!1} = e;
            return (0,
            n.jsx)("div", {
                className: eY().container,
                children: (0,
                n.jsx)("div", {
                    className: i ? eY().skeletonGrid : eY().skeletonColumn,
                    children: Array.from({
                        length: t
                    }).map( (e, t) => (0,
                    n.jsxs)("div", {
                        className: eY().skeletonCard,
                        children: [(0,
                        n.jsx)("div", {
                            className: eY().skeletonBackground
                        }), (0,
                        n.jsxs)("div", {
                            className: eY().skeletonOverlay,
                            children: [(0,
                            n.jsxs)("div", {
                                className: eY().topContent,
                                children: [(0,
                                n.jsxs)("div", {
                                    className: eY().userInfo,
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: eY().userAvatar
                                    }), (0,
                                    n.jsx)("div", {
                                        className: eY().userName
                                    })]
                                }), (0,
                                n.jsx)("div", {
                                    className: eY().soundIcon
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: eY().bottomContent,
                                children: [(0,
                                n.jsx)("div", {
                                    className: eY().locationTitle
                                }), (0,
                                n.jsxs)("div", {
                                    className: eY().infoRow,
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: eY().dateBadge
                                    }), (0,
                                    n.jsx)("div", {
                                        className: eY().weatherBadge
                                    }), (0,
                                    n.jsx)("div", {
                                        className: eY().priceBadge
                                    })]
                                }), (0,
                                n.jsx)("div", {
                                    className: eY().buildTripButton
                                })]
                            })]
                        })]
                    }, t))
                })
            })
        }
        ;
        var eJ = i(56352)
          , eZ = i(72075)
          , eK = i.n(eZ);
        let eQ = e => {
            let {carRental: t} = e
              , {tAsString: i} = (0,
            d.Ay)()
              , [r,a] = (0,
            l.useState)(!1)
              , o = t.carImageUrl && "" !== t.carImageUrl.trim()
              , s = t.car || i("carRental.carRentalAlt");
            return !o || r ? (0,
            n.jsx)("div", {
                className: eK().car_image_container,
                children: (0,
                n.jsx)("div", {
                    className: eK().car_image_placeholder,
                    children: (0,
                    n.jsx)("span", {
                        className: eK().placeholder_text,
                        children: "\uD83D\uDE97"
                    })
                })
            }) : (0,
            n.jsxs)("div", {
                className: eK().car_image_container,
                children: [(0,
                n.jsx)(f(), {
                    src: t.carImageUrl,
                    alt: s,
                    fill: !0,
                    className: eK().car_image,
                    onError: () => a(!0)
                }), (0,
                n.jsx)(f(), {
                    src: t.supplierImageUrl,
                    alt: t.supplier,
                    width: 60,
                    height: 60,
                    className: eK().supplier_image,
                    onError: () => a(!0)
                })]
            })
        }
        ;
        var e$ = i(28031)
          , e0 = i.n(e$);
        let e1 = e => {
            let {carRental: t} = e
              , {tAsString: i} = (0,
            d.Ay)();
            return (0,
            n.jsxs)("div", {
                className: e0().car_header,
                children: [(0,
                n.jsx)("h3", {
                    className: e0().car_name,
                    children: t.car
                }), (0,
                n.jsxs)("p", {
                    className: e0().car_category,
                    children: [i("carRental.orSimilar"), " ", t.carType]
                })]
            })
        }
        ;
        var e2 = i(79899)
          , e4 = i(20763)
          , e5 = i.n(e4);
        let e8 = e => {
            let {carRental: t} = e
              , {tAsString: i} = (0,
            d.Ay)();
            return (0,
            n.jsxs)("div", {
                className: e5().features,
                children: [(0,
                n.jsxs)("div", {
                    className: e5().feature_item,
                    children: [(0,
                    n.jsx)(e2.A, {
                        className: e5().checkmark,
                        fontSize: "small"
                    }), (0,
                    n.jsxs)("span", {
                        children: [i("carRental.pickUpLocation"), ":"]
                    }), (0,
                    n.jsx)("span", {
                        children: t.pickUpLocation
                    })]
                }, t.pickUpLocation), (0,
                n.jsxs)("div", {
                    className: e5().feature_item,
                    children: [(0,
                    n.jsx)(e2.A, {
                        className: e5().checkmark,
                        fontSize: "small"
                    }), (0,
                    n.jsxs)("span", {
                        children: [i("carRental.dropOffLocation"), ":"]
                    }), (0,
                    n.jsx)("span", {
                        children: t.dropOffLocation
                    })]
                }, t.dropOffLocation)]
            })
        }
        ;
        var e6 = i(57559)
          , e9 = i(42037)
          , e3 = i.n(e9);
        let e7 = e => {
            var t, i;
            let {carRental: l, onAddToChat: r, showButtons: a=!0} = e
              , {tAsString: o} = (0,
            d.Ay)()
              , s = (null === (i = (0,
            e6.H)(o)[(null === (t = l.currency) || void 0 === t ? void 0 : t.toLowerCase()) || "eur"]) || void 0 === i ? void 0 : i.symbol) || "€";
            return (0,
            n.jsxs)("div", {
                className: e3().car_pricing,
                children: [(0,
                n.jsxs)("div", {
                    className: e3().price,
                    children: [(0,
                    n.jsx)("span", {
                        className: e3().price_label,
                        children: o("carRental.total")
                    }), (0,
                    n.jsxs)("span", {
                        className: e3().price_amount,
                        children: [s, l.price]
                    })]
                }), a && (0,
                n.jsx)("div", {
                    className: e3().buttons,
                    children: (0,
                    n.jsx)("button", {
                        className: e3().view_deal_button,
                        onClick: e => {
                            e.stopPropagation(),
                            window.open(l.deepLinkUrl, "_blank")
                        }
                        ,
                        children: o("carRental.viewDeal")
                    })
                })]
            })
        }
        ;
        var te = i(97435)
          , tt = i.n(te);
        let ti = e => {
            let {carRental: t, onAddToChat: i, onItemClick: l} = e;
            return (0,
            n.jsx)("div", {
                className: tt().car_card,
                onClick: () => {
                    l(t)
                }
                ,
                children: (0,
                n.jsxs)("div", {
                    className: tt().car_content,
                    children: [(0,
                    n.jsx)(eQ, {
                        carRental: t
                    }), (0,
                    n.jsxs)("div", {
                        className: tt().car_details,
                        children: [(0,
                        n.jsx)(e1, {
                            carRental: t
                        }), (0,
                        n.jsx)(e8, {
                            carRental: t
                        }), (0,
                        n.jsx)(e7, {
                            carRental: t,
                            onAddToChat: i
                        })]
                    })]
                })
            })
        }
        ;
        var tn = i(31844)
          , tl = i.n(tn);
        let tr = e => {
            let {carRentals: t, onAddToChat: i, onItemClick: l} = e;
            return (0,
            n.jsx)("div", {
                className: tl().car_rental_list,
                children: t.map(e => (0,
                n.jsx)(ti, {
                    carRental: e,
                    onAddToChat: i,
                    onItemClick: l
                }, e.id))
            })
        }
        ;
        var ta = i(36647)
          , to = i(73356)
          , ts = i.n(to);
        let td = e => {
            let {onHotelDataUpdate: t} = e
              , {hotelsMap: i} = (0,
            ea.I)()
              , n = (0,
            l.useMemo)( () => {
                let e = Object.entries(i).filter(e => {
                    let[,t] = e;
                    return t && t.id && void 0 !== t.matchScore
                }
                );
                return 0 === e.length ? null : Object.fromEntries(e)
            }
            , [i])
              , r = (0,
            l.useRef)(null);
            return (0,
            l.useEffect)( () => {
                n && JSON.stringify(r.current) !== JSON.stringify(n) && (r.current = n,
                null == t || t(n))
            }
            , [n, t]),
            null
        }
          , tc = e => {
            var t, i;
            let {entity: a, results: o, isLoading: s, compactContainer: c, onSearchResultItemClick: u, onAddSearchResultItemToChatClick: p, isRightPanelExpanded: v, onClose: _, startFireBaseStreamForHotels: m, selectedMarkerId: h, onItemHover: g, onHotelDataUpdate: f, globalMuteState: x, onGlobalMuteChange: y, toggleExpandSidePanel: b, selectedDestinationIds: j, onDestinationSelect: w, isDestinationMultiSelectMode: A, groupByCountry: I=!1, onEmblaApiChange: C} = e
              , {tAsString: N} = (0,
            d.Ay)()
              , {trip: T} = (0,
            z.f)()
              , k = (0,
            l.useCallback)(e => {
                let t = null == T ? void 0 : T.selectedFlightSearchId;
                return t ? [...e].sort( (e, i) => e.id === t ? -1 : i.id === t ? 1 : 0) : e
            }
            , [null == T ? void 0 : T.selectedFlightSearchId])
              , S = e => {
                switch (a) {
                case "destinations":
                    return e.id || e.placeId;
                case "activities":
                case "hotels":
                case "carRentals":
                    return e.id;
                case "flights":
                case "flightItineraries":
                    if ("carriers"in e)
                        return "".concat(e.fromCity, "-").concat(e.toCity, "-").concat(e.departureDate || "unknown");
                    return e.id;
                default:
                    return "unknown"
                }
            }
              , R = ( () => {
                if (!h)
                    return o;
                if ("hotels" === a) {
                    let e = o[0];
                    if (null == e ? void 0 : e.hotels) {
                        let t = Object.values(e.hotels).find(e => e.id === h);
                        if (t)
                            return [{
                                ...e,
                                hotels: {
                                    0: t
                                }
                            }]
                    }
                    return o
                }
                return o.filter(e => S(e) === h)
            }
            )()
              , E = (0,
            l.useCallback)(e => {
                if (A && (e.id || e.placeId)) {
                    var t;
                    null == w || w(null !== (t = null == e ? void 0 : e.id) && void 0 !== t ? t : null == e ? void 0 : e.placeId)
                } else
                    null == u || u(e)
            }
            , [A, w, u]);
            if (s || ( () => {
                if (0 === R.length)
                    return !1;
                if ("hotels" === a) {
                    var e;
                    let t = R[0];
                    return !(null == t ? void 0 : null === (e = t.debug) || void 0 === e ? void 0 : e.bookingSearchRequest)
                }
                if ("flights" === a || "flightItineraries" === a) {
                    if ("carriers"in R[0]) {
                        let e = R[0];
                        return !(null == e ? void 0 : e.fromCity) || !(null == e ? void 0 : e.toCity)
                    }
                    let e = R[0];
                    return !(null == e ? void 0 : e.flights) || 0 === e.flights.length
                }
                return !1
            }
            )())
                return "flights" === a || "flightItineraries" === a ? (0,
                n.jsx)("div", {
                    className: "".concat(ts().container, " ").concat(c ? ts().compactContainer : ""),
                    style: {
                        paddingTop: c ? 0 : "32px"
                    },
                    children: (0,
                    n.jsx)(eV, {
                        count: 4
                    })
                }) : "destinations" === a ? (0,
                n.jsx)("div", {
                    className: ts().container,
                    children: (0,
                    n.jsx)(eX, {
                        count: v ? 4 : 2,
                        isRightPanelExpanded: v
                    })
                }) : (0,
                n.jsx)(eJ.default, {
                    itemCount: 4
                });
            let P = null === (t = R[0]) || void 0 === t ? void 0 : t.prompt
              , D = null === (i = R[0]) || void 0 === i ? void 0 : i.hotels;
            return R && 0 !== R.length && (!P || (null == D ? void 0 : D[0])) ? (0,
            n.jsx)("div", {
                className: "".concat(ts().container, " ").concat(c ? ts().compactContainer : ""),
                id: ta.$,
                children: (0,
                n.jsx)("div", {
                    className: "".concat(ts().resultsContainer, " ").concat("destinations" === a ? ts().destinationsContainer : ""),
                    children: ( () => {
                        switch (a) {
                        case "destinations":
                            return (0,
                            n.jsx)(eH.A, {
                                destinations: R,
                                onClose: _,
                                onItemSelect: E,
                                onItemHover: g,
                                isRightPanelExpanded: v,
                                globalMuteState: x,
                                onGlobalMuteChange: y,
                                selectedDestinationIds: j,
                                isDestinationMultiSelectMode: A,
                                groupByCountry: I,
                                onEmblaApiChange: C
                            });
                        case "activities":
                            return (0,
                            n.jsx)("div", {
                                className: ts().activitiesContainer,
                                children: R.map( (e, t) => {
                                    let i = e.id || e.name;
                                    return (0,
                                    n.jsx)("div", {
                                        className: ts().resultItem,
                                        onMouseEnter: () => null == g ? void 0 : g(i),
                                        onMouseLeave: () => null == g ? void 0 : g(void 0),
                                        children: (0,
                                        n.jsx)("div", {
                                            className: ts().activityCardWrapper,
                                            children: (0,
                                            n.jsx)(r.a, {
                                                activity: e,
                                                onClick: () => null == u ? void 0 : u(e),
                                                onAddSearchResultItemToChatClick: () => null == p ? void 0 : p(e)
                                            }, e.id)
                                        })
                                    }, "activity-".concat(t))
                                }
                                )
                            });
                        case "flights":
                        case "flightItineraries":
                            let e = "flightItineraries" === a ? k(R) : R;
                            return (0,
                            n.jsx)(n.Fragment, {
                                children: e.map( (e, t) => "carriers"in e ? (0,
                                n.jsx)("div", {
                                    className: ts().resultItem,
                                    style: {
                                        paddingLeft: "24px",
                                        paddingRight: "24px"
                                    },
                                    onMouseEnter: () => null == g ? void 0 : g(S(e)),
                                    onMouseLeave: () => null == g ? void 0 : g(void 0),
                                    children: (0,
                                    n.jsx)(F, {
                                        flight: e,
                                        index: t,
                                        onClick: () => null == u ? void 0 : u(e)
                                    })
                                }, "flight-".concat(t)) : (0,
                                n.jsx)("div", {
                                    className: ts().resultItem,
                                    style: {
                                        paddingLeft: "24px",
                                        paddingRight: "24px"
                                    },
                                    onMouseEnter: () => null == g ? void 0 : g(S(e)),
                                    onMouseLeave: () => null == g ? void 0 : g(void 0),
                                    children: (0,
                                    n.jsx)(er, {
                                        flightItinerary: e,
                                        index: t,
                                        onClick: () => null == u ? void 0 : u(e)
                                    })
                                }, "FlightItinerary-".concat(t)))
                            });
                        case "hotels":
                            let t = R[0];
                            return (0,
                            n.jsxs)(ea.r, {
                                data: t,
                                startFirebase: null != m && m,
                                children: [(0,
                                n.jsx)(td, {
                                    onHotelDataUpdate: f
                                }), (0,
                                n.jsx)(eB, {
                                    data: t,
                                    isRightPanelExpanded: null != v && v,
                                    onClose: _,
                                    forceCompactLayout: !v,
                                    disableInternalScrolling: !0,
                                    onItemHover: g,
                                    onItemClick: e => null == u ? void 0 : u(e),
                                    toggleExpandSidePanel: b
                                })]
                            }, t.id);
                        case "carRentals":
                            return (0,
                            n.jsx)(tr, {
                                carRentals: R,
                                onAddToChat: e => null == p ? void 0 : p(e),
                                onItemClick: e => null == u ? void 0 : u(e)
                            });
                        default:
                            return null
                        }
                    }
                    )()
                })
            }) : (0,
            n.jsx)("div", {
                className: ts().container,
                children: (0,
                n.jsx)("div", {
                    className: ts().emptyState,
                    children: (0,
                    n.jsx)("p", {
                        children: N("aiFinder.noResults", {
                            entity: N("destinationSidePanel.tabs.".concat(a)).toLowerCase()
                        })
                    })
                })
            })
        }
    }
    ,
    36647: (e, t, i) => {
        "use strict";
        i.d(t, {
            $: () => n
        });
        let n = "ai-search-results-container"
    }
    ,
    36991: (e, t, i) => {
        "use strict";
        i.d(t, {
            AE: () => a,
            Qh: () => l,
            s6: () => n,
            xC: () => r
        });
        let n = (e, t) => e.lat && e.lng ? {
            id: e.id || e.placeId || e.city,
            longitude: e.lng,
            latitude: e.lat,
            type: "destination",
            data: e,
            title: e.city,
            showOnlyCountryName: t
        } : null
          , l = (e, t) => e.lat && e.lng ? {
            id: e.id || e.name,
            longitude: e.lng,
            latitude: e.lat,
            type: "hotel",
            data: e,
            title: e.name,
            popup: t
        } : null
          , r = (e, t) => {
            var i, n;
            return (null === (i = e.location) || void 0 === i ? void 0 : i.lat) && (null === (n = e.location) || void 0 === n ? void 0 : n.lng) ? {
                id: e.id || e.name,
                longitude: e.location.lng,
                latitude: e.location.lat,
                type: "activity",
                data: e,
                title: e.name,
                popup: t
            } : null
        }
          , a = async e => {
            if (0 === e.length)
                return;
            let t = new (await Promise.resolve().then(i.t.bind(i, 60842, 23))).LngLatBounds;
            return e.forEach(e => {
                e && t.extend([e.longitude, e.latitude])
            }
            ),
            t
        }
    }
    ,
    79551: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => v
        });
        var n = i(74848)
          , l = i(91106)
          , r = i.n(l)
          , a = i(62322)
          , o = i(31925)
          , s = i.n(o)
          , d = i(96540)
          , c = i(99787)
          , u = i(13725);
        let p = {
            src: "/_next/static/media/pin-white.daba150b.svg",
            height: 10,
            width: 11,
            blurWidth: 0,
            blurHeight: 0
        }
          , v = e => {
            var t, i, l, o;
            let {video: v} = e
              , [_,m] = (0,
            d.useState)((null == v ? void 0 : v.instagramUrl) || "https://instagram.com/".concat(null == v ? void 0 : null === (t = v.creator) || void 0 === t ? void 0 : t.username) || 0)
              , h = null == v ? void 0 : null === (i = v.creator) || void 0 === i ? void 0 : i.username;
            return (0,
            d.useEffect)( () => {
                h && (0,
                c.Xz)(h).then(e => {
                    e && e.enabled && e.public && m("/creator/".concat(h))
                }
                )
            }
            , [h]),
            (0,
            n.jsxs)(r(), {
                className: s().avatar_wrapper,
                href: _,
                target: "_blank",
                prefetch: !1,
                children: [(0,
                n.jsx)(a.A, {
                    src: null == v ? void 0 : null === (l = v.creator) || void 0 === l ? void 0 : l.profilePicUrl,
                    sx: {
                        width: "32px",
                        height: "32px",
                        boxShadow: "0px 12px 32px 0px rgba(0, 0, 0, 0.12)"
                    }
                }), (0,
                n.jsxs)("div", {
                    className: s().username_wrapper,
                    children: [(0,
                    n.jsxs)("h3", {
                        className: s().username,
                        children: ["@", null == v ? void 0 : null === (o = v.creator) || void 0 === o ? void 0 : o.username]
                    }), (null == v ? void 0 : v.instagramLocation) && (0,
                    n.jsxs)("div", {
                        style: {
                            display: "flex",
                            alignItems: "center",
                            gap: "2px"
                        },
                        children: [(0,
                        n.jsx)(u.A, {
                            src: p,
                            alt: "Pin",
                            width: 12,
                            height: 12
                        }), (0,
                        n.jsx)("p", {
                            className: s().location,
                            children: null == v ? void 0 : v.instagramLocation
                        })]
                    })]
                })]
            })
        }
    }
    ,
    22769: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => M
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(65193)
          , a = i(36666)
          , o = i(42137)
          , s = i(68651);
        let d = {
            cards_wrapper: "h-full flex flex-col pointer-events-auto w-full relative px-2 pb-4 md:px-6 md:pb-8",
            cards_column_container: "flex-1 p-0 pointer-events-auto w-full h-full",
            cards_column: "flex flex-col w-full items-center gap-2 md:gap-4 overflow-y-auto h-full destination-cards-container scrollbar-none [scrollbar-width:none!important] [-ms-overflow-style:none!important] [&::-webkit-scrollbar]:hidden [&::-webkit-scrollbar]:[display:none!important] [&::-webkit-scrollbar]:[width:0px!important] [&::-webkit-scrollbar-track]:hidden [&::-webkit-scrollbar-thumb]:hidden",
            cards_grid: "grid gap-4 items-start grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-[repeat(auto-fit,minmax(320px,1fr))]",
            embla_viewport: "overflow-hidden w-full h-full scrollbar-none [scrollbar-width:none!important] [-ms-overflow-style:none!important] [&::-webkit-scrollbar]:hidden",
            embla_container: "flex flex-col w-full items-center gap-2 md:gap-4 touch-pan-y [touch-action:pan-y_pinch-zoom] [backface-visibility:hidden]"
        };
        var c = i(79640)
          , u = i(13816);
        let p = {
            container: "relative w-full h-full rounded-2xl overflow-hidden bg-black destination-card cursor-pointer min-h-[calc(100vh-120px)]",
            background_media: "absolute inset-0 w-full h-full overflow-hidden",
            video_background: "w-full h-full object-cover transition-transform duration-500 ease-out hover:scale-105",
            image_background: "w-full h-full object-cover transition-transform duration-500 ease-out hover:scale-105",
            sound_icon: "absolute top-4 right-4 z-30 w-10 h-10 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center text-white cursor-pointer opacity-80 hover:opacity-100 transition-all duration-200 ease-in-out hover:bg-black/50 active:scale-95",
            gradient_overlay: "absolute inset-0 z-10 bg-gradient-to-t from-black/80 via-black/20 to-transparent",
            content_overlay: "absolute inset-0 z-20 flex flex-col justify-between p-4 text-white cursor-pointer",
            top_content: "flex justify-start items-center",
            user_info: "flex items-center gap-3 cursor-pointer transition-all duration-200 ease-in-out hover:opacity-80 active:scale-95",
            user_avatar: "w-8 h-8 rounded-full overflow-hidden ring-2 ring-white/20",
            avatar_image: "w-full h-full object-cover",
            user_name: "text-white font-normal text-xs tracking-[-0.002em] leading-tight [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)]",
            bottom_content: "flex flex-col gap-3 pb-2",
            location_title: "text-base font-medium text-white leading-tight [text-shadow:_0_2px_4px_rgb(0_0_0_/_0.8)]",
            date_weather_price_row: "flex items-center justify-between gap-4 whitespace-nowrap",
            date_badge: "flex items-center gap-0.5 text-white text-xs font-normal tracking-[-0.02em] [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)] whitespace-nowrap",
            date_text: "text-xs font-normal tracking-[-0.02em] [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)]",
            price_section: "flex items-center gap-0.5 whitespace-nowrap",
            flight_icon: "[filter:brightness(0)_saturate(100%)_invert(85%)_sepia(0%)_saturate(0%)_hue-rotate(0deg)_brightness(91%)_contrast(89%)]",
            price_from: "text-white font-normal text-xs tracking-[-0.02em] [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)]",
            price_amount: "text-white font-normal text-xs tracking-[-0.02em] [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)]",
            price_per_person: "text-white text-xs font-normal tracking-[-0.02em] [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)]",
            weather_section: "flex items-center gap-0.5 whitespace-nowrap",
            weather_icon: "[filter:brightness(0)_saturate(100%)_invert(85%)_sepia(0%)_saturate(0%)_hue-rotate(0deg)_brightness(91%)_contrast(89%)]",
            temperature: "text-white font-normal text-xs tracking-[-0.02em] [text-shadow:_0_1px_2px_rgb(0_0_0_/_0.8)]",
            build_trip_button: "w-full h-8 px-6 bg-white text-black rounded-[10px] text-xs font-medium tracking-normal transition-all duration-200 ease-out hover:bg-white/90 hover:scale-[0.98] active:scale-[0.96] shadow-lg flex items-center justify-center select-none",
            select_button: "w-full h-8 px-6 bg-white text-black border border-[#D2D2D2] rounded-[10px] text-xs font-medium tracking-normal transition-all duration-200 ease-out hover:bg-gray-50 hover:border-gray-300 active:scale-[0.96] flex items-center justify-center select-none",
            selected_button: "w-full h-8 px-6 bg-[#4FB741] border border-[#4FB74152] text-white rounded-[10px] text-xs font-medium tracking-normal transition-all duration-200 ease-out hover:opacity-80 active:scale-[0.96] flex items-center justify-center select-none"
        };
        var v = i(49720)
          , _ = i(74606)
          , m = i(14953)
          , h = i.n(m)
          , g = i(29965)
          , f = i.n(g)
          , x = i(98935)
          , y = i(18584)
          , b = i(20144)
          , j = i(33777)
          , w = i(54252)
          , A = i(5025)
          , I = i.n(A)
          , C = i(89906)
          , N = i(64945);
        let T = e => {
            let {videoUrl: t, shouldPlay: i, isMuted: n} = e
              , r = (0,
            l.useRef)(null)
              , a = (0,
            l.useRef)(null)
              , [o,s] = (0,
            l.useState)(!1)
              , [d,c] = (0,
            l.useState)(!1)
              , u = (0,
            l.useCallback)(e => !!e && e.endsWith(".m3u8"), [])
              , p = (0,
            l.useCallback)(e => N.Ay.isSupported() && u(e), [u]);
            return (0,
            l.useEffect)( () => {
                if (!t)
                    return;
                let e = r.current;
                if (!e)
                    return;
                if (!i) {
                    let t = a.current;
                    t && (t.destroy(),
                    a.current = null),
                    e.pause(),
                    e.src = "",
                    s(!1),
                    c(!1);
                    return
                }
                s(!1),
                c(!1);
                let n = () => {
                    c(!0)
                }
                  , l = () => {
                    c(!1)
                }
                  , o = () => {
                    c(!1)
                }
                ;
                if (e.addEventListener("playing", n),
                e.addEventListener("pause", l),
                e.addEventListener("ended", o),
                u(t)) {
                    if (p(t)) {
                        let i = a.current;
                        i && (i.destroy(),
                        a.current = null);
                        let n = new N.Ay({
                            startLevel: -1
                        });
                        a.current = n;
                        try {
                            n.attachMedia(e),
                            n.on(N.Ay.Events.MEDIA_ATTACHED, () => {
                                n.loadSource(t)
                            }
                            ),
                            n.on(N.Ay.Events.MANIFEST_PARSED, () => {
                                e.play().catch(e => {
                                    console.warn("Could not play the video automatically:", e)
                                }
                                )
                            }
                            ),
                            n.on(N.Ay.Events.LEVEL_LOADED, () => {
                                s(!0)
                            }
                            )
                        } catch (e) {
                            (null == e ? void 0 : e.name) !== "AbortError" && console.error("Error attaching HLS media:", e)
                        }
                    } else
                        e.canPlayType("application/vnd.apple.mpegurl") && (e.src = t,
                        e.load(),
                        e.play().catch(e => {
                            console.warn("Could not play the video automatically:", e)
                        }
                        ))
                } else
                    e.src = t,
                    e.load(),
                    e.play().catch(e => {
                        console.warn("Could not play the video automatically:", e)
                    }
                    );
                return () => {
                    let t = a.current;
                    t && (t.destroy(),
                    a.current = null),
                    e && (e.removeEventListener("playing", n),
                    e.removeEventListener("pause", l),
                    e.removeEventListener("ended", o))
                }
            }
            , [i, t, p, u]),
            (0,
            l.useEffect)( () => {
                let e = r.current;
                e && (e.muted = n)
            }
            , [n]),
            {
                videoRef: r,
                isVideoReady: o,
                isVideoPlaying: d
            }
        }
          , k = e => {
            let {videoUrl: t, shouldPlay: i, isMuted: l, poster: r, className: a, alt: o} = e
              , {videoRef: s, isVideoPlaying: d} = T({
                videoUrl: t,
                shouldPlay: i,
                isMuted: l
            });
            return (0,
            n.jsxs)("div", {
                className: (0,
                C.A)(I().container, a),
                children: [(0,
                n.jsx)("video", {
                    ref: s,
                    className: I().video_player,
                    poster: r,
                    loop: !0,
                    muted: l,
                    playsInline: !0,
                    controls: !1
                }), !d && (0,
                n.jsx)(f(), {
                    src: r,
                    alt: o,
                    fill: !0,
                    className: I().overlay_image,
                    style: {
                        objectFit: "cover"
                    }
                })]
            })
        }
          , S = e => {
            let {onVisibilityChange: t, threshold: i=.6, rootMargin: r="-30px 0px -30px 0px"} = e
              , a = (0,
            l.useRef)(null)
              , [o,s] = (0,
            l.useState)(!1);
            return (0,
            l.useEffect)( () => {
                if (!a.current)
                    return;
                let e = new IntersectionObserver(e => {
                    let i = e[0].intersectionRatio
                      , n = o ? i >= .4 : i >= .6;
                    n !== o && (s(n),
                    t(n))
                }
                ,{
                    threshold: [0, .4, .6, .8, 1],
                    rootMargin: r
                })
                  , i = a.current;
                return i && e.observe(i),
                () => {
                    i && e.unobserve(i)
                }
            }
            , [t, i, r, o]),
            (0,
            n.jsx)("div", {
                ref: a,
                style: {
                    position: "absolute",
                    top: "20%",
                    left: 0,
                    right: 0,
                    height: "60%",
                    pointerEvents: "none"
                }
            })
        }
          , R = e => {
            let {isMobile: t, isInView: i, startVideos: n} = e
              , [r,a] = (0,
            l.useState)(!1);
            return (0,
            l.useEffect)( () => {
                t && i && n ? a(!0) : t && a(!1)
            }
            , [t, i, n]),
            {
                shouldPlayVideo: r
            }
        }
          , E = h()( () => Promise.resolve().then(i.bind(i, 44697)).then(e => e.HLSVideoPlayer), {
            loadableGenerated: {
                webpack: () => [44697]
            },
            ssr: !1
        })
          , P = function(e) {
            var t, i, r, a, o, s, d, c, m, h, g, A, I, C;
            let {destination: N, startVideos: T, index: P, onClick: D, onMouseEnter: M, onMouseLeave: L, flightPriceFormattedText: O, onSendMessage: F, onClose: B, globalMuteState: H=!0, onMuteChange: U, isSelected: z=!1, isDestinationMultiSelectMode: q=!1, groupByCountry: V=!1} = e
              , W = (0,
            _.Ub)({
                minWidth: 768
            })
              , {tAsString: G} = (0,
            x.Ay)()
              , {isMobile: Y} = (0,
            y.U)()
              , [X,J] = (0,
            l.useState)(P < (W ? 4 : 1))
              , [Z,K] = (0,
            l.useState)(H)
              , [Q,$] = (0,
            l.useState)(!0)
              , [ee,et] = (0,
            l.useState)(!1)
              , [ei,en] = (0,
            l.useState)(!1)
              , {shouldPlayVideo: el} = R({
                isMobile: Y,
                isInView: ee,
                startVideos: T
            })
              , er = N.videos
              , ea = N.imageUrl
              , eo = null !== (A = null !== (g = null == er ? void 0 : null === (t = er[0]) || void 0 === t ? void 0 : t.thumbnailUrl) && void 0 !== g ? g : ea) && void 0 !== A ? A : "/ItineraryPage/nature-scene.webp"
              , es = null !== (C = null !== (I = null == er ? void 0 : null === (i = er[0]) || void 0 === i ? void 0 : i.m3u8Url) && void 0 !== I ? I : null == er ? void 0 : null === (r = er[0]) || void 0 === r ? void 0 : r.mp4Url) && void 0 !== C ? C : null;
            (0,
            l.useEffect)( () => {
                K(H)
            }
            , [H]);
            let ed = null == N ? void 0 : null === (s = N.weather) || void 0 === s ? void 0 : null === (o = s.days) || void 0 === o ? void 0 : null === (a = o.at(0)) || void 0 === a ? void 0 : a.code
              , ec = (null == N ? void 0 : null === (d = N.weather) || void 0 === d ? void 0 : d.days) ? Math.round(N.weather.days.map(e => e.maximumTemperature).reduce( (e, t) => e + t / N.weather.days.length, 0)) : null
              , eu = null == er ? void 0 : null === (c = er[0]) || void 0 === c ? void 0 : c.creator
              , ep = null == eu ? void 0 : eu.username
              , ev = (null == eu ? void 0 : eu.profilePicUrl) || "/imagePerson.svg";
            (0,
            l.useEffect)( () => {
                $(!0)
            }
            , [ev]);
            let e_ = ( () => {
                var e;
                let t = new Date
                  , i = null == N ? void 0 : null === (e = N.flight) || void 0 === e ? void 0 : e.fromDate;
                return i && ("string" == typeof i ? t = new Date(i) : i.seconds && (t = new Date(1e3 * i.seconds))),
                t.toLocaleDateString("en-GB", {
                    day: "numeric",
                    month: "short",
                    year: "numeric"
                })
            }
            )()
              , em = (null === (m = N.iataCity) || void 0 === m ? void 0 : m.toLowerCase()) === (null === (h = N.parentCity || N.city) || void 0 === h ? void 0 : h.toLowerCase()) || V;
            return (0,
            n.jsxs)("div", {
                className: p.container,
                onMouseEnter: M,
                onMouseLeave: L,
                children: [(0,
                n.jsx)(v.A, {
                    onInView: () => J(!0),
                    onVisibleChange: Y ? void 0 : e => et(e)
                }), Y && (0,
                n.jsx)(S, {
                    onVisibilityChange: et
                }), (0,
                n.jsxs)(u.eZ, {
                    playOnHover: !Y,
                    children: [(0,
                    n.jsxs)("div", {
                        className: p.background_media,
                        onClick: e => {
                            V && q && en(!0),
                            null == D || D(e)
                        }
                        ,
                        children: [X && es ? Y ? (0,
                        n.jsx)(k, {
                            videoUrl: es,
                            shouldPlay: el,
                            isMuted: !!Z,
                            poster: eo,
                            className: p.video_background,
                            alt: "".concat((null == N ? void 0 : N.parentCity) || (null == N ? void 0 : N.city), ", ").concat(null == N ? void 0 : N.country)
                        }) : (0,
                        n.jsx)(E, {
                            videoUrl: es,
                            className: p.video_background,
                            autoPlay: T,
                            preload: "auto",
                            poster: eo,
                            muted: Z,
                            video: null == er ? void 0 : er[0]
                        }, "destination-card-video-".concat(N.id)) : (0,
                        n.jsx)(f(), {
                            src: eo,
                            alt: "".concat((null == N ? void 0 : N.parentCity) || (null == N ? void 0 : N.city), ", ").concat(null == N ? void 0 : N.country),
                            fill: !0,
                            className: p.image_background,
                            sizes: "(max-width: 768px) 100vw, 400px"
                        }), X && es && (0,
                        n.jsx)("div", {
                            className: p.sound_icon,
                            onClick: e => {
                                e.preventDefault(),
                                e.stopPropagation();
                                let t = !Z;
                                K(t),
                                null == U || U(t)
                            }
                            ,
                            children: Z ? (0,
                            n.jsxs)("svg", {
                                width: "20",
                                height: "20",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                xmlns: "http://www.w3.org/2000/svg",
                                children: [(0,
                                n.jsx)("path", {
                                    d: "M12 4L7 9H3V15H7L12 20V4Z",
                                    stroke: "white",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round"
                                }), (0,
                                n.jsx)("path", {
                                    d: "M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 11.995C17.0039 13.3208 16.4774 14.5924 15.54 15.53",
                                    stroke: "white",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round"
                                }), (0,
                                n.jsx)("path", {
                                    d: "M3 3L21 21",
                                    stroke: "white",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round"
                                })]
                            }) : (0,
                            n.jsxs)("svg", {
                                width: "20",
                                height: "20",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                xmlns: "http://www.w3.org/2000/svg",
                                children: [(0,
                                n.jsx)("path", {
                                    d: "M12 4L7 9H3V15H7L12 20V4Z",
                                    stroke: "white",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round"
                                }), (0,
                                n.jsx)("path", {
                                    d: "M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 11.995C17.0039 13.3208 16.4774 14.5924 15.54 15.53",
                                    stroke: "white",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round"
                                }), (0,
                                n.jsx)("path", {
                                    d: "M18.07 5.93C19.9447 7.80528 21.0039 10.3726 21.0039 13.065C21.0039 15.7574 19.9447 18.3247 18.07 20.2",
                                    stroke: "white",
                                    strokeWidth: "1.5",
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round"
                                })]
                            })
                        }), (0,
                        n.jsx)("div", {
                            className: p.gradient_overlay
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: p.content_overlay,
                        onClick: e => {
                            V && q && en(!0),
                            null == D || D(e)
                        }
                        ,
                        children: [(0,
                        n.jsx)("div", {
                            className: p.top_content,
                            children: ep && (0,
                            n.jsxs)("div", {
                                className: p.user_info,
                                onClick: e => {
                                    e.preventDefault(),
                                    e.stopPropagation(),
                                    ep && window.open("https://instagram.com/".concat(ep), "_blank", "noopener,noreferrer")
                                }
                                ,
                                children: [ev && Q && (0,
                                n.jsx)("div", {
                                    className: p.user_avatar,
                                    children: (0,
                                    n.jsx)(f(), {
                                        src: ev,
                                        alt: ep,
                                        width: 20,
                                        height: 20,
                                        className: p.avatar_image,
                                        onError: () => {
                                            $(!1)
                                        }
                                    })
                                }), (0,
                                n.jsxs)("span", {
                                    className: p.user_name,
                                    children: ["@", ep]
                                })]
                            })
                        }), (0,
                        n.jsxs)("div", {
                            className: p.bottom_content,
                            children: [(0,
                            n.jsx)("h2", {
                                className: p.location_title,
                                children: V ? "".concat((null == N ? void 0 : N.country) || "", " ").concat((0,
                                w.x)((null == N ? void 0 : N.countryCode) || "")) : (0,
                                w.l)((null == N ? void 0 : N.parentCity) || (null == N ? void 0 : N.city) || "", (null == N ? void 0 : N.country) || "", (null == N ? void 0 : N.countryCode) || "")
                            }), (0,
                            n.jsxs)("div", {
                                className: p.date_weather_price_row,
                                children: [(0,
                                n.jsxs)("div", {
                                    className: p.date_badge,
                                    children: [(0,
                                    n.jsx)(b.A, {
                                        color: "#d5d5d5",
                                        alt: "date",
                                        width: 12,
                                        height: 12
                                    }), (0,
                                    n.jsx)("span", {
                                        className: p.date_text,
                                        children: e_
                                    })]
                                }), ed && null !== ec ? (0,
                                n.jsxs)("div", {
                                    className: p.weather_section,
                                    children: [(0,
                                    n.jsx)(f(), {
                                        src: "/WeatherIcons/".concat(ed, ".svg"),
                                        width: 12,
                                        height: 12,
                                        alt: "Weather icon",
                                        className: p.weather_icon
                                    }), (0,
                                    n.jsxs)("span", {
                                        className: p.temperature,
                                        children: [ec, "\xb0C"]
                                    })]
                                }) : null, !!O && em && (0,
                                n.jsxs)("div", {
                                    className: p.price_section,
                                    children: [(0,
                                    n.jsx)(f(), {
                                        src: j.A,
                                        width: 12,
                                        height: 12,
                                        alt: "Flight",
                                        className: p.flight_icon
                                    }), V && (0,
                                    n.jsx)("span", {
                                        className: p.price_from,
                                        children: "From "
                                    }), (0,
                                    n.jsx)("span", {
                                        className: p.price_amount,
                                        children: O
                                    }), (0,
                                    n.jsx)("span", {
                                        className: p.price_per_person,
                                        children: "per person"
                                    })]
                                })]
                            }), q ? (0,
                            n.jsx)("button", {
                                className: (V ? ei : z) ? p.selected_button : p.select_button,
                                onClick: e => {
                                    V && en(!0),
                                    null == D || D(e)
                                }
                                ,
                                children: (V ? ei : z) ? (0,
                                n.jsxs)(n.Fragment, {
                                    children: [(0,
                                    n.jsx)(f(), {
                                        src: "/check_white.svg",
                                        alt: "Selected",
                                        width: 16,
                                        height: 16,
                                        style: {
                                            marginRight: "6px"
                                        }
                                    }), G("chatPage.destinationCard.selected")]
                                }) : (0,
                                n.jsxs)(n.Fragment, {
                                    children: [(0,
                                    n.jsx)(f(), {
                                        src: "/plus_grey.svg",
                                        alt: "Select",
                                        width: 16,
                                        height: 16,
                                        style: {
                                            marginRight: "6px"
                                        }
                                    }), G("chatPage.destinationCard.select")]
                                })
                            }) : (0,
                            n.jsx)("button", {
                                className: p.build_trip_button,
                                onClick: e => {
                                    e.preventDefault(),
                                    e.stopPropagation();
                                    let t = (null == N ? void 0 : N.parentCity) || (null == N ? void 0 : N.city);
                                    t && F && (F(G("chatPage.destinationCard.createTripMessage", {
                                        destination: t
                                    })),
                                    Y && B && B())
                                }
                                ,
                                children: G("chatPage.destinationCard.generateTrip")
                            })]
                        })]
                    })]
                })]
            })
        };
        var D = i(28001);
        let M = e => {
            let {destinations: t, onItemSelect: i, onClose: p, onItemHover: v, isRightPanelExpanded: _, globalMuteState: m=!0, onGlobalMuteChange: h, selectedDestinationIds: g, isDestinationMultiSelectMode: f, groupByCountry: x=!1, onEmblaApiChange: b} = e
              , {sendMessage: j} = (0,
            c.Y)()
              , {userCurrency: w, defaultServerCurrency: A, convertPrice: I, formatCurrency: N} = (0,
            D.c)()
              , {isMobile: T} = (0,
            y.U)()
              , [k,S] = (0,
            r.A)(_ ? void 0 : {
                axis: "y",
                align: "start",
                containScroll: !1,
                skipSnaps: !0
            }, _ ? [] : [(0,
            a.J)()]);
            (0,
            l.useEffect)( () => {
                null == b || b(T && !_ ? S : void 0)
            }
            , [S, _, b, T]);
            let R = (0,
            l.useCallback)(e => {
                let t = e ? I(e, A, w) : null;
                return t ? N(t, w, 0, !0) : void 0
            }
            , [I, N, A, w])
              , E = (0,
            l.useMemo)( () => t.reduce( (e, t) => {
                var i;
                return e + (null !== (i = t.id) && void 0 !== i ? i : "")
            }
            , ""), [t])
              , M = (0,
            l.useCallback)(e => {
                if (!e)
                    return;
                let n = t.find(t => t.id === e || t.placeId === e);
                n && (null == i || i(n))
            }
            , [t, i])
              , L = (0,
            l.useCallback)(e => {
                null == j || j(e)
            }
            , [j])
              , O = (0,
            l.useCallback)(e => {
                null == h || h(e)
            }
            , [h])
              , F = (0,
            l.useCallback)( () => t.map( (e, t) => {
                var i, l, r;
                let a = R(null !== (r = null === (i = e.flightPrediction) || void 0 === i ? void 0 : i.price) && void 0 !== r ? r : null === (l = e.flight) || void 0 === l ? void 0 : l.price);
                return (0,
                n.jsx)(P, {
                    destination: e,
                    flightPriceFormattedText: a,
                    index: t,
                    startVideos: !0,
                    onClick: t => {
                        var i;
                        t.preventDefault(),
                        t.stopPropagation(),
                        M(null !== (i = e.id) && void 0 !== i ? i : e.placeId)
                    }
                    ,
                    onMouseEnter: () => {
                        var t;
                        return null == v ? void 0 : v(null !== (t = e.id) && void 0 !== t ? t : e.placeId)
                    }
                    ,
                    onMouseLeave: () => null == v ? void 0 : v(void 0),
                    onSendMessage: L,
                    onClose: p,
                    globalMuteState: m,
                    onMuteChange: O,
                    isSelected: e.id ? null == g ? void 0 : g.has(e.id) : !!e.placeId && (null == g ? void 0 : g.has(e.placeId)),
                    isDestinationMultiSelectMode: f,
                    groupByCountry: x
                }, "".concat(e.id, "-").concat(t))
            }
            ), [t, R, M, v, L, p, m, O, g, f, x]);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [t.length > 0 && (0,
                n.jsx)(o.A, {
                    metaTitle: (0,
                    s.qH)(t[0]),
                    metaDescription: (0,
                    s.c0)(t[0])
                }), (0,
                n.jsx)("div", {
                    children: (0,
                    n.jsx)("div", {
                        className: d.cards_wrapper,
                        children: (0,
                        n.jsx)("div", {
                            className: d.cards_column_container,
                            children: (0,
                            n.jsx)(u.Af, {
                                strategy: _ ? "top-left" : "top",
                                isEmbla: !_,
                                children: _ ? (0,
                                n.jsx)("div", {
                                    className: (0,
                                    C.A)(d.cards_column, d.cards_grid),
                                    children: F()
                                }) : (0,
                                n.jsx)("div", {
                                    className: d.embla_viewport,
                                    ref: k,
                                    children: (0,
                                    n.jsx)("div", {
                                        className: d.embla_container,
                                        children: F()
                                    })
                                })
                            }, E)
                        })
                    })
                })]
            })
        }
    }
    ,
    49687: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => W
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(18584)
          , a = i(70670)
          , o = i.n(a)
          , s = i(13171)
          , d = i(83061)
          , c = i(7746)
          , u = i.n(c)
          , p = i(13725)
          , v = i(89906);
        let _ = e => {
            var t, i, l, r;
            let {hotel: a, showLocation: o, forceCompactLayout: s=!1} = e
              , d = null === (i = a.hotelDetails) || void 0 === i ? void 0 : null === (t = i.location) || void 0 === t ? void 0 : t.city
              , c = null === (r = a.hotelDetails) || void 0 === r ? void 0 : null === (l = r.location) || void 0 === l ? void 0 : l.country
              , {address: _} = a
              , m = "";
            if (d || c ? (d && (m += d),
            c && (m.length > 0 && (m += ", "),
            m += c)) : _ && (m = _),
            m.length <= 0)
                return null;
            let h = (0,
            v.A)(u().container, {
                [u().compact_container]: s
            })
              , g = (0,
            v.A)(u().location, {
                [u().compact_location]: s
            });
            return (0,
            n.jsxs)("div", {
                className: h,
                children: [o && (0,
                n.jsx)(p.A, {
                    src: "/location-pin.svg",
                    alt: "location",
                    height: 14,
                    width: 14
                }), (0,
                n.jsx)("div", {
                    className: g,
                    children: a.tags && !o ? (0,
                    n.jsx)("span", {
                        className: u().tag,
                        children: a.tags.join(", ")
                    }) : (0,
                    n.jsx)("span", {
                        className: u().tag,
                        children: m
                    })
                })]
            })
        }
        ;
        var m = i(7143)
          , h = i(98935);
        let g = e => {
            var t, i, l;
            let {hotel: a, showReviewScore: c=!1, showLocation: u=!1, showStars: p=!1, forceCompactLayout: g=!1} = e
              , {isMobile: f} = (0,
            r.U)()
              , {tAsString: x} = (0,
            h.Ay)()
              , y = (f || g) && (null == a ? void 0 : null === (t = a.name) || void 0 === t ? void 0 : t.length) > 29 ? "".concat(null == a ? void 0 : null === (i = a.name) || void 0 === i ? void 0 : i.slice(0, 30), "...") : (null == a ? void 0 : null === (l = a.name) || void 0 === l ? void 0 : l.length) > 130 ? "".concat(null == a ? void 0 : a.name.slice(0, 107), "...") : a.name
              , b = (0,
            m.t)(a.reviewScore)
              , j = (0,
            v.A)(o().top_line, {
                [o().compact_top_line]: g
            })
              , w = (0,
            v.A)(o().hotel_name, {
                [o().compact_hotel_name]: g
            });
            return (0,
            n.jsxs)("div", {
                className: o().container,
                children: [(0,
                n.jsxs)("div", {
                    className: j,
                    children: [(0,
                    n.jsx)("div", {
                        className: w,
                        children: y
                    }), p && (0,
                    n.jsx)(s.A, {
                        hotel: a
                    }), c && (0,
                    n.jsx)(d.A, {
                        hotel: a,
                        forceCompactLayout: g,
                        reviewScoreString: b,
                        tAsString: x
                    })]
                }), u && (0,
                n.jsx)(_, {
                    hotel: a,
                    showLocation: !0,
                    forceCompactLayout: g
                })]
            })
        }
        ;
        var f = i(47603)
          , x = i.n(f)
          , y = i(11142)
          , b = i.n(y)
          , j = i(68647)
          , w = i(60023);
        let A = e => {
            var t;
            let {hotel: i, paragraphStyles: r=""} = e
              , a = (0,
            l.useMemo)( () => (0,
            w.qg)((null == i ? void 0 : i.relevance) || "", {
                async: !1
            }).replace(/<\/?p>/g, ""), [null == i ? void 0 : i.relevance]);
            return (0,
            n.jsxs)("p", {
                className: r,
                children: ["Layla:", " ", (null == i ? void 0 : i.relevance) && (null == i ? void 0 : null === (t = i.relevance) || void 0 === t ? void 0 : t.length) > 0 ? (0,
                n.jsx)("span", {
                    className: b().hotel_relevance,
                    dangerouslySetInnerHTML: {
                        __html: '"'.concat(a, '"')
                    }
                }) : (0,
                n.jsx)(j.A, {
                    animation: "wave",
                    variant: "text",
                    width: "100%",
                    height: 14
                })]
            })
        }
        ;
        var I = i(17843)
          , C = i(40331)
          , N = i(29637)
          , T = i(65018)
          , k = i(84242)
          , S = i(88023)
          , R = i(42774)
          , E = i.n(R);
        let P = e => {
            let {tags: t, greenMode: i, big: l, alignToEnd: r=!1, maxTags: a} = e
              , o = ["#4E4EA2", "#297467", "#927921"]
              , s = ["#EEEEFF", "#D3FFF7", "#FFF7DA"]
              , d = l ? E().tag_big : E().tag
              , c = (0,
            v.A)([E().tags, r ? E().flex_end : ""])
              , u = a && t ? t.slice(0, a) : t;
            return (0,
            n.jsx)("div", {
                className: c,
                children: u && u.map( (e, t) => {
                    let l = i ? "#3F9234" : o[t % o.length]
                      , r = i ? "#E4F1EB" : s[t % s.length];
                    return (0,
                    n.jsx)("div", {
                        className: d,
                        style: {
                            color: l,
                            backgroundColor: r
                        },
                        children: e
                    }, e)
                }
                )
            })
        }
        ;
        var D = i(17934)
          , M = i.n(D);
        let L = e => {
            let {discountPercentage: t, showLowestPrice: i=!1, className: l} = e
              , {tAsString: r} = (0,
            h.Ay)();
            return t || i ? (0,
            n.jsxs)("div", {
                className: "".concat(M().container, " ").concat(l || ""),
                children: [i && (0,
                n.jsx)("span", {
                    className: M().lowestPriceBadge,
                    children: r("hotels.lowestPrice") || "Lowest price"
                }), t && t > 0 && (0,
                n.jsxs)("span", {
                    className: M().discountBadge,
                    children: [Math.round(t), "% ", r("hotels.off") || "off"]
                })]
            }) : null
        }
        ;
        var O = i(46662)
          , F = i.n(O);
        let B = e => {
            let {btnText: t} = e
              , {tAsString: i} = (0,
            h.Ay)()
              , l = null != t ? t : i("hotels.whoGuests");
            return (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsxs)("button", {
                    className: F().button,
                    children: [l, (0,
                    n.jsx)(p.A, {
                        src: "/buttons/chevron-right.svg",
                        width: 14,
                        height: 14,
                        alt: "who guests"
                    })]
                })
            })
        }
        ;
        var H = i(83494)
          , U = i.n(H)
          , z = i(28097)
          , q = i(86715);
        function V(e) {
            let {bookingSearchRequest: t, inStart: i, dateLabelStyles: l, dateStyles: r} = e
              , {tAsString: a} = (0,
            h.Ay)()
              , {locale: o} = (0,
            q.useRouter)()
              , s = "";
            if (t) {
                let e = z.c9.fromISO(null == t ? void 0 : t.checkin).setLocale(o || "en")
                  , i = z.c9.fromISO(null == t ? void 0 : t.checkout).setLocale(o || "en");
                s = e.month === i.month && e.year === i.year ? "".concat(e.toFormat("MMM d"), "-").concat(i.toFormat("d")) : "".concat(e.toFormat("MMM d"), "-").concat(i.toFormat("MMM d"))
            }
            let d = (0,
            v.A)([U().date, r])
              , c = (0,
            v.A)([U().date_label, l]);
            return (0,
            n.jsxs)("div", {
                className: d,
                style: {
                    justifyContent: i ? "flex-start" : ""
                },
                children: [(0,
                n.jsx)("span", {
                    className: c,
                    children: a("homepage.v4.howItWorks.cards.hotel.availableFrom")
                }), (0,
                n.jsx)("span", {
                    children: s
                })]
            })
        }
        let W = e => {
            var t;
            let {hotel: i, bookingSearchRequest: a, onAddHotelClick: o, onHotelClick: s, onReviewSectionClick: c, forceCompactLayout: u, viewHotelAsPrimary: _=!1, showTags: f=!1, isHotelInTrip: y=!1, showReplace: b=!0, legIndex: j, useEnhancedDesign: w=!1, isTripHotel: R=!1, showReviewScore: E=!1, showLocation: D=!1} = e
              , {isMobile: M} = (0,
            r.U)()
              , {eventForBookingLabel: O} = (0,
            I.I)()
              , F = w ? "HotelAIFinderSite" : O
              , {tAsString: H} = (0,
            h.Ay)()
              , U = (0,
            k.xC)()
              , z = (0,
            S.A)()
              , q = (0,
            T.A)(i.priceInEuros && i.priceInEuros > 0 ? i.priceInEuros : void 0, "EUR", void 0, !0)
              , W = i.discountPercentage && i.discountPercentage > 0 && i.priceInEuros && i.priceInEuros > 0
              , G = W ? i.priceInEuros / (1 - i.discountPercentage / 100) : 0
              , Y = (0,
            T.A)(W ? G : void 0, "EUR", void 0, !0)
              , X = (0,
            l.useCallback)(e => {
                e.stopPropagation(),
                e.preventDefault(),
                z({
                    event: "ReviewSectionClick",
                    data: {
                        hotelId: i.id,
                        hotelName: i.name
                    }
                }),
                c ? c() : s && s(i)
            }
            , [i, z, c, s])
              , J = (0,
            v.A)(x().container, {
                [x().compact_container]: u
            })
              , Z = (0,
            v.A)(x().top_card, {
                [x().compact_top_card]: u
            })
              , K = (0,
            v.A)(x().middle_card, {
                [x().compact_middle_card]: u
            });
            return (0,
            n.jsxs)("div", {
                className: J,
                children: [(0,
                n.jsxs)("div", {
                    className: Z,
                    children: [(0,
                    n.jsx)(g, {
                        hotel: i,
                        showLocation: D,
                        showReviewScore: E,
                        forceCompactLayout: u
                    }), i.reviewScore && !w && !R && (0,
                    n.jsx)(d.A, {
                        hotel: i,
                        reviewScoreString: (0,
                        m.t)(i.reviewScore),
                        tAsString: H,
                        moreClass: !0,
                        forceCompactLayout: u
                    }), f && (null == i ? void 0 : i.tags) && R && (0,
                    n.jsx)(P, {
                        tags: null == i ? void 0 : i.tags,
                        maxTags: 3
                    }), (0,
                    n.jsx)(A, {
                        hotel: i,
                        paragraphStyles: x().layla_says
                    }), i.reviewScore && !w && R && (0,
                    n.jsx)(d.A, {
                        hotel: i,
                        reviewScoreString: (0,
                        m.t)(i.reviewScore),
                        tAsString: H,
                        moreClass: !0,
                        forceCompactLayout: u
                    }), f && (null == i ? void 0 : i.tags) && !w && !R && (0,
                    n.jsx)(P, {
                        tags: null == i ? void 0 : i.tags,
                        maxTags: 3
                    })]
                }), w && (0,
                n.jsxs)("div", {
                    className: x().enhanced_card,
                    children: [(0,
                    n.jsxs)("div", {
                        className: x().enhanced_review_section,
                        onClick: X,
                        children: [i.reviewScore && !M && (0,
                        n.jsx)(d.A, {
                            hotel: i,
                            reviewScoreString: (0,
                            m.t)(i.reviewScore),
                            tAsString: H,
                            moreClass: !0,
                            forceCompactLayout: u
                        }), (0,
                        n.jsx)(B, {})]
                    }), (0,
                    n.jsxs)("div", {
                        className: x().enhanced_badges_section,
                        children: [(0,
                        n.jsx)(L, {
                            discountPercentage: i.discountPercentage,
                            showLowestPrice: !!W,
                            className: x().hide_PriceBadges
                        }), (0,
                        n.jsx)(p.A, {
                            alt: "Powered by",
                            loading: "lazy",
                            width: 99,
                            height: 16,
                            src: "/ItineraryPage/booking_long.svg",
                            className: x().enhanced_img
                        }), (0,
                        n.jsxs)("div", {
                            className: x().enhanced_badges_section_for_mobile,
                            children: [(0,
                            n.jsxs)("div", {
                                className: x().enhanced_price_display,
                                children: [null != W && "number" == typeof W && W > 0 && Y.formattedPrice && (0,
                                n.jsx)("span", {
                                    className: x().enhanced_price_crossed,
                                    children: Y.formattedPrice
                                }), q.formattedPrice && (0,
                                n.jsx)("span", {
                                    className: x().enhanced_price_main,
                                    children: q.formattedPrice
                                }), (0,
                                n.jsxs)("span", {
                                    className: x().enhanced_price_per_night,
                                    children: ["/ ", H("trip.tripPopups.perNight")]
                                })]
                            }), (0,
                            n.jsx)(V, {
                                bookingSearchRequest: a
                            })]
                        })]
                    })]
                }), !w && (0,
                n.jsx)("div", {
                    className: K,
                    children: (0,
                    n.jsx)("div", {
                        className: x().pricing_section,
                        children: (0,
                        n.jsxs)("div", {
                            className: x().main_section,
                            children: [(0,
                            n.jsxs)("div", {
                                className: x().main_section_header,
                                children: [(0,
                                n.jsx)(p.A, {
                                    src: "/ItineraryPage/booking_long.svg",
                                    alt: "Booking.com",
                                    width: 90,
                                    height: 17,
                                    className: x().booking_logo
                                }), (0,
                                n.jsxs)("div", {
                                    className: x().main_section_prices,
                                    children: [W && Y.formattedPrice ? (0,
                                    n.jsx)("span", {
                                        className: x().original_price,
                                        children: Y.formattedPrice
                                    }) : null, q.formattedPrice && (0,
                                    n.jsxs)("span", {
                                        className: x().discounted_price,
                                        children: [q.formattedPrice, " ", (0,
                                        n.jsx)("span", {
                                            className: x().total_text_small,
                                            children: H("hotels.card.total")
                                        })]
                                    })]
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: (0,
                                v.A)(x().main_section_buttons, _ && x().main_section_buttons_secondary),
                                children: [(0,
                                n.jsx)("button", {
                                    className: _ ? x().view_hotel_button_primary_single : o ? x().view_hotel_button : x().view_hotel_button_single,
                                    onClick: e => {
                                        e.stopPropagation(),
                                        s ? s(i) : window.open(U(i.url, F), window.navigator.userAgent.includes("iPhone;") ? "_self" : "_blank")
                                    }
                                    ,
                                    children: H("hotels.card.viewHotel") || "View Hotel"
                                }), o && !y && (0,
                                n.jsx)(C.A, {
                                    onClick: () => o(i),
                                    hotel: i,
                                    buttonClass: "".concat(x().addHotelButton)
                                }), y && (0,
                                n.jsx)(N.A, {
                                    showReplace: b,
                                    hotelName: i.name,
                                    hotelImage: null === (t = i.photos) || void 0 === t ? void 0 : t[0],
                                    legIndex: j
                                })]
                            })]
                        })
                    })
                }), w && (0,
                n.jsx)("button", {
                    className: "".concat(x().view_hotel_button_single, " ").concat(x().hotels_page_button),
                    onClick: e => {
                        e.stopPropagation(),
                        s ? s(i) : window.open(U(i.url, F), window.navigator.userAgent.includes("iPhone;") ? "_self" : "_blank")
                    }
                    ,
                    children: H("hotels.card.viewHotel") || "View Hotel"
                })]
            })
        }
    }
    ,
    40331: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => u
        });
        var n = i(74848)
          , l = i(98230)
          , r = i.n(l)
          , a = i(96540)
          , o = i(98097)
          , s = i(89906)
          , d = i(88023)
          , c = i(98935);
        let u = e => {
            let {hotel: t, buttonClass: i="", buttonText: l, onClick: u} = e
              , {tAsString: p} = (0,
            c.Ay)()
              , v = (0,
            d.A)()
              , _ = (0,
            a.useCallback)(e => {
                e.stopPropagation(),
                v({
                    event: "AddHotelButtonClick",
                    data: {
                        id: t.id
                    }
                }),
                null == u || u()
            }
            , [t.id, u, v]);
            return (0,
            n.jsxs)("div", {
                onClick: e => _(e),
                className: (0,
                s.A)(r().button, i),
                children: [(0,
                n.jsx)(o.A, {
                    size: 12,
                    className: "text-white ".concat(r().plus_icon)
                }), null != l ? l : p("hotels.card.addHotel")]
            })
        }
    }
    ,
    29637: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => b
        });
        var n = i(74848)
          , l = i(57640)
          , r = i.n(l);
        i(96540);
        var a = i(89906)
          , o = i(98935)
          , s = i(68796)
          , d = i(26015)
          , c = i(27710)
          , u = i(92612)
          , p = i(67154)
          , v = i(86715)
          , _ = i(99621)
          , m = i(97577)
          , h = i(61409)
          , g = i(88023)
          , f = i(53905)
          , x = i(99433)
          , y = i(46002);
        let b = e => {
            var t;
            let {buttonClass: i, showReplace: l=!0, hotelName: b="", hotelImage: j="", legIndex: w} = e
              , {tAsString: A} = (0,
            o.Ay)()
              , {showPopup: I, anchorEl: C, handleButtonClick: N, handleClosePopup: T} = (0,
            _.U)()
              , k = (0,
            v.useRouter)()
              , {updateTripNavState: S, navigationState: R} = (0,
            u.fV)() || {
                updateTripNavState: void 0,
                navigationState: void 0
            }
              , {removeHotel: E} = (0,
            p.y)()
              , P = (0,
            g.A)()
              , {trip: D} = (0,
            y.f)()
              , M = null == R ? void 0 : R.leg
              , L = null !== (t = null != w ? w : null == R ? void 0 : R.legIndex) && void 0 !== t ? t : 0
              , O = (e, t) => h.oR.info((0,
            n.jsx)(m._, {
                itemName: e,
                img: t,
                isRightPanelExpanded: !1,
                removed: !0
            }), {
                position: "bottom-center",
                transition: h.q7,
                hideProgressBar: !0,
                autoClose: 2e3
            });
            return (0,
            n.jsxs)("span", {
                className: (0,
                a.A)(r().button_wrapper, r().compact_button_wrapper),
                children: [(0,
                n.jsxs)("button", {
                    className: (0,
                    a.A)(r().button, r().compact_button, i),
                    onClick: N,
                    children: [(0,
                    n.jsxs)("span", {
                        className: r().left_section,
                        children: [(0,
                        n.jsx)(s.A, {
                            color: "#4FB741",
                            alt: "Added To Trip",
                            width: 16,
                            height: 16
                        }), (0,
                        n.jsx)("span", {
                            className: r().text,
                            children: A("topicPage.chatSection.cards.activityCard.addedToTrip")
                        })]
                    }), (0,
                    n.jsx)(d.A, {
                        sx: {
                            color: "#4FB741",
                            fontSize: 16
                        },
                        className: (0,
                        a.A)(r().chevron, I ? r().rotated : "")
                    })]
                }), (0,
                n.jsx)(c.$, {
                    show: I,
                    onClose: T,
                    onRemove: () => {
                        T(),
                        P({
                            event: "RemoveTripHotel"
                        }),
                        E(L),
                        b && O(b, j),
                        null == S || S({
                            entity: f.q.MAIN_TRIP,
                            hotelId: void 0,
                            leg: null
                        })
                    }
                    ,
                    onReplace: l ? () => {
                        T(),
                        (0,
                        x.WO)({
                            tripId: (null == D ? void 0 : D.id) || "",
                            legIndex: L,
                            action: "replace-hotel"
                        }),
                        S && M ? S({
                            entity: "hotel-search",
                            leg: M,
                            legIndex: L,
                            hotelSearchId: M.hotelSearchId || ""
                        }) : k.push("/hotels")
                    }
                    : void 0,
                    anchorEl: C
                })]
            })
        }
    }
    ,
    83061: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => o
        });
        var n = i(74848)
          , l = i(89906)
          , r = i(84584)
          , a = i.n(r);
        let o = e => {
            let {hotel: t, big: i, inMap: r, moreClass: o, forceCompactLayout: s=!1, reviewScoreString: d, tAsString: c} = e
              , u = c("topicPage.chatSection.cards.review_title.".concat(d));
            if (!t.reviewScore)
                return;
            let p = (0,
            l.A)(r ? a().score_in_map : i ? a().score_big : o ? a().score_in_map_more : a().score, {
                [a().compact_score]: s && !r && !i && !o
            })
              , v = (0,
            l.A)(r ? a().score_text_in_map : i ? a().score_text_big : o ? a().score_text_more : a().score_text, {
                [a().compact_score_text]: s && !r && !i && !o
            })
              , _ = (0,
            l.A)(r ? a().score_review_in_map : i ? a().reviews_big : o ? a().reviews_more : a().reviews, {
                [a().compact_reviews]: s && !r && !i && !o
            });
            return (0,
            n.jsxs)("div", {
                className: a().container,
                style: {
                    gap: r ? "4px" : ""
                },
                children: [(0,
                n.jsx)("div", {
                    className: p,
                    children: t.reviewScore.toFixed(1)
                }), (0,
                n.jsxs)("div", {
                    className: a().info,
                    children: [(0,
                    n.jsx)("span", {
                        className: v,
                        children: u
                    }), (0,
                    n.jsx)("span", {
                        className: _,
                        children: r ? c("topicPage.chatSection.cards.hotelRating", {
                            numberOfReviews: t.numberOfReviews
                        }).replace(" ", "").slice(1, -1) : c("topicPage.chatSection.cards.hotelRating", {
                            numberOfReviews: t.numberOfReviews
                        })
                    })]
                })]
            })
        }
    }
    ,
    13171: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848)
          , l = i(13084)
          , r = i(97917)
          , a = i(13725)
          , o = i(31638)
          , s = i.n(o);
        let d = e => {
            var t;
            let {hotel: i} = e
              , o = null !== (t = i.stars) && void 0 !== t ? t : 0
              , d = Array(Math.floor(o)).fill(0);
            return d.length > 0 ? (0,
            n.jsxs)("div", {
                className: s().stars,
                children: [d.map( (e, t) => (0,
                n.jsx)(a.A, {
                    src: l.A,
                    alt: "star",
                    width: 16,
                    height: 16
                }, t)), 1 == (o % 1 > .5 ? 1 : 0) && (0,
                n.jsx)(a.A, {
                    src: r.A,
                    alt: "half-star",
                    width: 16,
                    height: 16
                })]
            }) : null
        }
    }
    ,
    34588: (e, t, i) => {
        "use strict";
        i.d(t, {
            J: () => l,
            m: () => n
        });
        let n = "right-sidebar"
          , l = "right-sidebar-expandable-wrapper"
    }
    ,
    39137: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => c
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(55405)
          , a = i(81872)
          , o = i(53254)
          , s = i(86715)
          , d = i(20285);
        let c = e => {
            let {children: t, showFooter: i=!0, contentContainerClassname: c, pageHead: u} = e
              , {push: p} = (0,
            s.useRouter)()
              , v = (0,
            l.useCallback)(e => {
                e.preventDefault(),
                e.stopPropagation(),
                p({
                    pathname: d.bw.home
                })
            }
            , [p]);
            return (0,
            n.jsxs)(r.G, {
                navBar: (0,
                n.jsx)(a.A, {
                    className: "fixed w-full top-0 z-[1000] bg-background",
                    onLogoClick: v
                }),
                footer: i ? (0,
                n.jsx)(o.A, {}) : void 0,
                children: [u && u, (0,
                n.jsx)("div", {
                    className: c,
                    children: t
                })]
            })
        }
    }
    ,
    86409: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(74848)
          , l = i(95494)
          , r = i.n(l);
        let a = e => {
            let {className: t, wrapperStyles: i, "data-testid": l="loader"} = e;
            return (0,
            n.jsx)("div", {
                className: "".concat(r().wrapper, " ").concat(i || ""),
                children: (0,
                n.jsx)("div", {
                    className: t || r().loader,
                    "data-testid": l
                })
            })
        }
    }
    ,
    36909: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => l
        });
        var n = i(74848);
        let l = e => {
            let {fillColor: t, width: i, height: l} = e;
            return (0,
            n.jsx)("svg", {
                width: "".concat(i),
                height: "".concat(l),
                viewBox: "0 0 24 24",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                children: (0,
                n.jsx)("path", {
                    d: "M12.398 19.804L12.8585 20.6917L12.8585 20.6917L12.398 19.804ZM11.602 19.804L11.1415 20.6917L11.1415 20.6917L11.602 19.804ZM18 11C18 13.1458 16.9079 14.9159 15.545 16.2906C14.183 17.6644 12.6342 18.555 11.9376 18.9163L12.8585 20.6917C13.6448 20.2838 15.397 19.2805 16.9653 17.6987C18.5326 16.1178 20 13.8706 20 11H18ZM12 5C15.3137 5 18 7.68629 18 11H20C20 6.58172 16.4183 3 12 3V5ZM6 11C6 7.68629 8.68629 5 12 5V3C7.58172 3 4 6.58172 4 11H6ZM12.0624 18.9163C11.3658 18.555 9.81702 17.6644 8.45503 16.2906C7.09211 14.9159 6 13.1458 6 11H4C4 13.8706 5.46741 16.1178 7.03474 17.6987C8.60299 19.2805 10.3552 20.2838 11.1415 20.6917L12.0624 18.9163ZM11.9376 18.9163C11.9514 18.9091 11.9733 18.9023 12 18.9023C12.0267 18.9023 12.0486 18.9091 12.0624 18.9163L11.1415 20.6917C11.6831 20.9726 12.3169 20.9726 12.8585 20.6917L11.9376 18.9163ZM14 11C14 12.1046 13.1046 13 12 13V15C14.2091 15 16 13.2091 16 11H14ZM12 9C13.1046 9 14 9.89543 14 11H16C16 8.79086 14.2091 7 12 7V9ZM10 11C10 9.89543 10.8954 9 12 9V7C9.79086 7 8 8.79086 8 11H10ZM12 13C10.8954 13 10 12.1046 10 11H8C8 13.2091 9.79086 15 12 15V13Z",
                    fill: t
                })
            })
        }
    }
    ,
    15747: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => c
        });
        var n = i(74848)
          , l = i(89906)
          , r = i(13725)
          , a = i(96540)
          , o = i(18866)
          , s = i.n(o);
        let d = {
            src: "/_next/static/media/arrow-back-dark.7b4febcf.svg",
            height: 800,
            width: 800,
            blurWidth: 0,
            blurHeight: 0
        }
          , c = e => {
            let {children: t, showNavigation: i=!0, leftButtonClassName: o, rightButtonClassName: c, iconSize: u=24, tileWidth: p, gap: v=16, padding: _, onTileIndexChange: m, ref: h} = e
              , g = (0,
            a.useRef)(null)
              , f = null != h ? h : g
              , [x,y] = (0,
            a.useState)(!1)
              , [b,j] = (0,
            a.useState)(!1)
              , w = (0,
            a.useRef)(null);
            (0,
            a.useEffect)( () => {
                var e, n;
                i && a.Children.count(t) > 1 && (null === (e = f.current) || void 0 === e ? void 0 : e.scrollWidth) && (null === (n = f.current) || void 0 === n ? void 0 : n.offsetWidth) && f.current.scrollWidth > f.current.offsetWidth && A()
            }
            , [i]);
            let A = () => {
                if (f.current) {
                    if (i) {
                        let e = f.current.scrollLeft > 0
                          , t = f.current.scrollLeft + f.current.offsetWidth < f.current.scrollWidth;
                        y(e),
                        j(t)
                    }
                    if (p && m) {
                        let e = Math.min(Math.max(Math.round((f.current.scrollLeft - 16 - p / 4) / (p + 16)), 0), a.Children.count(t) - 1);
                        w.current !== e && (w.current = e,
                        m(e))
                    }
                }
            }
            ;
            (0,
            a.useEffect)( () => {
                let e = f.current;
                return e && e.addEventListener("scroll", A),
                () => {
                    e && e.removeEventListener("scroll", A)
                }
            }
            , []);
            let I = null != o ? o : (0,
            l.A)(s().scroller_button, s().scroller_button_left)
              , C = null != c ? c : (0,
            l.A)(s().scroller_button, s().scroller_button_right);
            return (0,
            n.jsxs)("div", {
                className: s().scrollerContainer,
                children: [(0,
                n.jsx)("button", {
                    style: x ? void 0 : {
                        display: "none"
                    },
                    className: I,
                    onClick: () => {
                        i && f.current && f.current.scrollTo({
                            left: f.current.scrollLeft - 292,
                            behavior: "smooth"
                        })
                    }
                    ,
                    children: (0,
                    n.jsx)(r.A, {
                        src: d,
                        width: u,
                        height: u,
                        alt: "back-arrow-icon"
                    })
                }), (0,
                n.jsx)("div", {
                    className: s().scroller,
                    style: {
                        gap: "".concat(v, "px"),
                        padding: _
                    },
                    ref: f,
                    children: t
                }), (0,
                n.jsx)("button", {
                    style: b ? void 0 : {
                        display: "none"
                    },
                    className: C,
                    onClick: () => {
                        i && f.current && f.current.scrollTo({
                            left: f.current.scrollLeft + 292,
                            behavior: "smooth"
                        })
                    }
                    ,
                    children: (0,
                    n.jsx)(r.A, {
                        src: d,
                        width: u,
                        height: u,
                        alt: "forward-arrow-icon",
                        style: {
                            transform: "rotate(180deg)"
                        }
                    })
                })]
            })
        }
    }
    ,
    21738: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => m
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(14953)
          , a = i.n(r)
          , o = i(13725);
        let s = {
            src: "/_next/static/media/new-character-medium.7d819061.webp",
            height: 629,
            width: 629,
            blurDataURL: "data:image/webp;base64,UklGRsoAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSEEAAAAAACau8fGvJwAm7v/////vKK7///////+x8f////////Tx////////9a////////+yJ+//////8CoAKLH09bIqAABWUDggYgAAAPABAJ0BKggACAACQDglsAJ0APRPD0zIgAD+zgDpC+nmN0zemvdu3Dz4y8cHnFT1oS9oMPQjvIVgIhpPsYnEXYtsD/pzYv7JVPwqCZpUW1ewO52VMu/PhLVH+iina/gkYAAA",
            blurWidth: 8,
            blurHeight: 8
        };
        var d = i(98935)
          , c = i(18584)
          , u = i(48441)
          , p = i(50468)
          , v = i.n(p);
        let _ = a()( () => Promise.resolve().then(i.bind(i, 97195)), {
            loadableGenerated: {
                webpack: () => [97195]
            },
            ssr: !1
        })
          , m = function(e) {
            let {shouldRenderPaywall: t=!1} = e
              , {tAsObject: i, tAsString: r} = (0,
            d.Ay)()
              , a = (0,
            l.useRef)(null)
              , {isBot: p} = (0,
            c.U)()
              , {showPopupPaywall: m, closePaywall: h} = (0,
            u.M)()
              , g = (0,
            l.useMemo)( () => (0,
            n.jsx)(_, {
                onClosePaywall: () => {
                    h(!0)
                }
                ,
                location: "side-panel",
                showCloseButton: !0,
                isPopup: !0
            }), [h])
              , f = i("common.tripGenerationLoader.steps", {
                returnObjects: !0
            });
            return (0,
            l.useEffect)( () => {
                let e = a.current;
                if (!e)
                    return;
                let t = e.querySelector(".".concat(v().unit));
                if (!t)
                    return;
                let i = Math.round(t.getBoundingClientRect().height);
                e.style.setProperty("--dist", "".concat(i, "px"));
                let n = Math.max(3, i / 24);
                e.style.animationDuration = "".concat(n, "s")
            }
            , [f.length]),
            (0,
            n.jsxs)("div", {
                className: v().container,
                children: [!p && m && t && g, (0,
                n.jsxs)("div", {
                    className: v().content,
                    children: [(0,
                    n.jsxs)("div", {
                        className: v().logoContainer,
                        children: [(0,
                        n.jsx)(o.A, {
                            src: s,
                            alt: "Layla",
                            width: 80,
                            height: 80
                        }), (0,
                        n.jsx)("h2", {
                            className: v().title,
                            children: r("common.tripGenerationLoader.title")
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: v().conveyor,
                        children: (0,
                        n.jsxs)("div", {
                            className: v().conveyorTrack,
                            ref: a,
                            children: [(0,
                            n.jsxs)("div", {
                                className: v().unit,
                                children: [(0,
                                n.jsx)("div", {
                                    className: v().sequence,
                                    children: f.map( (e, t) => (0,
                                    n.jsx)("div", {
                                        className: v().conveyorItem,
                                        children: e
                                    }, "a-".concat(t)))
                                }), (0,
                                n.jsx)("div", {
                                    className: v().spacer,
                                    "aria-hidden": "true"
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: v().unit,
                                "aria-hidden": "true",
                                children: [(0,
                                n.jsx)("div", {
                                    className: v().sequence,
                                    children: f.map( (e, t) => (0,
                                    n.jsx)("div", {
                                        className: v().conveyorItem,
                                        children: e
                                    }, "b-".concat(t)))
                                }), (0,
                                n.jsx)("div", {
                                    className: v().spacer,
                                    "aria-hidden": "true"
                                })]
                            })]
                        })
                    })]
                })]
            })
        }
    }
    ,
    77749: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => h
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(89722)
          , a = i(95960)
          , o = i.n(a)
          , s = i(14953)
          , d = i.n(s)
          , c = i(83819)
          , u = i(98935)
          , p = i(69235)
          , v = i(18584)
          , _ = i(71975);
        let m = d()( () => Promise.all([i.e(2212), i.e(6924), i.e(18)]).then(i.bind(i, 40018)), {
            loadableGenerated: {
                webpack: () => [40018]
            },
            ssr: !1
        });
        function h(e) {
            let {shareUrl: t, shareButtonsTitle: i, eventCardName: a, itineraryTitle: s, locationImgUrl: d, isPage: h, onClick: g, eventData: f, showIcon: x, className: y, tooltipPosition: b, variant: j} = e
              , [w,A] = (0,
            l.useState)(!1)
              , {tAsString: I} = (0,
            u.Ay)()
              , {isMobile: C} = (0,
            v.U)()
              , {isLoggedIn: N, setShowSignupRegPopup: T} = (0,
            _.A)()
              , k = "Trip" === a
              , S = () => {
                A(!1)
            }
              , R = (0,
            n.jsx)(m, {
                isPage: h,
                shareUrl: t,
                onClose: S,
                locationImgUrl: d,
                eventCardName: a,
                shareButtonsTitle: i,
                customCss: "",
                itineraryTitle: s,
                eventData: f,
                showSharePopup: w
            })
              , E = (0,
            p.A)((0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("div", {
                    className: o().share_mask,
                    onClick: S
                }), (0,
                n.jsx)(m, {
                    isPage: h,
                    shareUrl: t,
                    onClose: S,
                    locationImgUrl: d,
                    eventCardName: a,
                    shareButtonsTitle: i,
                    customCss: o().share_popup_header_portal,
                    itineraryTitle: s,
                    eventData: f
                })]
            }), "share-popup-header")
              , P = (0,
            p.A)((0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("div", {
                    className: o().share_mask,
                    onClick: S
                }), (0,
                n.jsx)(m, {
                    isPage: h,
                    shareUrl: t,
                    onClose: S,
                    locationImgUrl: d,
                    eventCardName: a,
                    shareButtonsTitle: i,
                    customCss: o().share_popup_bottom_bar,
                    itineraryTitle: s,
                    eventData: f
                })]
            }), "share-popup-bottom-bar");
            return (0,
            n.jsxs)("div", {
                className: o().share_button_container,
                children: [(0,
                n.jsx)(c.A, {
                    tooltip: C || w ? "" : I(k ? "trip.tripPopups.shareTrip" : "videoDestinationPage.buttons.share"),
                    position: b || (x ? "bottom-center" : "bottom-right"),
                    children: (0,
                    n.jsx)(r.A, {
                        className: y,
                        showIcon: x,
                        onClick: () => {
                            if (!N) {
                                T({
                                    open: !0,
                                    trigger: "share_button",
                                    callback: () => {
                                        A(!0)
                                    }
                                });
                                return
                            }
                            A(e => !e),
                            null == g || g()
                        }
                        ,
                        sx: {
                            borderRadius: "40px"
                        }
                    })
                }), C ? R : w && ("header" === j ? E : "bottom-bar" === j ? P : (0,
                n.jsxs)(n.Fragment, {
                    children: [(0,
                    n.jsx)("div", {
                        className: o().share_mask,
                        onClick: S
                    }), (0,
                    n.jsx)(m, {
                        isPage: h,
                        shareUrl: t,
                        onClose: S,
                        locationImgUrl: d,
                        eventCardName: a,
                        shareButtonsTitle: i,
                        customCss: o().share_popup,
                        itineraryTitle: s,
                        eventData: f
                    })]
                }))]
            })
        }
    }
    ,
    48891: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => p
        });
        var n = i(74848)
          , l = i(80368)
          , r = i.n(l)
          , a = i(96540)
          , o = i(89906)
          , s = i(88023)
          , d = i(98935)
          , c = i(29965)
          , u = i.n(c);
        let p = e => {
            let {activity: t, buttonClass: i="", buttonText: l, onClick: c} = e
              , {tAsString: p} = (0,
            d.Ay)()
              , v = (0,
            s.A)()
              , _ = (0,
            a.useCallback)(e => {
                e.stopPropagation(),
                v({
                    event: "AddActivityButtonClick",
                    data: {
                        id: t.id
                    }
                }),
                null == c || c()
            }
            , [t.id, c, v]);
            return (0,
            n.jsxs)("div", {
                onClick: e => _(e),
                className: (0,
                o.A)(r().button, i),
                children: [(0,
                n.jsx)(u(), {
                    src: "/plusWhite.svg",
                    alt: "Plus icon",
                    width: 12,
                    height: 12
                }), null != l ? l : p("topicPage.chatSection.cards.activityCard.addToTrip")]
            })
        }
    }
    ,
    73877: (e, t, i) => {
        "use strict";
        i.d(t, {
            a: () => C
        });
        var n = i(74848);
        i(96540);
        var l = i(45552)
          , r = i(13725)
          , a = i(68796)
          , o = i(26015)
          , s = i(89906)
          , d = i(79223)
          , c = i(18584)
          , u = i(65018)
          , p = i(50211)
          , v = i(36720)
          , _ = i.n(v)
          , m = i(77002)
          , h = i.n(m)
          , g = i(91106)
          , f = i.n(g)
          , x = i(45648)
          , y = i(98935)
          , b = i(85610)
          , j = i(97025)
          , w = i(48891)
          , A = i(27710)
          , I = i(99621);
        let C = e => {
            var t, i, v;
            let {activity: m, isChecked: g, formattedPrice: C, onClick: N, onCheckClick: T, onAddSearchResultItemToChatClick: k, onRemoveActivity: S, showEditOptions: R=!1} = e
              , {tAsString: E} = (0,
            y.Ay)()
              , P = (0,
            x.re)()(m.webUrl)
              , {isMobile: D} = (0,
            c.U)()
              , {showPopup: M, anchorEl: L, handleButtonClick: O, handleClosePopup: F} = (0,
            I.U)()
              , B = null !== (v = m.rating) && void 0 !== v ? v : 0
              , H = Array(Math.floor(B)).fill(0)
              , U = (null === (t = m.duration) || void 0 === t ? void 0 : t.value) && (null === (i = m.duration) || void 0 === i ? void 0 : i.unit)
              , z = m.type !== l.Mr.ATTRACTION
              , {formattedPrice: q} = (0,
            u.A)(m.priceInEurosPerPerson, "EUR", void 0, !0)
              , V = null != C ? C : q
              , W = (0,
            j.eg)(m).slice(0, 6)
              , G = (0,
            s.A)(_().container, {
                [_().selected]: g
            });
            return (0,
            n.jsx)("div", {
                children: (0,
                n.jsxs)("div", {
                    className: G,
                    onClick: N,
                    id: "activity-".concat(m.id.toString()),
                    children: [(0,
                    n.jsx)("div", {
                        className: _().image_wrapper,
                        children: (0,
                        n.jsx)(p.A, {
                            controlsStyle: "white",
                            removeDots: 1 === W.length,
                            hideButtons: D,
                            children: W.map( (e, t) => (0,
                            n.jsx)("div", {
                                className: _().carousel_item,
                                children: (0,
                                n.jsx)("div", {
                                    className: _().imageWrapper,
                                    children: (0,
                                    n.jsx)(r.A, {
                                        className: _().image,
                                        src: e,
                                        alt: "Activity image",
                                        width: 200,
                                        height: 280,
                                        style: {
                                            objectFit: "cover"
                                        }
                                    })
                                })
                            }, t + 1))
                        })
                    }), (0,
                    n.jsxs)("div", {
                        className: _().info,
                        children: [(0,
                        n.jsxs)("div", {
                            className: _().wrapperText,
                            children: [(0,
                            n.jsx)("p", {
                                className: _().titleActivity,
                                children: m.name
                            }), U && z ? (0,
                            n.jsx)("p", {
                                className: _().optionsActivity,
                                children: "".concat(m.duration.value, " ").concat((0,
                                b.zG)(m.duration.value, m.duration.unit, E))
                            }) : (0,
                            n.jsx)("p", {
                                className: _().optionsActivity,
                                children: E("trip.itinerary.attraction.title")
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: _().infoWrapper,
                            children: [(0,
                            n.jsxs)("div", {
                                className: _().infoBlock,
                                children: [H.length > 0 ? (0,
                                n.jsx)(d.A, {
                                    starsArray: H,
                                    halfStar: B % 1 > .5 ? 1 : 0,
                                    stars: B,
                                    numberOfRatings: null == m ? void 0 : m.numberOfRatings
                                }) : null, (0,
                                n.jsx)("p", {
                                    className: _().price,
                                    children: V ? (0,
                                    n.jsxs)(n.Fragment, {
                                        children: [E("hotels.from"), (0,
                                        n.jsx)("span", {
                                            children: V
                                        })]
                                    }) : (0,
                                    n.jsx)(f(), {
                                        target: "_blank",
                                        rel: "noreferer",
                                        href: P,
                                        children: (0,
                                        n.jsx)("span", {
                                            children: E("trip.itinerary.attraction.viewPrice")
                                        })
                                    })
                                })]
                            }), k && (0,
                            n.jsx)(w.A, {
                                activity: m,
                                onClick: k,
                                buttonClass: "".concat(_().hotel_style)
                            }), S && (0,
                            n.jsxs)("div", {
                                className: (0,
                                s.A)(h().button_wrapper, _().compact_button_wrapper),
                                children: [(0,
                                n.jsx)("button", {
                                    className: (0,
                                    s.A)(g ? h().added_button : h().add_button, _().compact_button, R ? "" : h().no_hover_pointer),
                                    onClick: e => {
                                        e.stopPropagation(),
                                        R ? g && S ? O(e) : T && !g && T(e) : null == N || N()
                                    }
                                    ,
                                    children: g ? (0,
                                    n.jsxs)(n.Fragment, {
                                        children: [(0,
                                        n.jsxs)("div", {
                                            className: h().leftSection,
                                            children: [(0,
                                            n.jsx)(a.A, {
                                                color: "#4FB741",
                                                alt: E("topicPage.chatSection.cards.activityCard.addedToTrip"),
                                                width: 16,
                                                height: 16
                                            }), (0,
                                            n.jsx)("span", {
                                                className: h().text,
                                                children: E("topicPage.chatSection.cards.activityCard.addedToTrip")
                                            })]
                                        }), !!S && R && (0,
                                        n.jsx)(o.A, {
                                            sx: {
                                                color: "#4FB741",
                                                fontSize: 16,
                                                transform: M ? "rotate(180deg)" : "rotate(0deg)",
                                                transition: "transform 0.2s ease-in-out"
                                            }
                                        })]
                                    }) : (0,
                                    n.jsxs)(n.Fragment, {
                                        children: [(0,
                                        n.jsx)(r.A, {
                                            src: "/plusWhite.svg",
                                            alt: E("topicPage.chatSection.cards.activityCard.addToTrip"),
                                            width: 16,
                                            height: 16
                                        }), E("topicPage.chatSection.cards.activityCard.addToTrip")]
                                    })
                                }), (0,
                                n.jsx)(A.$, {
                                    show: M && !!g && !!S && R,
                                    onClose: F,
                                    onRemove: () => {
                                        F(),
                                        null == S || S()
                                    }
                                    ,
                                    onReplace: void 0,
                                    anchorEl: L
                                })]
                            })]
                        })]
                    })]
                })
            })
        }
    }
    ,
    79223: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848)
          , l = i(36720)
          , r = i.n(l)
          , a = i(13725)
          , o = i(13084)
          , s = i(97917);
        let d = function(e) {
            let {starsArray: t, halfStar: i, stars: l, numberOfRatings: d} = e;
            return (0,
            n.jsxs)("div", {
                className: r().ratingWrapper,
                children: [(0,
                n.jsxs)("div", {
                    className: r().stars,
                    children: [t.map( (e, t) => (0,
                    n.jsx)(a.A, {
                        src: o.A,
                        alt: "star",
                        width: 16,
                        height: 16
                    }, t)), 1 === i && (0,
                    n.jsx)(a.A, {
                        src: s.A,
                        alt: "half-star",
                        width: 16,
                        height: 16
                    })]
                }), void 0 !== l && (0,
                n.jsx)("span", {
                    children: l.toFixed(1)
                }), void 0 !== d && (0,
                n.jsx)("small", {
                    children: "(".concat(d, ")")
                })]
            })
        }
    }
    ,
    82919: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(74848);
        i(96540);
        var l = i(69235);
        let r = {
            position: "fixed",
            top: 0,
            bottom: 0,
            right: 0,
            left: 0,
            zIndex: 999,
            width: "100svw",
            height: "100svh",
            pointerEvents: "auto"
        }
          , a = function(e) {
            let {close: t} = e;
            return (0,
            l.A)((0,
            n.jsx)("div", {
                style: r,
                onClick: () => t(!1)
            }))
        }
    }
    ,
    27710: (e, t, i) => {
        "use strict";
        i.d(t, {
            $: () => p
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(34032)
          , a = i(97235)
          , o = i(34544)
          , s = i(45728)
          , d = i(35820)
          , c = i(98935);
        let u = {
            popper: {
                zIndex: 1e4
            },
            paper: {
                minWidth: 120,
                borderRadius: "8px",
                border: "1px solid #E6E6E6",
                marginBottom: "8px"
            },
            menuList: {
                padding: "8px 0"
            },
            menuItem: {
                fontSize: "14px",
                color: "#1F1F1F",
                fontWeight: 400,
                lineHeight: "20px",
                padding: "8px 16px",
                "&:hover": {
                    backgroundColor: "#F6F6F6"
                }
            }
        }
          , p = e => {
            let {show: t, onClose: i, onRemove: p, onReplace: v, anchorEl: _} = e
              , {tAsString: m} = (0,
            c.Ay)();
            return (0,
            l.useEffect)( () => {
                if (!t)
                    return;
                let e = () => {
                    i()
                }
                ;
                return window.addEventListener("scroll", e, !0),
                () => {
                    window.removeEventListener("scroll", e, !0)
                }
            }
            , [t, i]),
            (0,
            n.jsx)(r.A, {
                open: t,
                anchorEl: _,
                placement: "top-end",
                style: u.popper,
                children: (0,
                n.jsx)(a.x, {
                    onClickAway: i,
                    children: (0,
                    n.jsx)(o.A, {
                        elevation: 3,
                        sx: u.paper,
                        children: (0,
                        n.jsxs)(s.A, {
                            dense: !0,
                            sx: u.menuList,
                            children: [(0,
                            n.jsx)(d.A, {
                                onClick: e => {
                                    e.stopPropagation(),
                                    p()
                                }
                                ,
                                sx: u.menuItem,
                                children: m("remove").charAt(0).toUpperCase() + m("remove").slice(1)
                            }), v && (0,
                            n.jsx)(d.A, {
                                onClick: e => {
                                    e.stopPropagation(),
                                    null == v || v()
                                }
                                ,
                                sx: u.menuItem,
                                children: m("replace").charAt(0).toUpperCase() + m("replace").slice(1)
                            })]
                        })
                    })
                })
            })
        }
    }
    ,
    93262: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => F
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(91106)
          , a = i.n(r)
          , o = i(13725)
          , s = i(39891)
          , d = i.n(s);
        let c = {
            src: "/_next/static/media/nameChat.27ce2bf4.svg",
            height: 16,
            width: 16,
            blurWidth: 0,
            blurHeight: 0
        }
          , u = e => ({
            backgroundColor: e ? "#FFFFFF" : "#F2F2F2"
        })
          , p = e => {
            let {onClick: t, customStyle: i, isRightPanelExpanded: l, isTrip: r=!1, isHotelsPage: a=!1} = e
              , {backgroundColor: s} = u(r);
            return (0,
            n.jsx)("button", {
                className: "".concat(d().expand_panel_button, " ").concat(l && d().rotate),
                style: {
                    backgroundColor: s,
                    ...i
                },
                onClick: () => t ? t() : null,
                children: (0,
                n.jsx)(o.A, {
                    className: l ? d().rotate : "",
                    style: a ? {
                        filter: "invert(1)"
                    } : {},
                    src: c,
                    alt: "expand-panel-button",
                    width: 18,
                    height: 18
                })
            })
        }
        ;
        var v = i(77222)
          , _ = i(45552)
          , m = i(97025)
          , h = i(84242)
          , g = i(62266)
          , f = i(23722)
          , x = i.n(f)
          , y = i(65018)
          , b = i(38067)
          , j = i(88023)
          , w = i(98935)
          , A = i(17555)
          , I = i(9433)
          , C = i(45648);
        function N(e) {
            var t, i, l;
            let {location: r="checkout-page", transport: s, travelers: d, tripId: c, transportType: u, title: p, onRemove: v, transferData: _} = e
              , {tAsString: m} = (0,
            w.Ay)()
              , h = (0,
            j.A)()
              , f = (0,
            C.re)()
              , N = "gyg" === s.provider
              , T = "price-breakdown" === r
              , k = (null == s ? void 0 : s.carriers) || []
              , {price: S, currency: R} = (0,
            b.J)(s)
              , E = !!s.priceInEurosPerPerson
              , {formattedPrice: P} = (0,
            y.A)(E && S ? S * d : S, R, void 0, !0);
            if (!(null == s ? void 0 : s.price) && !(null == s ? void 0 : s.priceInEuros) && !s.priceInEurosPerPerson)
                return null;
            let D = N && s.webUrl ? f(s.webUrl) : s.deepLink || s.url || ""
              , M = () => {
                c && h({
                    event: "TripBasket".concat((0,
                    I.Z)(s.subType), "Click"),
                    data: {
                        tripId: c
                    }
                })
            }
              , L = p || s.latest && ( () => {
                if (!s.segments || 0 === s.segments.length)
                    return null;
                let e = [];
                return s.segments.forEach( (t, i) => {
                    0 === i ? e.push("".concat(t.fromIataName, " (").concat(t.fromIata, ") ➔ ").concat(t.toIataName, " (").concat(t.toIata, ")")) : e.push(" ➔ ".concat(t.toIataName, " (").concat(t.toIata, ")"))
                }
                ),
                e.join("")
            }
            )() || (0,
            n.jsxs)(n.Fragment, {
                children: [s.fromCity || (null == s ? void 0 : s.fromIataName) || (null == s ? void 0 : s.fromStation), " ", (null == s ? void 0 : s.fromIata) && (0,
                n.jsxs)(n.Fragment, {
                    children: ["(", s.fromIata, ")"]
                }), " ➔", " ", s.toCity || (null == s ? void 0 : s.toIataName) || (null == s ? void 0 : s.toStation), " ", (null == s ? void 0 : s.toIata) && (0,
                n.jsxs)(n.Fragment, {
                    children: ["(", s.toIata, ")"]
                })]
            })
              , O = ( () => {
                let e = !!_ || u === A.Xz.Bus && "gyg" === s.provider;
                return u === A.Xz.Flight ? {
                    icon: "/plane.svg",
                    text: m("agent.flight.flight")
                } : e ? {
                    icon: "/bus.svg",
                    text: m("trip.itinerary.transfer.transferName")
                } : "car" === s.subType || (null == p ? void 0 : p.toLowerCase().includes("rental")) ? {
                    icon: "/car.svg",
                    text: m("topicPage.chatSection.cards.carRental")
                } : null
            }
            )()
              , F = u === A.Xz.Flight && !s.latest;
            return (0,
            n.jsxs)("div", {
                className: x().item,
                children: [!T && (0,
                n.jsx)("div", {
                    className: x().item_flight_icon,
                    children: F ? (0,
                    n.jsx)("div", {
                        className: x().estimated_badge,
                        children: m("trip.itinerary.transport.estimated")
                    }) : 0 === k.length ? (0,
                    n.jsx)(o.A, {
                        src: null !== (l = null == _ ? void 0 : null === (t = _.images) || void 0 === t ? void 0 : t[0]) && void 0 !== l ? l : "/TripBooking/transportOptionsIcons/".concat(null != u ? u : "flight", ".svg"),
                        sourceList: null == _ ? void 0 : _.images,
                        alt: "transport",
                        width: 30,
                        height: 30,
                        className: (null == _ ? void 0 : null === (i = _.images) || void 0 === i ? void 0 : i[0]) ? x().transfer_image : void 0
                    }) : 1 === k.length && k[0].imageUrl ? (0,
                    n.jsx)(o.A, {
                        src: k[0].imageUrl,
                        alt: "flight",
                        width: 60,
                        height: 60,
                        className: x().airlines_icon
                    }) : k.length > 1 && k[0].imageUrl ? (0,
                    n.jsx)(o.A, {
                        src: k[0].imageUrl,
                        alt: "flight",
                        width: 60,
                        height: 60,
                        className: x().airlines_icon
                    }) : (0,
                    n.jsx)("p", {
                        className: x().airlines_text,
                        children: k.map(e => e.name).join(" + ")
                    })
                }), (0,
                n.jsxs)("div", {
                    className: x().right,
                    children: [(0,
                    n.jsx)("div", {
                        className: x().left,
                        children: (0,
                        n.jsxs)("div", {
                            style: {
                                width: "100%"
                            },
                            children: [(0,
                            n.jsx)("div", {
                                style: {
                                    display: "flex",
                                    justifyContent: "space-between",
                                    alignItems: "center"
                                },
                                children: (0,
                                n.jsxs)("p", {
                                    className: x().description,
                                    style: {
                                        fontWeight: T ? "normal" : "500"
                                    },
                                    children: [T && (0,
                                    n.jsx)(o.A, {
                                        src: "/plane.svg",
                                        alt: "flight",
                                        width: 16,
                                        height: 16,
                                        style: {
                                            marginRight: 8
                                        }
                                    }), L]
                                })
                            }), !T && O && (0,
                            n.jsxs)("p", {
                                className: x().blockIcon,
                                children: [(0,
                                n.jsx)(o.A, {
                                    src: O.icon,
                                    alt: O.text,
                                    width: 12,
                                    height: 12
                                }), O.text]
                            }), (0,
                            n.jsxs)("div", {
                                className: x().price_and_reserve_mob,
                                children: [(0,
                                n.jsxs)("div", {
                                    style: {
                                        display: "flex",
                                        flexDirection: "column",
                                        gap: "8px"
                                    },
                                    children: [(0,
                                    n.jsx)(g.A, {
                                        className: x().details,
                                        details: s,
                                        showPrice: !1,
                                        travelers: d
                                    }), !T && (0,
                                    n.jsxs)("div", {
                                        style: {
                                            display: "flex",
                                            flexDirection: "column",
                                            gap: "4px"
                                        },
                                        children: [F && (0,
                                        n.jsx)("p", {
                                            className: x().estimated_text_mobile,
                                            children: m("trip.itinerary.transport.estimated")
                                        }), (0,
                                        n.jsx)("p", {
                                            className: x().priceMob,
                                            children: P
                                        })]
                                    })]
                                }), !T && (0,
                                n.jsxs)("div", {
                                    className: x().button_wrapper,
                                    children: [(0,
                                    n.jsxs)(a(), {
                                        href: D,
                                        className: x().book_button,
                                        target: "_blank",
                                        rel: "noreferrer",
                                        onClick: M,
                                        children: [m("trip.tripPopups.reserve"), (0,
                                        n.jsx)(o.A, {
                                            src: "/TripBooking/icons/external-link.svg",
                                            alt: "external-link",
                                            width: 16,
                                            height: 16
                                        })]
                                    }), v && (0,
                                    n.jsx)("button", {
                                        className: x().remove_button,
                                        onClick: v,
                                        children: (0,
                                        n.jsx)(o.A, {
                                            src: "/trash.svg",
                                            alt: "Remove Transport",
                                            width: 20,
                                            height: 20
                                        })
                                    })]
                                })]
                            })]
                        })
                    }), (0,
                    n.jsxs)("div", {
                        className: x().price_and_reserve,
                        children: [!T && (0,
                        n.jsx)("div", {
                            children: (0,
                            n.jsx)(g.A, {
                                className: x().details,
                                details: s,
                                showPrice: !1,
                                travelers: d
                            })
                        }), (0,
                        n.jsx)("div", {
                            children: (0,
                            n.jsx)("p", {
                                style: {
                                    fontWeight: T ? "normal" : "500"
                                },
                                className: x().price,
                                children: P
                            })
                        }), !T && (0,
                        n.jsxs)(a(), {
                            href: D,
                            className: x().book_button,
                            target: "_blank",
                            rel: "noreferrer",
                            onClick: M,
                            children: [m("trip.tripPopups.reserve"), (0,
                            n.jsx)(o.A, {
                                src: "/TripBooking/icons/external-link.svg",
                                alt: "external-link",
                                width: 16,
                                height: 16
                            })]
                        }), T && (0,
                        n.jsx)("p", {
                            className: x().price_in_price_breakdown,
                            children: P
                        }), v && (0,
                        n.jsx)("button", {
                            className: x().remove_button,
                            onClick: v,
                            children: (0,
                            n.jsx)(o.A, {
                                src: "/trash.svg",
                                alt: "Remove Transport",
                                width: 25,
                                height: 25
                            })
                        })]
                    })]
                })]
            })
        }
        var T = i(67154)
          , k = i(29793)
          , S = i(18584)
          , R = i(28001)
          , E = i(72111)
          , P = i(85488)
          , D = i(69123)
          , M = i(48441)
          , L = i(92560)
          , O = i.n(L);
        let F = e => {
            var t, i;
            let {trip: r, formattedTrip: a, onClose: s, formatDatesF: d, toggleExpandSidePanel: c, isRightPanelExpanded: u} = e
              , {tAsString: g} = (0,
            w.Ay)()
              , f = (0,
            C.re)()
              , {isMobile: x} = (0,
            S.U)()
              , y = (0,
            j.A)()
              , {selectedHotels: b, getSelectedLegRoute: I, removeActivity: k, removeHotel: R, changeLegRouteOption: D, removeTransfer: L, getSelectedActivitiesPerLeg: F} = (0,
            T.y)()
              , U = (0,
            h.xC)()
              , {displayPaywall: z, showPaywall: q, showPopupPaywall: V} = (0,
            M.M)();
            (0,
            l.useEffect)( () => {
                (V || q) && s(!1)
            }
            , [q, V, s]);
            let W = (0,
            l.useCallback)( (e, t, i) => {
                var l, a, s, c;
                let u = f(t.webUrl)
                  , p = e => {
                    e.preventDefault(),
                    e.stopPropagation(),
                    y({
                        event: "RemoveTripActivity",
                        data: {
                            activityId: t.id,
                            entityId: r.id
                        }
                    }),
                    k(i, t.id)
                }
                ;
                return (0,
                n.jsx)("div", {
                    className: O().wrapper,
                    children: (0,
                    n.jsxs)("div", {
                        className: O().boxleg,
                        children: [(0,
                        n.jsxs)("div", {
                            className: O().nameBox,
                            children: [(0,
                            n.jsxs)("div", {
                                className: O().imageWrapper,
                                children: [(0,
                                n.jsx)(o.A, {
                                    src: (0,
                                    m.jK)(t),
                                    sourceList: (0,
                                    m.eg)(t),
                                    alt: t.name,
                                    width: 84,
                                    height: 84,
                                    className: O().imageClass
                                }), (0,
                                n.jsx)(o.A, {
                                    src: P.A,
                                    alt: "GetYourGuide",
                                    width: 84,
                                    height: 84,
                                    className: O().sourceBadge
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: O().linePrice,
                                children: [(0,
                                n.jsx)("p", {
                                    className: O().accommodationName,
                                    children: t.name
                                }), (0,
                                n.jsx)("p", {
                                    className: O().accommodationData,
                                    children: d && e && d(new Date(e.startDate), new Date(e.endDate))
                                }), (0,
                                n.jsx)("div", {
                                    style: {
                                        display: "flex",
                                        justifyContent: "space-between",
                                        alignItems: "center"
                                    },
                                    children: (0,
                                    n.jsxs)("p", {
                                        className: O().blockIcon,
                                        children: [(0,
                                        n.jsx)(o.A, {
                                            src: "/attraction-icon-black.svg",
                                            alt: "Accommodation",
                                            width: 12,
                                            height: 12
                                        }), "type"in t && t.type === _.Mr.ATTRACTION ? g("trip.itinerary.attraction.title") : g("topicPage.chatSection.cards.activity")]
                                    })
                                }), x && (0,
                                n.jsxs)("div", {
                                    className: O().pricePeopleBox,
                                    children: [(0,
                                    n.jsxs)("div", {
                                        style: {
                                            display: "flex",
                                            flexWrap: "wrap",
                                            gap: "10px"
                                        },
                                        children: [(0,
                                        n.jsx)("p", {
                                            className: O().perPerson,
                                            style: {
                                                width: "100%"
                                            },
                                            children: "".concat(null === (l = r.travelers) || void 0 === l ? void 0 : l.length, " ").concat((null === (a = r.travelers) || void 0 === a ? void 0 : a.length) > 1 ? g("trip.tripPopups.people") : g("trip.tripPopups.person"))
                                        }), "formattedPrice"in t && (0,
                                        n.jsx)("p", {
                                            className: O().perPersonPrice,
                                            children: t.formattedPrice
                                        })]
                                    }), (0,
                                    n.jsxs)("div", {
                                        className: O().button_wrapper,
                                        children: [(0,
                                        n.jsx)(B, {
                                            className: O().book_activity_button,
                                            link: u,
                                            onClick: () => {
                                                y({
                                                    event: "TripBasketActivityClick",
                                                    data: {
                                                        activityId: t.id,
                                                        entityId: r.id
                                                    }
                                                })
                                            }
                                        }), (0,
                                        n.jsx)("button", {
                                            className: O().remove_button,
                                            onClick: p,
                                            children: (0,
                                            n.jsx)(o.A, {
                                                src: "/trash.svg",
                                                alt: "Remove Activity",
                                                width: 20,
                                                height: 20
                                            })
                                        })]
                                    })]
                                })]
                            })]
                        }), !x && (0,
                        n.jsxs)("div", {
                            className: O().pricePeopleBox,
                            children: [(0,
                            n.jsx)("div", {
                                children: (0,
                                n.jsx)("p", {
                                    className: O().perPerson,
                                    children: "".concat(null === (s = r.travelers) || void 0 === s ? void 0 : s.length, " ").concat((null === (c = r.travelers) || void 0 === c ? void 0 : c.length) > 1 ? g("trip.tripPopups.people") : g("trip.tripPopups.person"))
                                })
                            }), (0,
                            n.jsx)("p", {
                                className: O().perPersonPrice,
                                children: "formattedPrice"in t ? t.formattedPrice : ""
                            }), (0,
                            n.jsx)(B, {
                                className: O().book_activity_button,
                                link: u,
                                onClick: () => {
                                    y({
                                        event: "TripBasketActivityClick",
                                        data: {
                                            activityId: t.id,
                                            entityId: r.id
                                        }
                                    })
                                }
                            }), (0,
                            n.jsx)("button", {
                                className: O().remove_button,
                                onClick: p,
                                children: (0,
                                n.jsx)(o.A, {
                                    src: "/trash.svg",
                                    alt: "Remove Activity",
                                    width: 25,
                                    height: 25
                                })
                            })]
                        })]
                    })
                }, t.id)
            }
            , [y, d, f, x, k, g, r.id, null === (t = r.travelers) || void 0 === t ? void 0 : t.length]);
            return (0,
            n.jsx)("div", {
                className: O().container_wrapper,
                children: (0,
                n.jsxs)("div", {
                    className: O().container,
                    children: [(0,
                    n.jsxs)("div", {
                        className: O().header,
                        children: [(0,
                        n.jsx)(p, {
                            onClick: c,
                            customStyle: {
                                display: "none"
                            },
                            isRightPanelExpanded: u,
                            isTrip: !0
                        }), (0,
                        n.jsx)(v.A, {
                            onClick: () => s(!1),
                            position: "left",
                            customStyles: O().close_button_mobile_position
                        }), (0,
                        n.jsx)("p", {
                            children: g("trip.tripPopups.reviewBookings")
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: O().contentWrapped,
                        children: (0,
                        n.jsx)("div", {
                            className: O().content_activities,
                            children: ( () => {
                                var e;
                                let t = [];
                                return null == r || null === (e = r.legs) || void 0 === e || e.forEach( (e, i) => {
                                    var l, o, s, c, u, p, v, _, m, h, f, x, j, w, C, T;
                                    let k = null == r ? void 0 : null === (o = r.legs) || void 0 === o ? void 0 : o[(null == r ? void 0 : null === (l = r.legs) || void 0 === l ? void 0 : l.length) - 1];
                                    if (i === (null == r ? void 0 : null === (s = r.legs) || void 0 === s ? void 0 : s.length) - 1 && (null == k ? void 0 : k.type) === "pointOfOrigin" && (null == r ? void 0 : null === (c = r.legs) || void 0 === c ? void 0 : c.length) > 1)
                                        return;
                                    let S = a.legs.find(t => t.endDate === e.endDate)
                                      , P = a.legs.findIndex(t => t.endDate === e.endDate)
                                      , M = (null !== (j = null == e ? void 0 : e.imageUrl) && void 0 !== j ? j : "") + Math.floor(1e4 * Math.random())
                                      , B = null == b ? void 0 : null === (u = b[P]) || void 0 === u ? void 0 : u.currentHotel
                                      , q = U(null == B ? void 0 : B.url, "TripBasketHotel")
                                      , V = I(i + 1)
                                      , G = null == V ? void 0 : V.option.find(e => e.details)
                                      , Y = !!((null == G ? void 0 : null === (p = G.details) || void 0 === p ? void 0 : p.price) || (null == G ? void 0 : null === (v = G.details) || void 0 === v ? void 0 : v.priceInEuros))
                                      , X = S && !S.skipAirportTransfer && (null === (_ = S.airportTransfers) || void 0 === _ ? void 0 : _[0])
                                      , J = S && !X && !Y && !(null == B ? void 0 : B.id) && (null === (m = null !== (w = S.selectedActivities) && void 0 !== w ? w : []) || void 0 === m ? void 0 : m.length) === 0;
                                    t.push((0,
                                    n.jsxs)("div", {
                                        children: [(0,
                                        n.jsxs)("div", {
                                            className: O().legContainer,
                                            children: [(S || !J) && (0,
                                            n.jsxs)("p", {
                                                className: O().title_location,
                                                children: [null == e ? void 0 : e.location, " ", "(".concat(g("trip.itinerary.days"), " ").concat(null == e ? void 0 : e.startDay, "-").concat(null == e ? void 0 : e.endDay, ")")]
                                            }), J ? g("trip.tripPopups.noItemsInBasketText") : (0,
                                            n.jsxs)(n.Fragment, {
                                                children: [G && (0,
                                                n.jsx)("div", {
                                                    style: {
                                                        marginBottom: 16
                                                    },
                                                    children: (0,
                                                    n.jsx)(N, {
                                                        location: "checkout-page",
                                                        transport: null == G ? void 0 : G.details,
                                                        travelers: null !== (C = null == r ? void 0 : null === (h = r.travelers) || void 0 === h ? void 0 : h.length) && void 0 !== C ? C : 1,
                                                        tripId: r.id.toString(),
                                                        transportType: null == G ? void 0 : G.subType,
                                                        onRemove: () => {
                                                            y({
                                                                event: "RemoveTripTransport",
                                                                data: {
                                                                    tripId: r.id,
                                                                    legIndex: i + 1
                                                                }
                                                            }),
                                                            D(i + 1, null)
                                                        }
                                                    })
                                                }), X && (0,
                                                n.jsx)("div", {
                                                    style: {
                                                        marginBottom: 16
                                                    },
                                                    children: (0,
                                                    n.jsx)(N, {
                                                        location: "checkout-page",
                                                        transport: X,
                                                        travelers: null !== (T = null == r ? void 0 : null === (f = r.travelers) || void 0 === f ? void 0 : f.length) && void 0 !== T ? T : 1,
                                                        tripId: r.id.toString(),
                                                        transportType: A.Xz.Bus,
                                                        title: X.name,
                                                        transferData: X,
                                                        onRemove: () => {
                                                            y({
                                                                event: "RemoveTripTransfer",
                                                                data: {
                                                                    tripId: r.id,
                                                                    legIndex: i
                                                                }
                                                            }),
                                                            L(i)
                                                        }
                                                    })
                                                }), (null == B ? void 0 : B.id) && (null == e ? void 0 : null === (x = e.selectedHotel) || void 0 === x ? void 0 : x.id) && (0,
                                                n.jsx)(H, {
                                                    leg: e,
                                                    hotel: B,
                                                    hotelUrl: q,
                                                    formatDatesF: d,
                                                    trip: r,
                                                    onRemove: () => {
                                                        y({
                                                            event: "RemoveTripHotel",
                                                            data: {
                                                                hotelId: null == B ? void 0 : B.id,
                                                                entityId: r.id
                                                            }
                                                        }),
                                                        R(i)
                                                    }
                                                }), ( () => {
                                                    let t = []
                                                      , l = [];
                                                    return F(e).forEach(e => {
                                                        var n;
                                                        let l = (null == S ? void 0 : null === (n = S.selectedActivities) || void 0 === n ? void 0 : n.find(t => t.id === e.id)) || e;
                                                        if (!l)
                                                            return;
                                                        let r = W(S, l, i);
                                                        t.push(r)
                                                    }
                                                    ),
                                                    (0,
                                                    n.jsxs)(n.Fragment, {
                                                        children: [t, l.length > 0 && (0,
                                                        n.jsxs)("div", {
                                                            style: {
                                                                position: "relative"
                                                            },
                                                            children: [l, (0,
                                                            n.jsx)("div", {
                                                                className: O().activity_blur_overlay,
                                                                children: (0,
                                                                n.jsx)(E.$, {
                                                                    onClick: () => {
                                                                        y({
                                                                            event: "TripBasketUpgradeClick",
                                                                            data: {
                                                                                tripId: r.id
                                                                            }
                                                                        }),
                                                                        z(!0, "default")
                                                                    }
                                                                    ,
                                                                    children: g("paywall.upgradeToSeeFullTrip")
                                                                })
                                                            })]
                                                        })]
                                                    })
                                                }
                                                )()]
                                            })]
                                        }), (S || !J) && (0,
                                        n.jsx)("hr", {
                                            className: O().hr
                                        })]
                                    }, M))
                                }
                                ),
                                t
                            }
                            )()
                        })
                    }), (null == a ? void 0 : a.formattedTotalPrice) && (0,
                    n.jsx)("div", {
                        className: O().sticky_bottom_nav,
                        children: (0,
                        n.jsxs)("div", {
                            children: [(0,
                            n.jsxs)("div", {
                                className: O().sticky_bottom_total,
                                children: [g("trip.bottomBar.total"), " ", a.formattedTotalPrice]
                            }), d && (null == r ? void 0 : null === (i = r.legs) || void 0 === i ? void 0 : i.length) > 0 && (0,
                            n.jsx)("div", {
                                className: O().sticky_bottom_dates,
                                children: d(new Date(r.startDate), new Date(r.legs[r.legs.length - 1].endDate))
                            })]
                        })
                    })]
                })
            })
        }
          , B = e => {
            let {className: t, link: i, onClick: l} = e
              , {tAsString: r} = (0,
            w.Ay)();
            return (0,
            n.jsxs)(a(), {
                href: i,
                target: "_blank",
                className: t,
                onClick: l,
                children: [r("trip.tripPopups.reserve"), (0,
                n.jsx)(o.A, {
                    src: "/TripBooking/icons/external-link.svg",
                    alt: "external-link",
                    width: 16,
                    height: 16
                })]
            })
        }
          , H = e => {
            var t, i, l, r, a, s, d, c, u, p;
            let {leg: v, hotel: _, hotelUrl: m, formatDatesF: h, trip: g, onRemove: f} = e
              , {userCurrency: x} = (0,
            R.c)()
              , {tAsString: b} = (0,
            w.Ay)()
              , {isMobile: A} = (0,
            S.U)()
              , I = (0,
            j.A)()
              , {formattedPrice: C} = (0,
            y.A)(null !== (c = null == _ ? void 0 : _.priceInEuros) && void 0 !== c ? c : null == _ ? void 0 : _.convertedPrice, "EUR", void 0, !0);
            return (0,
            n.jsx)("div", {
                className: O().wrapper,
                children: (0,
                n.jsxs)("div", {
                    className: O().boxleg,
                    children: [(0,
                    n.jsxs)("div", {
                        className: O().nameBox,
                        children: [(0,
                        n.jsxs)("div", {
                            className: O().imageWrapper,
                            children: [(0,
                            n.jsx)(k.A, {
                                src: null !== (u = null == _ ? void 0 : null === (t = _.photos) || void 0 === t ? void 0 : t[0]) && void 0 !== u ? u : "",
                                alt: null !== (p = null == _ ? void 0 : _.address) && void 0 !== p ? p : "",
                                width: 84,
                                height: 84,
                                className: O().imageClass
                            }), (0,
                            n.jsx)(o.A, {
                                src: D.A,
                                alt: "Booking.com",
                                width: 84,
                                height: 84,
                                className: O().sourceBadge
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: O().linePrice,
                            children: [(0,
                            n.jsx)("p", {
                                className: O().accommodationName,
                                children: null == _ ? void 0 : _.name
                            }), (0,
                            n.jsx)("p", {
                                className: O().accommodationData,
                                children: h && h(new Date(v.startDate), new Date(v.endDate))
                            }), (0,
                            n.jsx)("div", {
                                style: {
                                    display: "flex",
                                    justifyContent: "space-between",
                                    alignItems: "center"
                                },
                                children: (0,
                                n.jsxs)("p", {
                                    className: O().blockIcon,
                                    children: [(0,
                                    n.jsx)(o.A, {
                                        src: "/CardsIcons/hotel-icon.svg",
                                        alt: "Accommodation",
                                        width: 12,
                                        height: 12
                                    }), b("includedSection.included.items.accommodation")]
                                })
                            }), A && (0,
                            n.jsxs)("div", {
                                className: O().pricePeopleBox,
                                children: [(0,
                                n.jsxs)("div", {
                                    style: {
                                        display: "flex",
                                        flexWrap: "wrap",
                                        gap: "7px"
                                    },
                                    children: [(0,
                                    n.jsx)("p", {
                                        className: O().perPerson,
                                        style: {
                                            width: "100%"
                                        },
                                        children: "".concat((null == g ? void 0 : g.numberOfRooms) ? "".concat(null == g ? void 0 : g.numberOfRooms, " ").concat(b((null === (i = g.travelers) || void 0 === i ? void 0 : i.length) > 1 ? "trip.tripPopups.rooms" : "trip.tripPopups.room"), ", ") : "").concat(null === (l = g.travelers) || void 0 === l ? void 0 : l.length, " ").concat(b((null === (r = g.travelers) || void 0 === r ? void 0 : r.length) > 1 ? "trip.tripPopups.people" : "trip.tripPopups.person"))
                                    }), (0,
                                    n.jsx)("p", {
                                        className: O().perPersonPrice,
                                        children: C
                                    })]
                                }), (0,
                                n.jsxs)("div", {
                                    className: O().button_wrapper,
                                    children: [(0,
                                    n.jsx)(B, {
                                        className: O().book_activity_button,
                                        link: null != m ? m : "",
                                        onClick: () => {
                                            I({
                                                event: "TripBasketHotelClick",
                                                data: {
                                                    hotelId: null == _ ? void 0 : _.id,
                                                    entityId: g.id
                                                }
                                            })
                                        }
                                    }, "hotel-".concat(x)), (0,
                                    n.jsx)("button", {
                                        className: O().remove_button,
                                        onClick: e => {
                                            e.preventDefault(),
                                            e.stopPropagation(),
                                            f()
                                        }
                                        ,
                                        children: (0,
                                        n.jsx)(o.A, {
                                            src: "/trash.svg",
                                            alt: "Remove Hotel",
                                            width: 20,
                                            height: 20
                                        })
                                    })]
                                })]
                            })]
                        })]
                    }), !A && (0,
                    n.jsxs)("div", {
                        className: O().pricePeopleBox,
                        children: [(0,
                        n.jsx)("div", {
                            children: (0,
                            n.jsxs)("p", {
                                className: O().perPerson,
                                children: [(null == g ? void 0 : g.numberOfRooms) && "".concat(null == g ? void 0 : g.numberOfRooms, " ").concat(b((null === (a = g.travelers) || void 0 === a ? void 0 : a.length) > 1 ? "trip.tripPopups.rooms" : "trip.tripPopups.room"), ", "), "".concat(null === (s = g.travelers) || void 0 === s ? void 0 : s.length, " ").concat(b((null === (d = g.travelers) || void 0 === d ? void 0 : d.length) > 1 ? "trip.tripPopups.people" : "trip.tripPopups.person"))]
                            })
                        }), (0,
                        n.jsx)("div", {
                            children: (0,
                            n.jsx)("p", {
                                className: O().perPersonPrice,
                                children: C
                            })
                        }), (0,
                        n.jsx)(B, {
                            className: O().book_activity_button,
                            link: null != m ? m : "",
                            onClick: () => {
                                I({
                                    event: "TripBasketHotelClick",
                                    data: {
                                        hotelId: null == _ ? void 0 : _.id,
                                        entityId: g.id
                                    }
                                })
                            }
                        }), (0,
                        n.jsx)("button", {
                            className: O().remove_button,
                            onClick: e => {
                                e.preventDefault(),
                                e.stopPropagation(),
                                f()
                            }
                            ,
                            children: (0,
                            n.jsx)(o.A, {
                                src: "/trash.svg",
                                alt: "Remove Hotel",
                                width: 25,
                                height: 25
                            })
                        })]
                    })]
                })
            }, null == _ ? void 0 : _.id)
        }
    }
    ,
    14090: (e, t, i) => {
        "use strict";
        i.d(t, {
            U: () => j
        });
        var n = i(74848)
          , l = i(89906)
          , r = i(18584)
          , a = i(3058)
          , o = i(30596)
          , s = i(18526)
          , d = i(13365)
          , c = i(96540)
          , u = i(58288)
          , p = i(44697);
        let v = e => (null == e ? void 0 : e.videos) || []
          , _ = e => e.photos ? e.photos : e.images ? e.images : e.imagesUrls ? e.imagesUrls : e.images ? e.images : e.imageUrl ? [e.imageUrl] : []
          , m = e => e.title ? e.title : e.name || "";
        var h = i(82644)
          , g = i.n(h)
          , f = i(29793)
          , x = i(13816)
          , y = i(98935)
          , b = i(50447);
        let j = e => {
            let {item: t, forcedPlaceholderImage: i=null, isRightPanelExpanded: h, setPhotoModal: j, popupState: w, setPopupState: A, extraClass: I, source: C} = e
              , {tAsString: N} = (0,
            y.Ay)()
              , {isMobile: T} = (0,
            r.U)()
              , [k,S] = (0,
            c.useState)(null != w && w)
              , [R,E] = (0,
            c.useState)(new Set)
              , P = (0,
            d.A)("(max-width:768px)")
              , D = (0,
            c.useRef)(null)
              , M = T || P
              , L = (0,
            c.useMemo)( () => {
                let e = v(t)
                  , i = _(t)
                  , n = new Set
                  , l = [];
                return e.forEach(e => {
                    let t = e.thumbnailUrl || "";
                    t && !n.has(t) && (n.add(t),
                    l.push({
                        type: "video",
                        url: e.m3u8Url || e.mp4Url || "",
                        thumbnailUrl: t,
                        videoData: e
                    }))
                }
                ),
                i.forEach(e => {
                    e && !n.has(e) && (n.add(e),
                    l.push({
                        type: "photo",
                        url: e,
                        thumbnailUrl: e
                    }))
                }
                ),
                l
            }
            , [t])
              , O = (0,
            c.useMemo)( () => L.filter(e => !R.has(e.thumbnailUrl)), [L, R])
              , F = (0,
            c.useMemo)( () => O.slice(0, 4), [O])
              , B = F.length
              , H = (0,
            c.useMemo)( () => Math.max(0, O.length - 4), [O.length])
              , U = M || B <= 1
              , z = (0,
            c.useCallback)( (e, i) => {
                var n, l, r;
                return "video" === e.type && (null === (l = e.videoData) || void 0 === l ? void 0 : null === (n = l.seo) || void 0 === n ? void 0 : n.title) ? e.videoData.seo.title : "video" === e.type && (null === (r = e.videoData) || void 0 === r ? void 0 : r.caption) ? e.videoData.caption : i || m(t) || N("common.hotelMediaAlt")
            }
            , [t, N])
              , q = (0,
            c.useCallback)(e => {
                E(t => new Set([...t, e]))
            }
            , [])
              , V = (0,
            c.useCallback)( () => B <= 1 ? null : F.slice(1).map( (e, t) => {
                var i, r, a;
                let o = 2 === t && H > 0
                  , d = "video" === e.type && (null === (i = e.videoData) || void 0 === i ? void 0 : i.caption) && t < 2;
                return (0,
                n.jsxs)("div", {
                    className: (0,
                    l.A)({
                        [g().second_tile]: 0 === t,
                        [g().second_tile_one_row]: 0 === t && B > 2,
                        [g().third_tile]: 1 === t,
                        [g().third_tile_one_column]: 1 === t && B > 3,
                        [g().fourth_tile]: 2 === t
                    }),
                    style: {
                        overflow: "hidden"
                    },
                    children: [o && (0,
                    n.jsxs)("div", {
                        className: (0,
                        l.A)(g().banner_videos_amount, g().banner_videos_amount_desktop),
                        children: ["+", H]
                    }), (0,
                    n.jsx)(f.A, {
                        src: e.thumbnailUrl,
                        alt: z(e),
                        fill: !0,
                        className: (0,
                        l.A)(g().image, {
                            [g().darken_image]: o
                        }),
                        onError: () => q(e.thumbnailUrl)
                    }), d && (0,
                    n.jsx)(s.A, {
                        title: null === (r = e.videoData) || void 0 === r ? void 0 : r.caption,
                        placement: "top",
                        arrow: !0,
                        describeChild: !0,
                        children: (0,
                        n.jsxs)("div", {
                            className: g().video_info_button,
                            children: [(0,
                            n.jsx)(b.A, {
                                fontSize: "small",
                                sx: {
                                    width: "16px",
                                    height: "16px"
                                }
                            }), (0,
                            n.jsx)("span", {
                                className: g().seo_caption,
                                children: null === (a = e.videoData) || void 0 === a ? void 0 : a.caption
                            })]
                        })
                    })]
                }, "media-".concat(t))
            }
            ), [F, B, H, z, q])
              , W = (0,
            c.useCallback)( () => {
                var e, r;
                return (0,
                n.jsxs)(n.Fragment, {
                    children: [(0,
                    n.jsx)(x.Af, {
                        strategy: "center",
                        scrollRef: D,
                        children: (0,
                        n.jsxs)("div", {
                            ref: D,
                            className: (0,
                            l.A)(g().first_tile, {
                                [g().first_tile_desktop]: !M,
                                [g().first_tile_two_rows]: !U || B > 1,
                                [g().first_tile_single_mobile]: M && U && B <= 1
                            }),
                            children: [(0,
                            n.jsx)(f.A, {
                                src: null != i ? i : "/ItineraryPage/nature-scene.webp",
                                alt: m(t),
                                fill: !0,
                                className: g().image
                            }), (null === (e = F[0]) || void 0 === e ? void 0 : e.type) === "video" ? (0,
                            n.jsxs)("div", {
                                className: g().video_wrapper,
                                children: [(0,
                                n.jsx)(p.HLSVideoPlayer, {
                                    id: "trip-banner-video-".concat(t.id),
                                    videoUrl: F[0].url,
                                    className: g().video,
                                    autoPlay: !0,
                                    poster: F[0].thumbnailUrl,
                                    video: F[0].videoData
                                }), (null === (r = F[0].videoData) || void 0 === r ? void 0 : r.caption) && (0,
                                n.jsx)(s.A, {
                                    title: F[0].videoData.caption,
                                    placement: "top",
                                    arrow: !0,
                                    describeChild: !0,
                                    children: (0,
                                    n.jsxs)("div", {
                                        className: g().video_info_button,
                                        children: [(0,
                                        n.jsx)(b.A, {
                                            fontSize: "small",
                                            sx: {
                                                width: "16px",
                                                height: "16px"
                                            }
                                        }), (0,
                                        n.jsx)("span", {
                                            className: g().seo_caption,
                                            children: F[0].videoData.caption
                                        })]
                                    })
                                })]
                            }) : F[0] ? (0,
                            n.jsx)(f.A, {
                                src: F[0].thumbnailUrl.replace("max500", "max1000"),
                                alt: z(F[0]),
                                fill: !0,
                                className: g().image,
                                onError: () => q(F[0].thumbnailUrl)
                            }) : (0,
                            n.jsx)(f.A, {
                                src: "/ItineraryPage/nature-scene.webp",
                                alt: m(t),
                                fill: !0,
                                className: g().image
                            })]
                        })
                    }), V()]
                })
            }
            , [i, t, F, M, U, B, q, V, z]);
            (0,
            c.useEffect)( () => {
                void 0 !== w && (S(w),
                null == j || j(w))
            }
            , [w, j]);
            let G = (0,
            c.useCallback)( () => {
                null == j || j(!1),
                null == A || A(!1),
                S(!1)
            }
            , [j, A])
              , Y = (0,
            c.useCallback)( () => {
                null == j || j(!0),
                null == A || A(!0),
                S(!0)
            }
            , [j, A]);
            (0,
            c.useEffect)( () => {
                E(new Set)
            }
            , [null == t ? void 0 : t.id]);
            let X = (0,
            c.useMemo)( () => P ? (0,
            n.jsx)(o.A, {
                open: k,
                onClose: G,
                sx: {
                    zIndex: 1e4
                },
                slotProps: {
                    backdrop: {
                        style: {
                            backgroundColor: "rgba(0, 0, 0, 0.8)",
                            backdropFilter: "blur(2px)"
                        }
                    }
                },
                children: (0,
                n.jsx)(a.A, {
                    className: g().galerry_popup_container,
                    role: "presentation",
                    children: (0,
                    n.jsx)(u.A, {
                        videos: O.filter(e => "video" === e.type).map(e => e.videoData).filter(Boolean),
                        photos: O.filter(e => "photo" === e.type).map(e => e.url),
                        onClose: G,
                        hotelName: m(t),
                        width: 980,
                        height: 735,
                        source: C,
                        skipGridView: !1
                    })
                })
            }) : null, [P, k, G, O, t, C]);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [X || (0,
                n.jsx)(o.A, {
                    open: k,
                    onClose: G,
                    sx: {
                        zIndex: 1e4
                    },
                    slotProps: {
                        backdrop: {
                            style: {
                                backgroundColor: "rgba(0, 0, 0, 0.8)",
                                backdropFilter: "blur(2px)"
                            }
                        }
                    },
                    children: (0,
                    n.jsx)(a.A, {
                        className: g().galerry_popup_container,
                        role: "presentation",
                        children: (0,
                        n.jsx)(u.A, {
                            source: C,
                            videos: O.filter(e => "video" === e.type).map(e => e.videoData).filter(Boolean),
                            photos: O.filter(e => "photo" === e.type).map(e => e.url),
                            onClose: G,
                            hotelName: m(t),
                            width: 980,
                            height: 735,
                            skipGridView: !1
                        })
                    })
                }), !I && (0,
                n.jsx)("div", {
                    className: (0,
                    l.A)(g().banner_header, {
                        [g().banner_header_desktop]: !M
                    }),
                    children: (0,
                    n.jsx)("p", {
                        className: (0,
                        l.A)(g().title_logo, {
                            [g().title_logo_desktop]: !M
                        })
                    })
                }), B > 0 ? (0,
                n.jsx)("div", {
                    onClick: Y,
                    className: (0,
                    l.A)(g().title_content_wrapper, {
                        [g().title_content_wrapper_desktop]: !M,
                        [g().title_content_wrapper_expanded]: h,
                        ...I ? {
                            [I]: !0
                        } : {}
                    }),
                    children: W()
                }) : (0,
                n.jsx)("div", {
                    className: (0,
                    l.A)(g().title_content_wrapper, {
                        [g().title_content_wrapper_desktop]: !M,
                        [g().cursor_default]: 0 === B,
                        ...I ? {
                            [I]: !0
                        } : {}
                    }),
                    children: W()
                })]
            })
        }
    }
    ,
    47685: (e, t, i) => {
        "use strict";
        i.d(t, {
            Q: () => _
        });
        var n = i(74848);
        i(96540);
        var l = i(1935)
          , r = i(14953)
          , a = i.n(r)
          , o = i(13725)
          , s = i(30596)
          , d = i(3058)
          , c = i(64540)
          , u = i.n(c)
          , p = i(73404);
        let v = a()( () => Promise.all([i.e(8098), i.e(9806)]).then(i.bind(i, 29806)), {
            loadableGenerated: {
                webpack: () => [29806]
            },
            ssr: !1,
            loading: () => null
        });
        function _(e) {
            let {center: t, title: i, openMapModal: l, setOpenMapModal: r} = e;
            return t ? (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: u().map,
                    children: [(0,
                    n.jsx)(v, {
                        scrollZoom: !1,
                        doubleClickZoom: !1,
                        dragPan: !1,
                        dragRotate: !1,
                        touchZoomRotate: !1,
                        attributionControl: !1,
                        mapConfig: {
                            mapStyle: p.jJ
                        },
                        style: {
                            width: "100%",
                            height: "100%"
                        },
                        initialViewState: {
                            latitude: t.lat,
                            longitude: t.lng,
                            zoom: 11
                        },
                        children: (0,
                        n.jsx)(m, {
                            position: t
                        })
                    }), (0,
                    n.jsx)("button", {
                        onClick: () => r(!0),
                        className: u().open_modal_button,
                        children: (0,
                        n.jsx)(o.A, {
                            src: "/maximize-2.svg",
                            alt: "expand",
                            width: 16,
                            height: 16
                        })
                    })]
                }), (0,
                n.jsx)(s.A, {
                    open: l,
                    onClose: () => r(!1),
                    sx: {
                        padding: "5rem",
                        zIndex: 1e4,
                        "@media (max-width: 768px)": {
                            padding: "0"
                        }
                    },
                    children: (0,
                    n.jsx)(d.A, {
                        className: u().galerry_popup_container,
                        children: (0,
                        n.jsxs)("div", {
                            className: u().wrapped,
                            children: [(0,
                            n.jsxs)("div", {
                                className: u().block_header,
                                children: [(0,
                                n.jsxs)("div", {
                                    className: u().close_button,
                                    onClick: () => r(!1),
                                    children: [(0,
                                    n.jsx)(o.A, {
                                        src: "/arrow-back-dark.svg",
                                        alt: "close window",
                                        width: 24,
                                        height: 24,
                                        className: u().arrow
                                    }), (0,
                                    n.jsx)(o.A, {
                                        src: "/cross.svg",
                                        alt: "close window",
                                        width: 20,
                                        height: 20,
                                        className: u().cross
                                    })]
                                }), (0,
                                n.jsx)("p", {
                                    className: u().block_name_hotel,
                                    children: i
                                })]
                            }), (0,
                            n.jsx)("div", {
                                className: u().mapExpanded,
                                children: (0,
                                n.jsx)(v, {
                                    attributionControl: !1,
                                    mapConfig: {
                                        mapStyle: p.jJ
                                    },
                                    style: {
                                        width: "100%",
                                        height: "100%"
                                    },
                                    initialViewState: {
                                        latitude: t.lat,
                                        longitude: t.lng,
                                        zoom: 11
                                    },
                                    children: (0,
                                    n.jsx)(m, {
                                        position: t
                                    })
                                })
                            })]
                        })
                    })
                })]
            }) : null
        }
        let m = e => {
            let {position: t} = e;
            return (0,
            n.jsx)(l.pH, {
                longitude: t.lng,
                latitude: t.lat,
                anchor: "bottom",
                children: (0,
                n.jsx)("span", {
                    style: {
                        fontSize: "16px",
                        fontWeight: "500"
                    },
                    children: (0,
                    n.jsx)(o.A, {
                        src: "/locationTag.svg",
                        alt: "location",
                        width: 48,
                        height: 48
                    })
                })
            })
        }
    }
    ,
    11081: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d,
            j: () => o
        });
        var n = i(74848)
          , l = i(80450)
          , r = i(97025)
          , a = i(96540);
        function o(e) {
            var t, i;
            let n = null == e ? void 0 : null === (t = e.legs) || void 0 === t ? void 0 : t.find(e => "pointOfOrigin" === e.type)
              , l = null !== (i = (0,
            r.FG)(e)) && void 0 !== i ? i : [];
            if (!n)
                return [!1, null];
            let a = !1
              , o = null;
            return null == l || l.forEach(e => {
                var t;
                null === (t = e.routing) || void 0 === t || t.options.forEach(e => {
                    let t = e.option[e.option.length - 1];
                    e.option.forEach(e => {
                        (null == e ? void 0 : e.location) === (null == n ? void 0 : n.location) && !1 === a && (a = !0,
                        o = t)
                    }
                    )
                }
                )
            }
            ),
            (null == l ? void 0 : l.length) > 1 && (a = !1),
            [a, o]
        }
        let s = (0,
        a.forwardRef)( (e, t) => {
            var i, o;
            let {trip: s, tab: d, setTab: c, className: u, style: p, showModifyRouteButton: v=!0, showExpandButton: _=!0, onVideoFeatureClick: m, hoveredHotelId: h, hoveredActivityId: g, isPreview: f=!1, recommendations: x=[], onRecommendationClick: y} = e
              , b = (0,
            r.FG)(s)
              , j = (0,
            a.useMemo)( () => Array.isArray(null == s ? void 0 : s.legs) ? s.legs.map(e => "".concat(e.type, "-").concat(e.location, "-").concat(e.startDate, "-").concat(e.endDate)).join("|") : "no-legs", [null == s ? void 0 : s.legs]);
            return (0,
            n.jsx)("div", {
                className: u,
                style: p,
                children: (0,
                n.jsx)(l.default, {
                    ref: t,
                    trip: s,
                    trimmedLegs: null != b ? b : [],
                    legs: null !== (i = null == s ? void 0 : s.legs) && void 0 !== i ? i : [],
                    activeTab: d,
                    setActiveTab: c,
                    hasPointOfOrigin: (0,
                    r.mN)(null !== (o = null == s ? void 0 : s.legs) && void 0 !== o ? o : []),
                    showModifyRouteButton: !f && v,
                    showExpandButton: _,
                    onVideoFeatureClick: m,
                    hoveredHotelId: h,
                    hoveredActivityId: g,
                    recommendations: x,
                    onRecommendationClick: y
                }, j)
            })
        }
        );
        s.displayName = "TripMap";
        let d = s
    }
    ,
    58288: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => g
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(13725)
          , a = i(54208)
          , o = i.n(a)
          , s = i(13365)
          , d = i(50211)
          , c = i(79551)
          , u = i(44697)
          , p = i(89906)
          , v = i(13816)
          , _ = i(18584);
        let m = e => {
            let {video: t, className: i} = e
              , r = (0,
            l.useRef)(null)
              , {currentPlayingVideo: a} = (0,
            v.T8)()
              , o = t.id
              , s = (null == a ? void 0 : a.videoId) === o
              , d = t.mp4Url || t.m3u8Url;
            return (0,
            l.useEffect)( () => {
                let e = r.current;
                if (e) {
                    if (s) {
                        let t = () => {
                            e.play().catch(e => {
                                console.warn("Could not play mobile video:", e)
                            }
                            )
                        }
                        ;
                        if (e.readyState >= 3)
                            t();
                        else {
                            let i = () => {
                                t()
                            }
                              , n = () => {
                                e.readyState >= 3 && t()
                            }
                            ;
                            return e.addEventListener("canplay", i),
                            e.addEventListener("loadeddata", n),
                            () => {
                                e.removeEventListener("canplay", i),
                                e.removeEventListener("loadeddata", n)
                            }
                        }
                    } else
                        e.pause()
                }
            }
            , [s, o]),
            (0,
            n.jsx)("video", {
                ref: r,
                id: o,
                src: d,
                poster: t.thumbnailUrl,
                muted: !0,
                loop: !0,
                playsInline: !0,
                controls: !0,
                preload: "auto",
                style: {
                    width: "100%",
                    height: "100%",
                    aspectRatio: "9/16",
                    objectFit: "contain"
                },
                className: i,
                onClick: e => e.stopPropagation()
            })
        }
        ;
        var h = i(98935);
        let g = e => {
            let {videos: t, photos: i=[], onClose: a, hotelName: g, initialVideoId: f, fullScreenMode: x=!1, width: y=780, height: b=1200, source: j, skipGridView: w=!1, initialPhotoIndex: A=0} = e
              , {tAsString: I} = (0,
            h.Ay)()
              , C = (0,
            s.A)("(max-width:1000px)")
              , {isMobile: N} = (0,
            _.U)()
              , [T,k] = (0,
            l.useState)(w)
              , [S,R] = (0,
            l.useState)(A)
              , E = (0,
            l.useRef)(null)
              , P = [...t || [], ...i || []]
              , D = (e, t) => {
                k(!0);
                let i = "video" === t
                  , n = P.findIndex(t => i ? O(t) && t.id === (null == e ? void 0 : e.id) : t === e);
                -1 !== n && R(n)
            }
              , M = () => {
                w ? a() : k(!1)
            }
              , L = e => "object" == typeof e && "thumbnailUrl"in e ? "video" : "photo"
              , O = e => "object" == typeof e && "id"in e
              , F = e => "string" == typeof e ? e : e.thumbnailUrl || ""
              , B = e => {
                var t;
                return "string" == typeof e ? I("common.photoAlt") : (null === (t = e.seo) || void 0 === t ? void 0 : t.title) ? e.seo.title : e.caption ? e.caption : I("common.videoThumbnailAlt")
            }
            ;
            (0,
            l.useEffect)( () => {
                if (f) {
                    let e = null == t ? void 0 : t.find(e => O(e) && e.id === f);
                    e && D(e, "video")
                }
            }
            , [f]);
            let H = T && !x
              , U = (0,
            p.A)(o().wrapped, {
                [o().full_screen]: H
            })
              , z = (0,
            p.A)(o().block_header, {
                [o().full_screen]: H,
                [o().name_hotel_mob]: g && C
            })
              , q = (0,
            p.A)(o().full_video, {
                [o().full_screen]: H
            })
              , V = (0,
            p.A)(o().close_button, {
                [o().full_screen]: H
            })
              , W = (0,
            p.A)(o().block_photo, {
                [o().full_screen]: H
            })
              , G = e => {
                e.target === e.currentTarget && a()
            }
            ;
            return (0,
            n.jsx)(v.Af, {
                type: "fullscreen",
                children: (0,
                n.jsxs)("div", {
                    className: U,
                    children: [(0,
                    n.jsxs)("div", {
                        className: z,
                        children: [T ? (0,
                        n.jsx)("div", {
                            className: o().close_button,
                            onClick: M,
                            children: (0,
                            n.jsx)(r.A, {
                                src: "/arrow-back-dark.svg",
                                alt: "close window",
                                width: 24,
                                height: 24
                            })
                        }) : (0,
                        n.jsx)("div", {
                            className: V,
                            onClick: a,
                            children: (0,
                            n.jsx)(r.A, {
                                src: "/cross.svg",
                                alt: "close window",
                                width: 24,
                                height: 24
                            })
                        }), (0,
                        n.jsx)("div", {
                            className: o().block_name_hotel,
                            children: g || void 0
                        })]
                    }), !T && (0,
                    n.jsx)("div", {
                        className: o().block_photo,
                        children: (0,
                        n.jsx)("div", {
                            className: o().photos_grid,
                            children: P && P.map( (e, t) => (0,
                            n.jsxs)("div", {
                                className: o().imageWrapper,
                                children: [(0,
                                n.jsx)(r.A, {
                                    src: F(e),
                                    alt: B(e),
                                    width: 1e3,
                                    height: 1e3,
                                    className: o().gallery__item,
                                    onClick: () => D(e, L(e)),
                                    onError: e => {
                                        let {currentTarget: t} = e;
                                        t.onerror = null,
                                        t.src = "/dummy-image.jpg"
                                    }
                                }), j && (0,
                                n.jsx)(r.A, {
                                    src: j,
                                    alt: B(e),
                                    width: 1e3,
                                    height: 1e3,
                                    className: o().sourceBadge
                                })]
                            }, t))
                        })
                    }), T && (0,
                    n.jsxs)("div", {
                        className: W,
                        onClick: G,
                        children: [(0,
                        n.jsx)("button", {
                            className: V,
                            onClick: M,
                            children: (0,
                            n.jsx)(r.A, {
                                src: "/cross.svg",
                                alt: "close window",
                                width: 24,
                                height: 24
                            })
                        }), (0,
                        n.jsx)(v.Af, {
                            strategy: "center",
                            scrollRef: E,
                            children: (0,
                            n.jsx)(d.A, {
                                controlsStyle: "white",
                                removeDots: !0,
                                ref: E,
                                initialSlide: S,
                                hideButtons: N,
                                canScrollToItem: !0,
                                children: P.map( (e, t) => "photo" === L(e) ? (0,
                                n.jsx)("div", {
                                    className: o().video_wrapper,
                                    onClick: G,
                                    children: (0,
                                    n.jsxs)("div", {
                                        className: "".concat(o().video_and_info, " ").concat(o().is_photo),
                                        children: [(0,
                                        n.jsx)(r.A, {
                                            src: "string" == typeof e ? e : e.thumbnailUrl,
                                            alt: B(e),
                                            width: y,
                                            height: b,
                                            className: o().photo_item,
                                            onError: e => {
                                                let {currentTarget: t} = e;
                                                t.onerror = null,
                                                t.src = "/dummy-image.jpg"
                                            }
                                        }), j && (0,
                                        n.jsx)(r.A, {
                                            src: j,
                                            alt: B(e),
                                            width: 1e3,
                                            height: 1e3,
                                            className: o().sourceBadge
                                        }), "string" != typeof e && "creator"in e && (0,
                                        n.jsx)("div", {
                                            className: o().video_info,
                                            children: (0,
                                            n.jsx)(c.A, {
                                                video: e
                                            })
                                        })]
                                    })
                                }, t) : (0,
                                n.jsx)("div", {
                                    className: o().video_wrapper,
                                    onClick: G,
                                    children: (0,
                                    n.jsxs)("div", {
                                        className: o().video_and_info,
                                        children: [N ? (0,
                                        n.jsx)(m, {
                                            video: e,
                                            className: q
                                        }) : (0,
                                        n.jsx)(u.HLSVideoPlayer, {
                                            videoUrl: e.m3u8Url || e.mp4Url,
                                            className: q,
                                            width: y,
                                            height: b,
                                            poster: e.thumbnailUrl,
                                            preload: "none",
                                            video: e
                                        }), j && (0,
                                        n.jsx)(r.A, {
                                            src: j,
                                            alt: B(e),
                                            width: 1e3,
                                            height: 1e3,
                                            className: o().sourceBadge
                                        }), (0,
                                        n.jsx)("div", {
                                            className: o().video_info,
                                            children: (0,
                                            n.jsx)(c.A, {
                                                video: e
                                            })
                                        })]
                                    })
                                }, t))
                            })
                        })]
                    })]
                })
            })
        }
    }
    ,
    4036: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => N
        });
        var n = i(74848)
          , l = i(28001)
          , r = i(14953)
          , a = i.n(r)
          , o = i(24740)
          , s = i(96540)
          , d = i(74909)
          , c = i(13725)
          , u = i(35264)
          , p = i.n(u)
          , v = i(79640)
          , _ = i(48441)
          , m = i(71975)
          , h = i(88023);
        let g = {
            src: "/_next/static/media/download-icon.a28361de.svg",
            height: 20,
            width: 20,
            blurWidth: 0,
            blurHeight: 0
        };
        var f = i(86409)
          , x = i(98935)
          , y = i(83819)
          , b = i(72352);
        let j = a()( () => Promise.all([i.e(9964), i.e(6256), i.e(6489), i.e(3548), i.e(6012), i.e(8725), i.e(367), i.e(1334)]).then(i.bind(i, 46339)), {
            loadableGenerated: {
                webpack: () => [46339]
            },
            ssr: !1,
            loading: () => null
        })
          , w = e => {
            let {trip: t, tripActivities: i=[], onClickDownload: l, collapseSidePanel: r, className: a, tooltipPosition: u=!1, hideTooltip: w=!1, buttonRef: A} = e
              , {startTracking: I, startTrackingChatAndSend: C} = (0,
            v.Y)()
              , {authUserId: N} = (0,
            m.A)()
              , {showPopupPaywall: T, displayPaywall: k} = (0,
            _.M)()
              , {isTrialingSubPeriod: S, isNotSubscribed: R} = (0,
            b.R)()
              , E = (0,
            s.useCallback)(e => {
                e || L(!1)
            }
            , [])
              , P = (0,
            h.A)()
              , {tAsString: D} = (0,
            x.Ay)()
              , [M,L] = (0,
            s.useState)(!1)
              , [O,F] = (0,
            s.useState)(!1)
              , [B,H] = (0,
            s.useState)(!1)
              , [U,z] = (0,
            s.useState)(null)
              , q = (0,
            s.useCallback)(async () => {
                if (T) {
                    V(),
                    r();
                    return
                }
                if (R || S) {
                    L(!0),
                    k(!0, "download_pdf", E),
                    P({
                        event: "DownloadPDFOpensPaywall",
                        data: {
                            tripId: t.id,
                            isTrialSub: S
                        }
                    }),
                    r();
                    return
                }
                if (!I) {
                    C([]),
                    L(!0);
                    return
                }
                W()
            }
            , [I, N, T, R, S, k, t.id, r, P]);
            (0,
            s.useEffect)( () => {
                if (M && N) {
                    if (R || S) {
                        k(!0, "download_pdf"),
                        P({
                            event: "DownloadPDFOpensPaywall",
                            data: {
                                tripId: t.id,
                                isTrialSub: S
                            }
                        }),
                        r();
                        return
                    }
                    W(),
                    L(!1)
                }
            }
            , [M, N, R, S, k, null == t ? void 0 : t.id]);
            let V = () => {
                let e = document.getElementById("paywall-border-animation");
                e && (e.style.boxShadow = "0px 0px 12px 0px var(--colors-primary) inset",
                setTimeout( () => {
                    e.style.boxShadow = "none"
                }
                , 3e3))
            }
              , W = () => {
                (0,
                s.startTransition)( () => {
                    F(!0),
                    H(!0),
                    z(null)
                }
                )
            }
              , G = (0,
            s.useCallback)(e => {
                e.stopPropagation(),
                q()
            }
            , [q]);
            if (U)
                return (0,
                n.jsx)("div", {
                    children: "Error generating PDF..."
                });
            let Y = (0,
            n.jsx)("button", {
                ref: A,
                onClick: G,
                className: "".concat(p().button, " ").concat(a),
                disabled: O,
                children: O ? (0,
                n.jsx)(f.A, {
                    className: p().loader,
                    "data-testid": "download-pdf-loader"
                }) : (null == a ? void 0 : a.includes("trip_pdf_button_with_text")) ? (0,
                n.jsx)(c.A, {
                    "data-testid": "download-trip-pdf-button",
                    src: g,
                    alt: "download-icon",
                    width: 24,
                    height: 24
                }) : (0,
                n.jsx)(d.A, {
                    "data-testid": "download-trip-pdf-button",
                    size: (null == a ? void 0 : a.includes("trip_pdf_button_with_text")) ? 24 : 16
                })
            });
            return (0,
            n.jsx)(o.ErrorBoundary, {
                fallbackRender: () => null,
                children: (0,
                n.jsxs)(n.Fragment, {
                    children: [w ? Y : (0,
                    n.jsx)(y.A, {
                        tooltip: D("trip.pdf.downloadPDF"),
                        position: u ? "bottom-center" : "top-center",
                        style: {
                            width: "fit-content"
                        },
                        classNameTooltip: p().portalTooltip,
                        usePortal: !0,
                        children: Y
                    }), B && (0,
                    n.jsx)(j, {
                        trip: t,
                        tripActivities: i,
                        onClickDownload: l,
                        onGenerationComplete: e => {
                            (0,
                            s.startTransition)( () => {
                                F(!1),
                                H(!1),
                                e && z(e)
                            }
                            )
                        }
                    })]
                })
            })
        }
        ;
        var A = i(74512)
          , I = i(45648)
          , C = i(84242);
        function N(e) {
            let {tripActivities: t, trip: i, className: r, originalTrip: a, collapseSidePanel: o, tooltipPosition: s, hideTooltip: d, buttonRef: c} = e
              , {convertPrice: u, formatCurrency: p, userCurrency: v} = (0,
            l.c)()
              , _ = (0,
            A.A)(i)
              , m = (0,
            h.A)()
              , g = (0,
            C.xC)()
              , f = (0,
            I.re)()
              , x = Array.isArray(t) ? t.map(e => Array.isArray(e) ? e.map(e => Array.isArray(e) ? e.map(e => ({
                ...e,
                webUrl: f(e.webUrl)
            })) : []) : []) : null
              , y = Array.isArray(a.legs) ? a.legs.map(e => ({
                ...e,
                selectedHotel: (null == e ? void 0 : e.selectedHotel) ? {
                    ...e.selectedHotel,
                    url: g(e.selectedHotel.url, "TripPDFText")
                } : null
            })) : []
              , b = {
                ...a,
                legs: y
            };
            return (0,
            n.jsx)(w, {
                trip: b,
                tripActivities: x,
                onClickDownload: () => {
                    if (t)
                        return o(),
                        m({
                            event: "DownloadPDF",
                            data: {
                                tripId: i.id
                            }
                        }),
                        {
                            activitiesPrices: t.map(e => e.map(e => {
                                let t = e.reduce( (e, t) => {
                                    var i;
                                    let n = u(null !== (i = null == t ? void 0 : t.priceInEurosPerPerson) && void 0 !== i ? i : 0, "EUR");
                                    return e + (null != n ? n : 0)
                                }
                                , 0);
                                return 0 === t ? "" : p(t, v, 0)
                            }
                            )),
                            hotelsPrices: _()
                        }
                }
                ,
                collapseSidePanel: o,
                className: r,
                tooltipPosition: s,
                hideTooltip: d,
                buttonRef: c
            })
        }
    }
    ,
    20013: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => re
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(97025)
          , a = i(92612)
          , o = i(86715)
          , s = i(14953)
          , d = i.n(s)
          , c = i(18584)
          , u = i(48441)
          , p = i(88023)
          , v = i(46002)
          , _ = i(15829)
          , m = i(71975)
          , h = i(67154)
          , g = i(62177)
          , f = i(40532)
          , x = i(17843)
          , y = i(53670)
          , b = i(44554);
        let j = () => {
            let e = (0,
            y.VC)();
            return {
                performFallbackSearch: (0,
                l.useCallback)(async (t, i, n, l, r) => {
                    try {
                        null == r || r(!0);
                        let a = "Hotels in ".concat(i, " from ").concat(t.startDate, " to ").concat(t.endDate, " for ").concat(n, " traveler").concat(n > 1 ? "s" : "", " for a ").concat(l, " trip")
                          , o = await e(a, !1);
                        if (!o)
                            return null;
                        {
                            let e = (0,
                            b.T2)(o);
                            return {
                                searchData: o,
                                hotels: e
                            }
                        }
                    } catch (e) {
                        return console.error("Error making fallback hotel search:", e),
                        null
                    } finally {
                        null == r || r(!1)
                    }
                }
                , [e])
            }
        }
        ;
        var w = i(36991)
          , A = i(18898)
          , I = i(18453)
          , C = i(98935)
          , N = i(53905)
          , T = i(95178)
          , k = i.n(T);
        let S = e => {
            let {trip: t, currentLeg: i} = e
              , {updateTripNavState: l, navigationState: r} = (0,
            a.Pd)()
              , {tAsString: s} = (0,
            C.Ay)()
              , {isMobile: d} = (0,
            c.U)()
              , u = (0,
            o.useRouter)()
              , {hotels: p} = (0,
            x.I)()
              , {alternateActivitiesState: v} = (0,
            h.y)()
              , _ = r.entity;
            if (d)
                return null;
            let m = ( () => {
                let e = [];
                if (e.push({
                    label: s("trip.breadcrumb.tripPlan"),
                    path: "/trip/".concat(u.query.slug, "/").concat(t.id),
                    onClick: () => {
                        l({
                            entity: null
                        })
                    }
                }),
                _) {
                    var n, a, o, d, c, m, h;
                    switch (_) {
                    case N.q.ROUTE_OPTIONS:
                        let g = "".concat(null == r ? void 0 : r.fromCity, " - ").concat(null == r ? void 0 : r.toCity);
                        e.push({
                            label: g,
                            path: u.asPath,
                            onClick: () => {}
                        });
                        break;
                    case N.q.FLIGHTS:
                        r.fromCity && r.toCity && e.push({
                            label: "".concat(null == r ? void 0 : r.fromCity, " - ").concat(null == r ? void 0 : r.toCity),
                            path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/transport/flights"),
                            onClick: () => l({
                                entity: N.q.ROUTE_OPTIONS,
                                fromCity: r.fromCity,
                                toCity: r.toCity
                            })
                        }),
                        e.push({
                            label: s("trip.breadcrumb.flights"),
                            path: u.asPath,
                            onClick: () => {}
                        });
                        break;
                    case N.q.CARS:
                        let f = r.fromCity && r.toCity ? "".concat(r.fromCity, " - ").concat(r.toCity) : "Route options";
                        e.push({
                            label: f,
                            path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/transport/").concat(null === (n = r.fromCity) || void 0 === n ? void 0 : n.toLowerCase(), "/").concat(null === (a = r.toCity) || void 0 === a ? void 0 : a.toLowerCase()),
                            onClick: () => l({
                                entity: N.q.ROUTE_OPTIONS,
                                fromCity: r.fromCity,
                                toCity: r.toCity
                            })
                        }),
                        e.push({
                            label: s("trip.breadcrumb.cars"),
                            path: u.asPath,
                            onClick: () => {}
                        });
                        break;
                    case N.q.HIGHLIGHTS_SUMMARY:
                        e.push({
                            label: s("trip.breadcrumb.highlightsSummary"),
                            path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/highlights-summary"),
                            onClick: () => {}
                        })
                    }
                    if (i) {
                        let n = (null === (d = i.location) || void 0 === d ? void 0 : null === (o = d.split(", ")) || void 0 === o ? void 0 : o[0]) || (null === (c = i.destination) || void 0 === c ? void 0 : c.city) || "";
                        switch (_) {
                        case N.q.HOTEL_SEARCH:
                            e.push({
                                label: s("trip.breadcrumb.accommodation"),
                                path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/leg/").concat(n, "/hotel-search/").concat(r.hotelSearchId),
                                onClick: () => l({
                                    entity: N.q.HOTEL_SEARCH,
                                    legLocation: n,
                                    hotelSearchId: r.hotelSearchId || ""
                                })
                            });
                            break;
                        case N.q.HOTEL:
                            e.push({
                                label: s("trip.breadcrumb.accommodation"),
                                path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/leg/").concat(n, "/hotel-search"),
                                onClick: () => l({
                                    entity: N.q.HOTEL_SEARCH,
                                    hotelSearchId: r.hotelSearchId || ""
                                })
                            });
                            let a = null == i ? void 0 : i.selectedHotel
                              , g = null == p ? void 0 : p.find(e => e.id.toString() === r.hotelId)
                              , f = (null == a ? void 0 : a.name) || (null == g ? void 0 : g.name) || s("trip.breadcrumb.hotelDetails");
                            e.push({
                                label: f,
                                path: u.asPath,
                                onClick: () => {}
                            });
                            break;
                        case N.q.ACTIVITIES:
                            e.push({
                                label: s("trip.breadcrumb.activities"),
                                path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/").concat(n, "/activities"),
                                onClick: () => l({
                                    entity: N.q.ACTIVITIES
                                })
                            });
                            break;
                        case N.q.ACTIVITY:
                            e.push({
                                label: s("trip.breadcrumb.activities"),
                                path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/").concat(n, "/activities"),
                                onClick: () => l({
                                    entity: N.q.ACTIVITIES
                                })
                            });
                            let x = null === (m = v.activityDetail) || void 0 === m ? void 0 : m.name;
                            e.push({
                                label: x || "Activity",
                                path: u.asPath,
                                onClick: () => {}
                            });
                            break;
                        case N.q.ATTRACTIONS:
                            e.push({
                                label: s("trip.breadcrumb.attractions"),
                                path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/").concat(n, "/attractions"),
                                onClick: () => l({
                                    entity: N.q.ATTRACTIONS
                                })
                            });
                            break;
                        case N.q.ATTRACTION:
                            e.push({
                                label: s("trip.breadcrumb.attractions"),
                                path: "/trip/".concat(u.query.slug, "/").concat(t.id, "/").concat(n, "/attractions"),
                                onClick: () => l({
                                    entity: N.q.ATTRACTIONS
                                })
                            });
                            let y = null === (h = v.activityDetail) || void 0 === h ? void 0 : h.name;
                            e.push({
                                label: y || "Attraction",
                                path: u.asPath,
                                onClick: () => {}
                            })
                        }
                    }
                }
                return e
            }
            )();
            return m.length <= 1 ? null : (0,
            n.jsx)("nav", {
                className: k().nav,
                "aria-label": "Trip navigation",
                children: (0,
                n.jsxs)("ol", {
                    className: k().breadcrumbList,
                    children: [(0,
                    n.jsx)("div", {
                        onClick: () => {
                            if (r.entity === N.q.FLIGHTS || r.entity === N.q.CARS) {
                                l({
                                    entity: N.q.ROUTE_OPTIONS,
                                    fromCity: r.fromCity,
                                    toCity: r.toCity
                                });
                                return
                            }
                            if (r.entity === N.q.HOTEL) {
                                l({
                                    entity: N.q.HOTEL_SEARCH
                                });
                                return
                            }
                            if (r.entity === N.q.ACTIVITY) {
                                l({
                                    entity: N.q.ACTIVITIES
                                });
                                return
                            }
                            if (r.entity === N.q.ATTRACTION) {
                                l({
                                    entity: N.q.ATTRACTIONS
                                });
                                return
                            }
                            l({
                                entity: null
                            })
                        }
                        ,
                        className: k().backButton,
                        children: (0,
                        n.jsx)(A.A, {
                            className: "w-4 h-4 text-accent-foreground"
                        })
                    }), m.map( (e, t) => (0,
                    n.jsx)("li", {
                        className: k().breadcrumbItem,
                        children: t < m.length - 1 ? (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsx)("button", {
                                type: "button",
                                className: k().breadcrumbButton,
                                onClick: e.onClick,
                                "aria-label": "Navigate to ".concat(e.label),
                                children: e.label
                            }), (0,
                            n.jsx)(I.A, {
                                className: "w-4 h-4 ml-3 text-muted-foreground"
                            })]
                        }) : (0,
                        n.jsx)("span", {
                            className: k().currentPage,
                            "aria-current": "page",
                            children: e.label
                        })
                    }, t))]
                })
            })
        }
        ;
        var R = i(69235)
          , E = i(60842)
          , P = i.n(E)
          , D = i(39327)
          , M = i(65848)
          , L = i(3935)
          , O = i(28001)
          , F = i(38663)
          , B = i.n(F)
          , H = i(5436)
          , U = i.n(H);
        let z = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
              , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
              , n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              , r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 300
              , a = !(arguments.length > 5) || void 0 === arguments[5] || arguments[5]
              , [o,s] = (0,
            l.useState)("idle")
              , [d,c] = (0,
            l.useState)(!1)
              , [u,p] = (0,
            l.useState)(0)
              , [v,_] = (0,
            l.useState)(0)
              , m = (0,
            l.useRef)([]);
            return (0,
            l.useEffect)( () => {
                if (!a)
                    return;
                let l = null != e ? e : document.getElementById(t)
                  , o = !l
                  , d = null != l ? l : window
                  , h = () => {
                    let e = o ? window.scrollY : l.scrollTop
                      , t = o ? document.documentElement.scrollHeight - window.innerHeight : l.scrollHeight - l.clientHeight
                      , a = performance.now()
                      , d = a - v
                      , h = Math.abs(u - e) / (d / 1e3);
                    if (!(d < 16)) {
                        if (i && t - e <= i)
                            return;
                        if (n && e <= n) {
                            c(!1),
                            s("idle");
                            return
                        }
                        e > u ? (s("down"),
                        c(!1),
                        m.current = []) : e < u && (s("up"),
                        m.current.push(h),
                        m.current.length > 10 && m.current.shift(),
                        m.current.reduce( (e, t) => e + t, 0) / m.current.length > r && c(!0)),
                        p(e),
                        _(a)
                    }
                }
                  , g = () => {
                    requestAnimationFrame(h)
                }
                ;
                return d.addEventListener("scroll", g, {
                    passive: !0
                }),
                () => {
                    d.removeEventListener("scroll", g)
                }
            }
            , [u, v, e, i, n, r, a]),
            {
                direction: o,
                isLongScrollUp: d
            }
        };
        var q = i(30570);
        let V = d()( () => Promise.all([i.e(3806), i.e(9326)]).then(i.bind(i, 9326)), {
            loadableGenerated: {
                webpack: () => [9326]
            },
            ssr: !1
        })
          , W = d()( () => Promise.all([i.e(9552), i.e(5241)]).then(i.bind(i, 85241)), {
            loadableGenerated: {
                webpack: () => [85241]
            },
            ssr: !1
        })
          , G = function(e) {
            var t;
            let {trip: i, leg: r, originalLegIndex: o, nameHotel: s, startDate: d, endDate: u, currentHotel: p, loadingHotels: v, fallbackSearchLoading: _, onHotelSearch: m, setLoadingHotels: h, setSelectedHotelId: g, onHotelItemHover: f, mapRef: y} = e
              , {tAsString: b} = (0,
            C.Ay)()
              , {resetNavigation: j} = (0,
            a.Pd)()
              , {data: w} = (0,
            x.I)()
              , {isMobile: A} = (0,
            c.U)()
              , I = (0,
            l.useRef)(null)
              , N = (0,
            l.useRef)(null)
              , [T,k] = (0,
            l.useState)(!1)
              , {direction: S} = z(I.current, "", 0, 50, 300, A);
            (0,
            l.useEffect)( () => {
                if (!A || !I.current)
                    return;
                let e = I.current
                  , t = () => {
                    if (!e)
                        return;
                    let t = N.current;
                    if (!t)
                        return;
                    let i = e.getBoundingClientRect();
                    k(t.getBoundingClientRect().top <= i.top)
                }
                ;
                return t(),
                e.addEventListener("scroll", t),
                () => {
                    e.removeEventListener("scroll", t)
                }
            }
            , [A]),
            (0,
            l.useEffect)( () => {
                var e;
                if ((null == w ? void 0 : w.hotels) && p && (null === (e = y.current) || void 0 === e ? void 0 : e.easeTo)) {
                    g(p.id);
                    let e = setTimeout( () => {
                        var e;
                        null === (e = y.current) || void 0 === e || e.easeTo({
                            center: [p.lng, p.lat],
                            zoom: 11,
                            duration: 1e3
                        })
                    }
                    , 100);
                    return () => clearTimeout(e)
                }
            }
            , [p, y, w, g]);
            let R = !A || !T || "down" !== S;
            return (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsx)("div", {
                    className: U().flex_container,
                    children: (0,
                    n.jsxs)("div", {
                        className: U().left_panel,
                        children: [(0,
                        n.jsx)("div", {
                            className: U().loading_container,
                            children: (0,
                            n.jsx)(q.A, {
                                height: 4,
                                isLoading: v,
                                barStyle: {
                                    backgroundColor: "var(--colors-primary)"
                                }
                            })
                        }), (0,
                        n.jsxs)("div", {
                            ref: I,
                            className: U().list_container,
                            children: [(0,
                            n.jsx)("div", {
                                className: U().header_section,
                                children: (null == w ? void 0 : w.title) ? (0,
                                n.jsx)("h2", {
                                    className: U().header_title,
                                    children: null == w ? void 0 : w.title
                                }) : s ? (0,
                                n.jsx)("h2", {
                                    className: U().header_title,
                                    children: b("trip.itinerary.hotelPopup.hotelsIn", {
                                        city: s
                                    })
                                }) : (0,
                                n.jsx)("h2", {
                                    className: U().header_title,
                                    children: b("trip.itinerary.hotelPopup.nearbyHotels")
                                })
                            }), (0,
                            n.jsx)("div", {
                                ref: N,
                                className: "".concat(U().search_container, " ").concat(R ? U().search_container_visible : U().search_container_hidden),
                                children: (0,
                                n.jsx)(V, {
                                    trip: i,
                                    city: s,
                                    setLoadingHotels: h,
                                    onSearch: m,
                                    currentLeg: r,
                                    enableAutoFocus: !A
                                })
                            }), (0,
                            n.jsx)(W, {
                                bookingSearchRequest: null == w ? void 0 : null === (t = w.debug) || void 0 === t ? void 0 : t.bookingSearchRequest,
                                loadingHotels: v,
                                startDate: d,
                                endDate: u,
                                leg: r,
                                currentHotel: p,
                                close: j,
                                isRightPanelExpanded: !1,
                                legIndex: o,
                                onHotelItemHover: f
                            })]
                        })]
                    })
                })
            })
        };
        var Y = i(84242);
        let X = d()( () => Promise.all([i.e(6679), i.e(7944), i.e(3303)]).then(i.bind(i, 63303)), {
            loadableGenerated: {
                webpack: () => [63303]
            },
            ssr: !1
        })
          , J = d()( () => Promise.all([i.e(6679), i.e(9129)]).then(i.bind(i, 29129)), {
            loadableGenerated: {
                webpack: () => [29129]
            },
            ssr: !1
        })
          , Z = function(e) {
            var t;
            let {trip: i, currentLeg: r, originalLegIndex: o, setSelectedHotelId: s, mapRef: d} = e
              , {hotels: c, data: u, hotelsFacilities: p} = (0,
            x.I)()
              , v = (0,
            Y.xC)()
              , {navigationState: _, updateTripNavState: m} = (0,
            a.Pd)()
              , {selectedHotels: g, selectHotel: f} = (0,
            h.y)()
              , y = (0,
            l.useRef)(!1)
              , j = (0,
            l.useRef)(void 0)
              , w = (0,
            l.useMemo)( () => {
                var e;
                return c && c.length > 0 ? null == c ? void 0 : c.find(e => {
                    var t;
                    return e.id.toString() === (null === (t = _.hotelId) || void 0 === t ? void 0 : t.toString())
                }
                ) : null === (e = g.find(e => {
                    var t, i, n;
                    return (null === (i = e.currentHotel) || void 0 === i ? void 0 : null === (t = i.id) || void 0 === t ? void 0 : t.toString()) === (null === (n = _.hotelId) || void 0 === n ? void 0 : n.toString())
                }
                )) || void 0 === e ? void 0 : e.currentHotel
            }
            , [c, g, _.hotelId]);
            (0,
            l.useEffect)( () => {
                !w && c && c.length > 0 && m({
                    entity: N.q.HOTEL_SEARCH,
                    hotelId: void 0
                })
            }
            , [w, c, m]),
            (0,
            l.useEffect)( () => {
                if (w && j.current !== _.hotelId) {
                    s(w.id),
                    y.current = !1;
                    let e = () => {
                        var e, t, i;
                        let n = document.getElementById("trip-entity-map-container");
                        if ((null === (e = d.current) || void 0 === e ? void 0 : e.easeTo) && n) {
                            if (null === (t = (i = d.current).getMap) || void 0 === t ? void 0 : t.call(i)) {
                                let e = new (P()).LngLatBounds;
                                e.extend([w.lng, w.lat]),
                                d.current.fitBounds(e, {
                                    padding: {
                                        top: 100,
                                        bottom: 100,
                                        left: 100,
                                        right: 100
                                    },
                                    duration: 500,
                                    maxZoom: 18
                                }),
                                setTimeout( () => {
                                    var e;
                                    null === (e = d.current) || void 0 === e || e.easeTo({
                                        center: [w.lng, w.lat],
                                        zoom: 18,
                                        duration: 500
                                    })
                                }
                                , 600)
                            } else
                                d.current.easeTo({
                                    center: [w.lng, w.lat],
                                    zoom: 18,
                                    duration: 1e3
                                });
                            return y.current = !0,
                            j.current = _.hotelId,
                            !0
                        }
                        return !1
                    }
                    ;
                    if (!e()) {
                        let t = 0
                          , i = setInterval( () => {
                            t++,
                            (e() || t >= 20 || y.current) && clearInterval(i)
                        }
                        , 200);
                        return () => clearInterval(i)
                    }
                }
            }
            , [w, s, _.hotelId, d]);
            let A = (0,
            l.useMemo)( () => {
                var e;
                return (null == u ? void 0 : null === (e = u.debug) || void 0 === e ? void 0 : e.bookingSearchRequest) || {
                    checkin: r.startDate,
                    checkout: r.endDate,
                    guests: {
                        number_of_adults: Array.isArray(i.travelers) ? i.travelers.filter(e => e.isAdult).length : 2
                    }
                }
            }
            , [null == u ? void 0 : null === (t = u.debug) || void 0 === t ? void 0 : t.bookingSearchRequest, r.startDate, r.endDate, i.travelers])
              , I = (0,
            l.useCallback)(e => {
                e && f(e, o, "TripHotel")
            }
            , [f, o])
              , C = (0,
            l.useMemo)( () => {
                var e;
                return null !== (e = null == g ? void 0 : g.some(e => {
                    var t, i, n;
                    return (null === (i = e.currentHotel) || void 0 === i ? void 0 : null === (t = i.id) || void 0 === t ? void 0 : t.toString()) === (null == w ? void 0 : null === (n = w.id) || void 0 === n ? void 0 : n.toString())
                }
                )) && void 0 !== e && e
            }
            , [g, w]);
            if (!w)
                return null;
            let T = v(w.url, "TripHotel")
              , k = w.relevantFacilitiesIds && w.relevantFacilitiesIds.length >= 5 ? w.relevantFacilitiesIds : w.facilitiesIds && w.facilitiesIds.length >= 5 ? w.facilitiesIds : []
              , S = (0,
            b.NC)(k, p);
            return (0,
            n.jsxs)("div", {
                className: U().hotel_details,
                children: [(0,
                n.jsx)("div", {
                    className: U().hotel_details_content,
                    children: (0,
                    n.jsx)(X, {
                        currentHotel: w,
                        relevantHotelFacilities: S,
                        scrollToReview: !1,
                        hideHeaderInChat: !0
                    })
                }), (0,
                n.jsx)(J, {
                    hotelUrl: T,
                    discountPercentage: null == w ? void 0 : w.discountPercentage,
                    priceInEuros: null == w ? void 0 : w.priceInEuros,
                    bookingSearchRequest: A,
                    hotel: w,
                    showAddToTripInChat: !1,
                    className: U().bottom_bar,
                    addToTripAsPrimary: !1,
                    isHotelInTrip: C,
                    onSelectHotel: I,
                    legIndex: o
                })]
            })
        }
          , K = d()( () => Promise.all([i.e(1656), i.e(9465)]).then(i.bind(i, 59465)), {
            loadableGenerated: {
                webpack: () => [59465]
            },
            ssr: !1
        })
          , Q = function(e) {
            var t, i, r, o, s, d, u, v, _;
            let {trip: g} = e
              , {isMobile: y} = (0,
            c.U)()
              , {navigationState: A, updateTripNavState: I} = (0,
            a.Pd)()
              , {selectedHotels: T} = (0,
            h.y)()
              , {tAsString: k} = (0,
            C.Ay)()
              , E = (0,
            p.A)()
              , {userCurrency: F, defaultServerCurrency: H, convertPrice: z, formatCurrency: q} = (0,
            O.c)()
              , {performFallbackSearch: V} = j()
              , {user: W} = (0,
            m.A)()
              , Y = A.leg
              , X = A.legIndex
              , J = A.originalLegIndex
              , Q = null !== (d = null !== (s = null !== (o = null === (t = Y.destination) || void 0 === t ? void 0 : t.parentCity) && void 0 !== o ? o : null === (i = Y.destination) || void 0 === i ? void 0 : i.city) && void 0 !== s ? s : Y.location.split(", ")[0]) && void 0 !== d ? d : ""
              , $ = null !== (u = Y.startDate) && void 0 !== u ? u : ""
              , ee = null !== (v = Y.endDate) && void 0 !== v ? v : ""
              , et = Y.selectedHotel
              , ei = (0,
            l.useCallback)(function() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                  , t = Y.numberOfDays
                  , i = e ? z(e / t, H, F) : null;
                return i ? q(i, F, 0) : void 0
            }, [z, q, H, F, Y])
              , [en,el] = (0,
            l.useState)(null !== (_ = Y.initialHotelSearch) && void 0 !== _ ? _ : null)
              , [er,ea] = (0,
            l.useState)((null === (r = Y.initialHotelSearch) || void 0 === r ? void 0 : r.hotels) ? (0,
            b.T2)(Y.initialHotelSearch) : null)
              , [eo,es] = (0,
            l.useState)(!Y.initialHotelSearch)
              , ed = (0,
            l.useCallback)(e => {
                es("function" == typeof e ? e(eo) : e)
            }
            , [eo])
              , [ec,eu] = (0,
            l.useState)(!1)
              , [ep,ev] = (0,
            l.useState)()
              , [e_,em] = (0,
            l.useState)()
              , [eh,eg] = (0,
            l.useState)()
              , ef = (0,
            l.useRef)(null)
              , ex = (0,
            l.useRef)(!1)
              , ey = Y.hotelSearchId;
            (0,
            l.useEffect)( () => {
                if (!ex.current && (W || Y.initialHotelSearch)) {
                    if (Y.initialHotelSearch) {
                        let e = setTimeout( () => {
                            ed(!1)
                        }
                        , 100);
                        return () => clearTimeout(e)
                    }
                    {
                        let e = async () => {
                            if (!ey) {
                                var e;
                                let t = (null === (e = Y.destination) || void 0 === e ? void 0 : e.parentCity) || Q;
                                if (!t)
                                    return ed(!1),
                                    !1;
                                {
                                    let e = Array.isArray(g.travelers) ? g.travelers.length : 1
                                      , i = g.title || "travel"
                                      , n = await V(Y, t, e, i, eu);
                                    return n ? (el(n.searchData),
                                    ea(n.hotels),
                                    ed(!1),
                                    !0) : (ed(!1),
                                    !1)
                                }
                            }
                            try {
                                let e = await (0,
                                f.UC)("hotel_search/".concat(ey));
                                if (!e)
                                    return !1;
                                {
                                    let t = (0,
                                    b.T2)(e);
                                    return el(e),
                                    ea(t),
                                    !0
                                }
                            } catch (e) {
                                return console.error("Error fetching hotel search data:", e),
                                !1
                            } finally {
                                ed(!1)
                            }
                        }
                        ;
                        (async () => {
                            await e()
                        }
                        )()
                    }
                }
            }
            , [Y, ey, Q, W]);
            let eb = (0,
            l.useCallback)(e => {
                ea(Object.values(e.hotels)),
                el(e),
                I({
                    entity: N.q.HOTEL_SEARCH,
                    hotelSearchId: e.id
                })
            }
            , [I])
              , ej = (0,
            l.useCallback)(e => {
                E({
                    event: "TripMapHotelClick",
                    data: {
                        source: "trip_hotels_map"
                    }
                }),
                I({
                    entity: N.q.HOTEL,
                    hotelId: e
                })
            }
            , [E, I])
              , ew = (0,
            l.useCallback)( (e, t) => {
                let i = (0,
                M.qV)((0,
                n.jsx)(D.A, {
                    hotel: e,
                    tAsString: k,
                    formattedPrice: t || ""
                }));
                return new (P()).Popup({
                    className: "hotel-marker-popup",
                    closeButton: !1,
                    offset: [0, -20]
                }).setHTML(i)
            }
            , [k])
              , eA = (0,
            l.useMemo)( () => {
                if (A.entity === N.q.HOTEL && A.hotelId) {
                    var e;
                    return null == T ? void 0 : null === (e = T.find(e => {
                        var t, i;
                        return (null == e ? void 0 : null === (i = e.currentHotel) || void 0 === i ? void 0 : null === (t = i.id) || void 0 === t ? void 0 : t.toString()) === A.hotelId
                    }
                    )) || void 0 === e ? void 0 : e.currentHotel
                }
                return null
            }
            , [A.entity, A.hotelId, T])
              , eI = (0,
            l.useMemo)( () => {
                if (!er && !eA)
                    return [];
                let e = eA && er ? (null != er ? er : []).filter(e => {
                    var t, i;
                    return (null === (t = e.id) || void 0 === t ? void 0 : t.toString()) !== (null === (i = eA.id) || void 0 === i ? void 0 : i.toString())
                }
                ) : null != er ? er : [];
                return [...eA ? [eA] : [], ...e]
            }
            , [er, eA])
              , eC = (0,
            l.useMemo)( () => 0 === eI.length ? [] : eI.map(e => {
                let t = ei(e.priceInEuros);
                return (0,
                w.Qh)(e, ew(e, t))
            }
            ).filter(e => null !== e), [eI, ei, ew])
              , eN = (0,
            l.useCallback)(e => {
                e && (ev(e.id),
                setTimeout( () => {
                    let t = document.getElementById("hotel-".concat(e.id));
                    t && t.scrollIntoView({
                        behavior: "smooth",
                        block: "center"
                    })
                }
                , 50),
                setTimeout( () => {
                    let t = document.querySelector('[data-img-hotel-id="'.concat(e.id, '"]'));
                    if (t) {
                        let i = function() {
                            let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                              , l = eI.find(t => {
                                var i, n;
                                return (null === (i = t.id) || void 0 === i ? void 0 : i.toString()) === (null === (n = e.id) || void 0 === n ? void 0 : n.toString())
                            }
                            )
                              , r = (null == l ? void 0 : l.photos) || [];
                            if (n < r.length - 1) {
                                let e = n + 1;
                                t.src = r[e],
                                t.onerror = () => i(e)
                            } else
                                t.src = "/ItineraryPage/nature-scene.webp",
                                t.onerror = null
                        };
                        t.complete && 0 === t.naturalWidth ? i() : t.onerror = () => i()
                    }
                    let i = document.querySelector(".hotel-marker-popup .".concat(B().hotel_panel_close_button));
                    i && i.addEventListener("click", () => {
                        var t;
                        null === (t = e.popup) || void 0 === t || t.remove()
                    }
                    );
                    let n = document.querySelector('[data-btn-hotel-id="'.concat(e.id, '"]'));
                    n && n.addEventListener("click", () => ej(e.id.toString()))
                }
                , 100))
            }
            , [ej, eI])
              , eT = (0,
            l.useCallback)(e => {
                em(e)
            }
            , []);
            (0,
            l.useEffect)( () => {
                if (A.entity === N.q.HOTEL && A.hotelId && !y) {
                    eg(A.hotelId);
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        top: 0,
                        behavior: "instant"
                    })
                } else if (A.entity === N.q.HOTEL_SEARCH && eh) {
                    let e = document.getElementById("hotel-".concat(eh));
                    e && e.scrollIntoView({
                        behavior: "instant",
                        block: "center"
                    })
                }
            }
            , [A.entity, A.hotelId, eh, y]);
            let ek = (0,
            l.useCallback)( () => {
                if (!y) {
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        behavior: "instant",
                        top: 0
                    })
                }
            }
            , [y]);
            (0,
            l.useEffect)( () => {
                I({
                    onReturnCallback: ek
                }, !1)
            }
            , []);
            let eS = (0,
            l.useMemo)( () => (0,
            n.jsx)(K, {
                markers: eC,
                activeMarkerId: ep,
                hoveredMarkerId: e_,
                onMarkerClick: eN,
                zoom: 11,
                fullWidth: !0,
                forceBoundsFitting: eC.length > 0,
                mapRef: ef
            }), [eC, ep, eN, e_])
              , eR = (0,
            R.A)(eS, "hotel-map-".concat(null == en ? void 0 : en.id), "trip-entity-map-container");
            return (0,
            n.jsxs)(x.r, {
                data: en || void 0,
                startFirebase: !0,
                currentHotel: et,
                children: [!y && eC.length > 0 ? eR : null, (0,
                n.jsx)(S, {
                    trip: g,
                    currentLeg: Y
                }), (0,
                n.jsx)("div", {
                    className: U().full_height,
                    children: A.entity === N.q.HOTEL_SEARCH ? (0,
                    n.jsx)(G, {
                        trip: g,
                        leg: Y,
                        legIndex: X,
                        originalLegIndex: J,
                        nameHotel: Q,
                        startDate: $,
                        endDate: ee,
                        currentHotel: et,
                        loadingHotels: eo,
                        fallbackSearchLoading: ec,
                        onHotelSearch: eb,
                        setLoadingHotels: ed,
                        setSelectedHotelId: ev,
                        onHotelItemHover: eT,
                        mapRef: ef
                    }) : A.entity === N.q.HOTEL ? (0,
                    n.jsx)(Z, {
                        trip: g,
                        currentLeg: Y,
                        originalLegIndex: J,
                        setSelectedHotelId: ev,
                        mapRef: ef
                    }) : null
                })]
            }, null == en ? void 0 : en.id)
        };
        var $ = i(13725)
          , ee = i(47950)
          , et = i(3631)
          , ei = i.n(et)
          , en = i(62266)
          , el = i(57236)
          , er = i(65018)
          , ea = i(17555)
          , eo = i(79718)
          , es = i(19903)
          , ed = i(61004);
        let ec = (e, t) => !!e && !!t && e.length === t.length && e.every( (e, i) => {
            let n = t[i];
            if (e.type !== n.type || e.subType !== n.subType)
                return !1;
            if ("place" === e.subType && "place" === n.subType)
                return e.location === n.location && e.latitude === n.latitude && e.longitude === n.longitude;
            if ("details"in e && "details"in n) {
                var l, r, a, o;
                return (null === (l = e.details) || void 0 === l ? void 0 : l.durationInMinutes) === (null === (r = n.details) || void 0 === r ? void 0 : r.durationInMinutes) && (null === (a = e.details) || void 0 === a ? void 0 : a.lengthInMeters) === (null === (o = n.details) || void 0 === o ? void 0 : o.lengthInMeters)
            }
            return !0
        }
        );
        function eu() {
            var e;
            let {tAsString: t} = (0,
            C.Ay)()
              , {getSelectedLegRoute: i, legTransportState: o, changeLegRouteOption: s, setLegTransportState: d} = (0,
            h.y)()
              , {updateTripNavState: c} = (0,
            a.Pd)()
              , {enabled: u, updateTripLegRouting: _} = (0,
            eo.j)()
              , {trip: m} = (0,
            v.f)()
              , {checkAndShowPaywall: g} = (0,
            es.k)()
              , f = (0,
            p.A)()
              , [x,y] = (0,
            l.useState)(null)
              , b = o.from
              , j = o.to
              , w = (0,
            l.useMemo)( () => {
                let e = (null == m ? void 0 : m.legs) || []
                  , t = e.findIndex(e => e === j);
                if (-1 === t && (null == j ? void 0 : j.location) && (t = e.findIndex(e => e.location === j.location)),
                -1 === t && (null == b ? void 0 : b.location)) {
                    let i = e.findIndex(e => e.location === b.location);
                    i >= 0 && i < e.length - 1 && (t = i + 1)
                }
                return -1 === t && (t = 0),
                t
            }
            , [null == m ? void 0 : m.legs, j, b]);
            (0,
            l.useEffect)( () => {
                var e;
                let t = null == m ? void 0 : null === (e = m.legs) || void 0 === e ? void 0 : e[w];
                (null == t ? void 0 : t.preferredTransportMode) !== "unknown" && y(null)
            }
            , [null == m ? void 0 : m.legs, w]);
            let A = (0,
            l.useCallback)(e => {
                let {showPaywall: t} = g(!0);
                if (t)
                    return;
                y(e.option || null);
                let i = s(w, e);
                f({
                    event: "TransportationOptionSelected",
                    data: {
                        entityId: null == m ? void 0 : m.id
                    }
                });
                let n = {
                    ...i
                };
                if (u) {
                    var l;
                    delete n["route".concat(w)];
                    let t = null == m ? void 0 : null === (l = m.legs) || void 0 === l ? void 0 : l[w];
                    e && t && _(t, e)
                }
            }
            , [g, s, w, f, null == m ? void 0 : m.id, u, null == m ? void 0 : m.legs, _, y])
              , I = (0,
            l.useCallback)( () => {
                let e = (b ? new Date(b.endDate) : new Date).toISOString().split("T")[0];
                d(t => ({
                    ...t,
                    departureDate: e
                })),
                c({
                    entity: N.q.FLIGHTS,
                    originalLegIndex: w
                })
            }
            , [b, d, c, w])
              , T = (0,
            l.useCallback)( () => {
                let e = (b ? new Date(b.endDate) : new Date).toISOString().split("T")[0];
                d(t => ({
                    ...t,
                    departureDate: e
                })),
                c({
                    entity: N.q.CARS
                })
            }
            , [b, d, c])
              , k = (0,
            l.useMemo)( () => {
                var e, t;
                return null == j ? void 0 : null === (t = j.routing) || void 0 === t ? void 0 : null === (e = t.options.filter(e => {
                    var t;
                    return null == e ? void 0 : null === (t = e.option) || void 0 === t ? void 0 : t.find(e => "unknown" !== e.subType && "place" !== e.subType)
                }
                )) || void 0 === e ? void 0 : e.length
            }
            , [null == j ? void 0 : null === (e = j.routing) || void 0 === e ? void 0 : e.options]);
            return b && j ? 0 === k ? (0,
            n.jsx)("div", {
                children: (0,
                n.jsx)("p", {
                    className: ei().no_options_text,
                    children: t("modals.modifyRoutes.noOptions")
                })
            }) : (0,
            n.jsxs)("div", {
                children: [(0,
                n.jsxs)("h2", {
                    className: "".concat(ei().travel_options__title),
                    children: [(null == j ? void 0 : j.routing) && "number" == typeof k && k, " ", t("modals.modifyRoutes.travelOptionsSubtitle1"), " ", null == b ? void 0 : b.location, " ", t("modals.modifyRoutes.travelOptionsSubtitle2"), " ", null == j ? void 0 : j.location]
                }), (0,
                n.jsx)("div", {
                    className: ei().options,
                    children: j.routing && j.routing.options.map( (e, l) => {
                        var a, o, s, d, c, u, p, v, _, h, g, f, y, C, N, k, S, R, E;
                        let {option: P} = null != e ? e : {};
                        if (!P || !(null == P ? void 0 : P.find(e => "unknown" !== e.subType && "place" !== e.subType)) || !(0,
                        r.W4)(P))
                            return null;
                        let D = (0,
                        ee.Di)(e)
                          , M = null == P ? void 0 : P.find(e => e.details)
                          , L = null === (a = i(w)) || void 0 === a ? void 0 : a.option
                          , O = D.some(e => e.subType === ea.Xz.Flight)
                          , F = D.some(e => e.subType === ea.Xz.Car)
                          , B = null == m ? void 0 : null === (o = m.legs) || void 0 === o ? void 0 : o[w]
                          , H = ec(P, L)
                          , U = ec(P, x || void 0) || H && (null == B ? void 0 : B.preferredTransportMode) !== "unknown";
                        if (O) {
                            let t = (0,
                            n.jsxs)(n.Fragment, {
                                children: [U ? (0,
                                n.jsx)("div", {
                                    className: ei().select_option_wrapper,
                                    children: (0,
                                    n.jsx)($.A, {
                                        className: ei().select_option_selected,
                                        src: "/checkCircle.svg",
                                        alt: "selected",
                                        width: 24,
                                        height: 24
                                    })
                                }) : (0,
                                n.jsx)("div", {
                                    className: ei().select_option_wrapper,
                                    children: (0,
                                    n.jsx)("button", {
                                        className: ei().select_option_button,
                                        onClick: t => {
                                            t.preventDefault(),
                                            A(e)
                                        }
                                        ,
                                        children: (0,
                                        n.jsx)($.A, {
                                            src: "/plus.svg",
                                            alt: "not selected",
                                            width: 12,
                                            height: 12
                                        })
                                    })
                                }), (0,
                                n.jsx)(ed.A, {
                                    legRoute: e,
                                    transports: (0,
                                    ee.Di)(e),
                                    details: null == e ? void 0 : null === (h = e.option) || void 0 === h ? void 0 : h.find(e => e.details),
                                    onClickRoute: I,
                                    showArrow: !0,
                                    fromLocation: null == b ? void 0 : null === (f = b.location) || void 0 === f ? void 0 : null === (g = f.split(",")) || void 0 === g ? void 0 : g[0],
                                    toLocation: null == j ? void 0 : null === (C = j.location) || void 0 === C ? void 0 : null === (y = C.split(",")) || void 0 === y ? void 0 : y[0]
                                })]
                            });
                            return (0,
                            n.jsx)("div", {
                                className: ei().option,
                                children: t
                            }, l)
                        }
                        if (F) {
                            let t = (0,
                            n.jsxs)(n.Fragment, {
                                children: [U ? (0,
                                n.jsx)("div", {
                                    className: ei().select_option_wrapper,
                                    children: (0,
                                    n.jsx)($.A, {
                                        className: ei().select_option_selected,
                                        src: "/checkCircle.svg",
                                        alt: "selected",
                                        width: 24,
                                        height: 24
                                    })
                                }) : (0,
                                n.jsx)("div", {
                                    className: ei().select_option_wrapper,
                                    children: (0,
                                    n.jsx)("button", {
                                        className: ei().select_option_button,
                                        onClick: t => {
                                            t.preventDefault(),
                                            A(e)
                                        }
                                        ,
                                        children: (0,
                                        n.jsx)($.A, {
                                            src: "/plus.svg",
                                            alt: "not selected",
                                            width: 12,
                                            height: 12
                                        })
                                    })
                                }), (0,
                                n.jsx)(ed.A, {
                                    legRoute: e,
                                    transports: (0,
                                    ee.Di)(e),
                                    details: null == e ? void 0 : null === (N = e.option) || void 0 === N ? void 0 : N.find(e => e.details),
                                    onClickRoute: T,
                                    showArrow: !0,
                                    fromLocation: null == b ? void 0 : null === (S = b.location) || void 0 === S ? void 0 : null === (k = S.split(",")) || void 0 === k ? void 0 : k[0],
                                    toLocation: null == j ? void 0 : null === (E = j.location) || void 0 === E ? void 0 : null === (R = E.split(",")) || void 0 === R ? void 0 : R[0]
                                })]
                            });
                            return (0,
                            n.jsx)("div", {
                                className: ei().option,
                                children: t
                            }, l)
                        }
                        let z = (0,
                        n.jsxs)(n.Fragment, {
                            children: [U ? (0,
                            n.jsx)("div", {
                                className: ei().select_option_wrapper,
                                children: (0,
                                n.jsx)($.A, {
                                    className: ei().select_option_selected,
                                    src: "/checkCircle.svg",
                                    alt: "selected",
                                    width: 24,
                                    height: 24
                                })
                            }) : (0,
                            n.jsx)("div", {
                                className: ei().select_option_wrapper,
                                children: (0,
                                n.jsx)("button", {
                                    className: ei().select_option_button,
                                    onClick: t => {
                                        t.preventDefault(),
                                        A(e)
                                    }
                                    ,
                                    children: (0,
                                    n.jsx)($.A, {
                                        src: "/plus.svg",
                                        alt: "not selected",
                                        width: 12,
                                        height: 12
                                    })
                                })
                            }), (0,
                            n.jsxs)("div", {
                                className: "".concat(ei().option__info, " ").concat((null == M ? void 0 : null === (s = M.details) || void 0 === s ? void 0 : s.deepLink) || (null == M ? void 0 : null === (d = M.details) || void 0 === d ? void 0 : d.url) ? ei().option__info_link : ""),
                                children: [(0,
                                n.jsxs)("div", {
                                    className: ei().option__info_left,
                                    children: [(0,
                                    n.jsx)("p", {
                                        className: ei().option__info_left_title,
                                        children: (0,
                                        ee.Ay)(D, t)
                                    }), (0,
                                    n.jsxs)("div", {
                                        className: ei().option__info_left_icons,
                                        children: [(0,
                                        n.jsx)(el.A, {
                                            option: e
                                        }), (null == M ? void 0 : M.details) && (0,
                                        n.jsx)(en.A, {
                                            details: null == M ? void 0 : M.details,
                                            showPrice: !1
                                        })]
                                    })]
                                }), (0,
                                n.jsxs)("div", {
                                    className: ei().option__info_right,
                                    children: [0 === l && (0,
                                    n.jsx)("span", {
                                        className: ei().best__badge,
                                        children: t("modals.modifyRoutes.bestBadge")
                                    }), (0,
                                    n.jsxs)("div", {
                                        style: {
                                            display: "flex",
                                            flexDirection: 0 === l ? "row" : "column",
                                            alignItems: 0 === l ? "center" : "end",
                                            gap: "7px"
                                        },
                                        children: [(0,
                                        n.jsx)("div", {
                                            style: {
                                                display: "flex",
                                                gap: "10px",
                                                alignItems: "center"
                                            },
                                            children: (0,
                                            n.jsx)(ep, {
                                                priceInEuros: null == M ? void 0 : null === (c = M.details) || void 0 === c ? void 0 : c.priceInEuros
                                            })
                                        }), ((null == M ? void 0 : null === (u = M.details) || void 0 === u ? void 0 : u.deepLink) || (null == M ? void 0 : null === (p = M.details) || void 0 === p ? void 0 : p.url)) && (0,
                                        n.jsxs)("button", {
                                            className: ei().book_button,
                                            children: [t("trip.tripPopups.book"), (0,
                                            n.jsx)($.A, {
                                                src: "/arrow-forward.svg",
                                                alt: "arrow-right",
                                                width: 14,
                                                height: 14
                                            })]
                                        })]
                                    })]
                                })]
                            })]
                        })
                          , q = (null == M ? void 0 : null === (v = M.details) || void 0 === v ? void 0 : v.deepLink) || (null == M ? void 0 : null === (_ = M.details) || void 0 === _ ? void 0 : _.url);
                        return q ? (0,
                        n.jsx)("a", {
                            href: q,
                            target: "_blank",
                            rel: "noreferrer",
                            className: "".concat(ei().option),
                            children: z
                        }, l) : (0,
                        n.jsx)("div", {
                            className: ei().option,
                            children: z
                        }, l)
                    }
                    )
                })]
            }) : null
        }
        function ep(e) {
            let {priceInEuros: t} = e
              , {formattedPrice: i} = (0,
            er.A)(t, "EUR");
            return t ? (0,
            n.jsx)("p", {
                className: ei().option__info_right_price,
                children: i
            }) : null
        }
        var ev = i(45616)
          , e_ = i.n(ev);
        let em = e => {
            let {trip: t} = e;
            return (0,
            n.jsxs)("div", {
                className: e_().container,
                children: [(0,
                n.jsx)(S, {
                    trip: t
                }), (0,
                n.jsx)("div", {
                    className: e_().content_area,
                    children: (0,
                    n.jsx)(eu, {})
                })]
            })
        }
        ;
        var eh = i(7009)
          , eg = i(96203)
          , ef = i.n(eg);
        function ex(e) {
            let {compactMode: t=!1} = e
              , {tAsString: i} = (0,
            C.Ay)();
            return (0,
            n.jsx)("div", {
                className: ef().container,
                style: t ? {
                    padding: 0
                } : void 0,
                children: (0,
                n.jsx)("div", {
                    className: ef().title,
                    children: i("trip.breadcrumb.flights")
                })
            })
        }
        var ey = i(35123)
          , eb = i(74236)
          , ej = i(98047)
          , ew = i(60704);
        async function eA(e, t) {
            if (!e)
                return console.warn("No flightSearchId provided to retrieveTripFlightsFromFirebase"),
                null;
            if (!(null == t ? void 0 : t.uid))
                return console.warn("No authenticated user provided to retrieveTripFlightsFromFirebase"),
                null;
            try {
                let t = await (0,
                f.UC)("flight_search/".concat(e));
                if (!t)
                    return null;
                return t
            } catch (e) {
                return console.error("Error retrieving flight search from Firebase:", e),
                null
            }
        }
        var eI = i(20664)
          , eC = i.n(eI);
        let eN = e => {
            var t, i, r;
            let {trip: o} = e
              , {navigationState: s} = (0,
            a.Pd)()
              , {tAsString: d} = (0,
            C.Ay)()
              , [c,u] = (0,
            l.useState)()
              , [p,v] = (0,
            l.useState)(!1)
              , {getFlightList: _} = (0,
            ej.gC)()
              , {user: g} = (0,
            m.A)()
              , {legTransportState: f, getSelectedLegRoute: x} = (0,
            h.y)()
              , y = (0,
            l.useMemo)( () => void 0 !== s.originalLegIndex && null !== s.originalLegIndex ? null == x ? void 0 : x(s.originalLegIndex) : void 0, [x, s.originalLegIndex])
              , b = (0,
            l.useMemo)( () => {
                var e;
                return null == y ? void 0 : null === (e = y.option) || void 0 === e ? void 0 : e.find(e => null == e ? void 0 : e.details)
            }
            , [y])
              , j = (0,
            l.useRef)(!1)
              , w = (null == f ? void 0 : null === (t = f.from) || void 0 === t ? void 0 : t.location) || s.fromCity || ""
              , A = (null == f ? void 0 : null === (i = f.to) || void 0 === i ? void 0 : i.location) || s.toCity || ""
              , I = (null == f ? void 0 : f.departureDate) || new Date().toISOString().split("T")[0]
              , N = (0,
            l.useCallback)(e => {
                let t = Math.floor(e / 60)
                  , i = e % 60;
                return "".concat(t, "h").concat(i > 0 ? " ".concat(i, "m") : "")
            }
            , [])
              , T = (0,
            l.useCallback)(e => e ? e.replace(/\s+International$/i, "").replace(/\s+Airport$/i, "").replace(/\s+Intl\.?$/i, "").trim() : "", [])
              , k = (0,
            l.useMemo)( () => {
                var e, t, i, n, l, r, a, s, d, c, u, p, v, _, m;
                let h = []
                  , g = o.legs || []
                  , f = null !== (l = null == o ? void 0 : null === (t = o.travelers) || void 0 === t ? void 0 : null === (e = t.filter(e => e.isAdult)) || void 0 === e ? void 0 : e.length) && void 0 !== l ? l : 1
                  , x = null !== (r = null == o ? void 0 : null === (n = o.travelers) || void 0 === n ? void 0 : null === (i = n.filter(e => !e.isAdult)) || void 0 === i ? void 0 : i.map(e => e.age || 3)) && void 0 !== r ? r : [];
                for (let e = 0; e < g.length - 1; e++) {
                    let t;
                    let i = g[e + 1].routing;
                    if (!i || !i.options)
                        continue;
                    if (1 === i.options.length)
                        t = i.options[0];
                    else {
                        let e = i.options.find(e => {
                            var t, i, n, l, r;
                            let a = null === (t = e.option) || void 0 === t ? void 0 : t.find(e => e.type === ea.ZU.Edge && e.subType === ea.Xz.Flight);
                            return (null == a ? void 0 : null === (i = a.details) || void 0 === i ? void 0 : i.latest) === !0 && (null !== (r = null == a ? void 0 : null === (l = a.details) || void 0 === l ? void 0 : null === (n = l.carriers) || void 0 === n ? void 0 : n.length) && void 0 !== r ? r : 0) > 0
                        }
                        );
                        if (e)
                            t = e;
                        else {
                            let e = i.options.find(e => {
                                var t, i, n, l, r, a, o, s;
                                let d = null === (t = e.option) || void 0 === t ? void 0 : t.find(e => e.type === ea.ZU.Edge && e.subType === ea.Xz.Flight);
                                return (null !== (o = null == d ? void 0 : null === (n = d.details) || void 0 === n ? void 0 : null === (i = n.carriers) || void 0 === i ? void 0 : i.length) && void 0 !== o ? o : 0) > 0 && (null !== (s = null == d ? void 0 : null === (r = d.details) || void 0 === r ? void 0 : null === (l = r.segments) || void 0 === l ? void 0 : l.length) && void 0 !== s ? s : 0) > 0 && (null == d ? void 0 : null === (a = d.details) || void 0 === a ? void 0 : a.priceInEuros)
                            }
                            );
                            if (e)
                                t = e;
                            else {
                                let e = i.options[0]
                                  , n = null == e ? void 0 : null === (s = e.option) || void 0 === s ? void 0 : s.find(e => e.type === ea.ZU.Edge && e.subType === ea.Xz.Flight);
                                (null == n ? void 0 : null === (d = n.details) || void 0 === d ? void 0 : d.priceInEuros) && (t = e)
                            }
                        }
                    }
                    if (!t || !(null == t ? void 0 : null === (a = t.option) || void 0 === a ? void 0 : a.some(e => e.type === ea.ZU.Edge && e.subType === ea.Xz.Flight)))
                        continue;
                    let n = t.option.find(e => e.type === ea.ZU.Edge && e.subType === ea.Xz.Flight)
                      , l = null == n ? void 0 : n.details;
                    if (l) {
                        let e = null === (c = l.segments) || void 0 === c ? void 0 : c[0]
                          , t = null === (u = l.segments) || void 0 === u ? void 0 : u[l.segments.length - 1]
                          , i = {
                            id: l.id,
                            deepLink: l.deepLink,
                            price: l.priceInEuros || 0,
                            tags: l.tags || [],
                            transferType: "TRANSFER_TYPE_MANAGED",
                            order: l.order,
                            reason: l.reason,
                            flights: [{
                                fromCity: T(l.fromIataName || l.fromCityName || (null == e ? void 0 : e.fromCityName) || ""),
                                toCity: T(l.toIataName || l.toCityName || (null == t ? void 0 : t.toCityName) || ""),
                                fromIata: l.fromIata || (null == e ? void 0 : e.fromIata) || "",
                                toIata: l.toIata || (null == t ? void 0 : t.toIata) || "",
                                url: l.deepLink || l.url || "",
                                thumbnailUrl: (null === (v = l.carriers) || void 0 === v ? void 0 : null === (p = v[0]) || void 0 === p ? void 0 : p.imageUrl) || "",
                                departureDate: (null == e ? void 0 : null === (m = e.departureTime) || void 0 === m ? void 0 : null === (_ = m.split(" ")) || void 0 === _ ? void 0 : _[0]) || l.departureDate,
                                departureStartTime: l.departureStartTime || (null == e ? void 0 : e.departureTime),
                                departureEndTime: l.departureEndTime || (null == t ? void 0 : t.arrivalTime),
                                priceInEuros: l.priceInEuros || 0,
                                duration: N(l.durationInMinutes),
                                durationInMinutes: l.durationInMinutes,
                                stops: l.stops || 0,
                                destinationAirportInDifferentCity: !1,
                                cabinClass: l.cabinClass || eh.qP.CABIN_CLASS_UNSPECIFIED,
                                numberOfAdults: f,
                                childrenAges: x,
                                latest: l.latest || !1,
                                carriers: l.carriers || [],
                                transferType: "TRANSFER_TYPE_MANAGED",
                                segments: l.segments,
                                layovers: l.layovers || []
                            }]
                        };
                        h.push(i)
                    }
                }
                return h
            }
            , [o.legs, o.travelers, N, T])
              , R = (0,
            l.useMemo)( () => {
                var e, t, i, n, l, r, a, s, d, c, u, p, v;
                if (!(null == b ? void 0 : null === (e = b.details) || void 0 === e ? void 0 : e.latest))
                    return null;
                let _ = b.details
                  , m = null === (t = _.segments) || void 0 === t ? void 0 : t[0]
                  , h = null === (i = _.segments) || void 0 === i ? void 0 : i[_.segments.length - 1]
                  , g = null !== (p = null == o ? void 0 : null === (l = o.travelers) || void 0 === l ? void 0 : null === (n = l.filter(e => e.isAdult)) || void 0 === n ? void 0 : n.length) && void 0 !== p ? p : 1
                  , f = null !== (v = null == o ? void 0 : null === (a = o.travelers) || void 0 === a ? void 0 : null === (r = a.filter(e => !e.isAdult)) || void 0 === r ? void 0 : r.map(e => e.age || 3)) && void 0 !== v ? v : [];
                return {
                    id: _.id,
                    deepLink: _.deepLink,
                    price: _.priceInEuros || 0,
                    tags: _.tags || [],
                    transferType: "TRANSFER_TYPE_MANAGED",
                    order: _.order,
                    reason: _.reason,
                    flights: [{
                        fromCity: _.fromCityName || (null == m ? void 0 : m.fromCityName),
                        toCity: _.toCityName || (null == h ? void 0 : h.toCityName),
                        fromIata: _.fromIata || (null == m ? void 0 : m.fromIata) || "",
                        toIata: _.toIata || (null == h ? void 0 : h.toIata) || "",
                        url: _.deepLink || _.url || "",
                        thumbnailUrl: (null === (d = _.carriers) || void 0 === d ? void 0 : null === (s = d[0]) || void 0 === s ? void 0 : s.imageUrl) || "",
                        departureDate: (null == m ? void 0 : null === (u = m.departureTime) || void 0 === u ? void 0 : null === (c = u.split(" ")) || void 0 === c ? void 0 : c[0]) || _.departureDate,
                        departureStartTime: _.departureStartTime || (null == m ? void 0 : m.departureTime),
                        departureEndTime: _.departureEndTime || (null == h ? void 0 : h.arrivalTime),
                        priceInEuros: _.priceInEuros || 0,
                        duration: N(_.durationInMinutes),
                        durationInMinutes: _.durationInMinutes,
                        stops: _.stops || 0,
                        destinationAirportInDifferentCity: !1,
                        cabinClass: _.cabinClass || eh.qP.CABIN_CLASS_UNSPECIFIED,
                        numberOfAdults: g,
                        childrenAges: f,
                        latest: !0,
                        carriers: _.carriers || [],
                        transferType: "TRANSFER_TYPE_MANAGED",
                        segments: _.segments,
                        layovers: _.layovers || []
                    }]
                }
            }
            , [b, I, null == o ? void 0 : o.travelers, N])
              , E = (0,
            l.useMemo)( () => (0,
            ew.TE)("", w, A, o, I, o.cabinClass || eh.qP.CABIN_CLASS_UNSPECIFIED, d), [w, A, o, I, d])
              , P = (0,
            l.useCallback)(e => {
                if (R) {
                    var t;
                    let i = e.filter(e => e.id !== R.id)
                      , n = Math.min(R.price, ...i.map(e => e.price))
                      , l = R.price === n
                      , r = R;
                    !l && (null === (t = R.tags) || void 0 === t ? void 0 : t.includes("Cheapest")) && (r = {
                        ...R,
                        tags: R.tags.filter(e => "Cheapest" !== e)
                    }),
                    u([r, ...i])
                } else
                    u(e);
                v(!1)
            }
            , [R])
              , D = (0,
            l.useCallback)( () => {
                v(!0),
                R && u([{
                    ...R,
                    tags: []
                }])
            }
            , [R]);
            return (0,
            l.useEffect)( () => {
                if (!j.current) {
                    if (!w && !A && k.length > 0) {
                        D(),
                        Promise.all(k.filter(e => {
                            let t = e.flights[0];
                            return t.fromCity && t.toCity
                        }
                        ).map(async e => {
                            let t = e.flights[0]
                              , i = (0,
                            ew.TE)("", t.fromCity || "", t.toCity || "", o, t.departureDate || I, o.cabinClass || eh.qP.CABIN_CLASS_UNSPECIFIED, d);
                            try {
                                let e = await _(i, 10);
                                return (null == e ? void 0 : e.flightItineraries) || []
                            } catch (e) {
                                return console.error("Error searching flights for ".concat(t.fromCity, " → ").concat(t.toCity, ":"), e),
                                []
                            }
                        }
                        )).then(e => {
                            let t = e.flat();
                            if (t.length > 0) {
                                let e = Math.min(...t.map(e => e.price));
                                u(t.map(t => {
                                    let i = [...t.tags || []];
                                    return t.price !== e || i.includes("Cheapest") || i.push("Cheapest"),
                                    {
                                        ...t,
                                        tags: i
                                    }
                                }
                                ))
                            } else
                                u([]);
                            v(!1),
                            j.current = !0
                        }
                        ).catch(e => {
                            console.error("Error searching all flights:", e),
                            u([]),
                            v(!1)
                        }
                        );
                        return
                    }
                    R && u(e => {
                        if (!(null == e ? void 0 : e.find(e => e.id === R.id)))
                            return [{
                                ...R,
                                tags: []
                            }]
                    }
                    ),
                    o.flightSearchId && g && E ? (D(),
                    eA(o.flightSearchId, g).then(e => {
                        let t = (null == e ? void 0 : e.flights) || (null == e ? void 0 : e.flightItineraries);
                        t ? P(t) : R ? u([R]) : u([]),
                        v(!1),
                        j.current = !0
                    }
                    ).catch(e => {
                        console.error("Error fetching flight data from Firebase:", e),
                        g && E ? _(E, 10).then(e => {
                            let t = (null == e ? void 0 : e.flights) || (null == e ? void 0 : e.flightItineraries);
                            t ? P(t) : R ? u([R]) : u([]),
                            v(!1),
                            j.current = !0
                        }
                        ).catch(e => {
                            console.error("Fallback flight search error:", e),
                            R ? u([R]) : u([]),
                            v(!1)
                        }
                        ) : (R ? u([R]) : u([]),
                        v(!1))
                    }
                    )) : g && E ? (D(),
                    _(E, 10).then(e => {
                        let t = (null == e ? void 0 : e.flights) || (null == e ? void 0 : e.flightItineraries);
                        t ? P(t) : R ? u([{
                            ...R,
                            tags: []
                        }]) : u([]),
                        v(!1),
                        j.current = !0
                    }
                    ).catch(e => {
                        console.error("Flight search error:", e),
                        R ? u([{
                            ...R,
                            tags: []
                        }]) : u([]),
                        v(!1)
                    }
                    )) : E && v(!0)
                }
            }
            , [o.flightSearchId, E, g, R, P, k, w, A]),
            (0,
            n.jsxs)("div", {
                className: eC().container,
                children: [(0,
                n.jsx)(S, {
                    trip: o
                }), (0,
                n.jsx)(q.A, {
                    height: 4,
                    isLoading: p,
                    barStyle: {
                        backgroundColor: "var(--colors-primary)"
                    }
                }), (0,
                n.jsxs)("div", {
                    className: eC().content_section,
                    children: [w && A && (0,
                    n.jsx)(ex, {
                        compactMode: !0
                    }), (0,
                    n.jsx)(ey.A, {
                        entity: (null == c ? void 0 : null === (r = c[0]) || void 0 === r ? void 0 : r.carriers) ? "flights" : "flightItineraries",
                        onSearchResults: P,
                        onSearchStart: D,
                        isLoading: p,
                        searchButtonText: "",
                        trip: o,
                        fromCity: w,
                        toCity: A,
                        departureDate: I,
                        allFlights: k.length >= 1 ? k : void 0
                    })]
                }), c && c.length > 0 ? (0,
                n.jsx)(n.Fragment, {
                    children: "carriers"in c[0] ? (0,
                    n.jsx)(eb.A, {
                        entity: "flights",
                        results: c || [],
                        isLoading: !1
                    }) : (0,
                    n.jsx)(eb.A, {
                        entity: "flightItineraries",
                        results: c || [],
                        isLoading: !1,
                        compactContainer: !1
                    })
                }) : (0,
                n.jsx)(eb.A, {
                    entity: "flights",
                    results: [],
                    isLoading: p
                })]
            })
        }
        ;
        var eT = i(72936)
          , ek = i.n(eT);
        let eS = e => {
            let {carRental: t, onClick: i} = e
              , {tAsString: l} = (0,
            C.Ay)()
              , {formattedPrice: r} = (0,
            er.A)(t.price, "EUR");
            return (0,
            n.jsxs)("div", {
                className: ek().card,
                onClick: () => {
                    i ? i(t) : window.open(t.deepLinkUrl, "_blank", "noopener,noreferrer")
                }
                ,
                children: [(0,
                n.jsx)("div", {
                    className: ek().image_section,
                    children: (0,
                    n.jsx)($.A, {
                        src: t.carImageUrl,
                        alt: t.car,
                        width: 200,
                        height: 150,
                        className: ek().car_image
                    })
                }), (0,
                n.jsxs)("div", {
                    className: ek().content_section,
                    children: [(0,
                    n.jsxs)("div", {
                        children: [(0,
                        n.jsxs)("div", {
                            className: ek().car_info_section,
                            children: [(0,
                            n.jsx)("h3", {
                                className: ek().car_name,
                                children: t.car
                            }), (0,
                            n.jsx)("span", {
                                className: ek().car_category,
                                children: t.category
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: ek().details_section,
                            children: [(0,
                            n.jsxs)("div", {
                                className: ek().detail_item,
                                children: [(0,
                                n.jsx)($.A, {
                                    src: "/CarRental/seats.svg",
                                    alt: "Passengers",
                                    width: 16,
                                    height: 16,
                                    className: ek().detail_icon
                                }), (0,
                                n.jsx)("span", {
                                    className: ek().detail_text,
                                    children: t.type
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: ek().detail_item,
                                children: [(0,
                                n.jsx)($.A, {
                                    src: "automatic" === t.transmission.toLowerCase() ? "/CarRental/transmission-automatic.svg" : "/CarRental/transmission-manual.svg",
                                    alt: "Transmission",
                                    width: 16,
                                    height: 16,
                                    className: ek().detail_icon
                                }), (0,
                                n.jsx)("span", {
                                    className: ek().detail_text,
                                    children: t.transmission
                                })]
                            })]
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: ek().line
                    }), (0,
                    n.jsxs)("div", {
                        className: ek().additional_info_section,
                        children: [(0,
                        n.jsxs)("div", {
                            className: ek().supplier_section,
                            children: [(0,
                            n.jsx)($.A, {
                                src: t.supplierImageUrl,
                                alt: t.supplier,
                                width: 24,
                                height: 24,
                                className: ek().supplier_image
                            }), (0,
                            n.jsx)("span", {
                                className: ek().supplier_name,
                                children: t.supplier
                            })]
                        }), t.freeCancellation && (0,
                        n.jsxs)("div", {
                            className: ek().info_item,
                            children: [(0,
                            n.jsx)($.A, {
                                src: "/CarRental/free-cancellation.svg",
                                alt: "Free Cancellation",
                                width: 16,
                                height: 16,
                                className: ek().info_icon
                            }), (0,
                            n.jsx)("span", {
                                className: ek().info_text,
                                children: l("carRental.freeCancellation")
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: ek().info_item,
                            children: [(0,
                            n.jsx)($.A, {
                                src: "/CarRental/fuel.svg",
                                alt: "AC/Fuel",
                                width: 16,
                                height: 16,
                                className: ek().info_icon
                            }), (0,
                            n.jsx)("span", {
                                className: ek().info_text,
                                children: t.fuelAC
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: ek().info_item,
                            children: [(0,
                            n.jsx)($.A, {
                                src: "/CarRental/pick-up.svg",
                                alt: "Pickup Location",
                                width: 16,
                                height: 16,
                                className: ek().info_icon
                            }), (0,
                            n.jsxs)("span", {
                                className: ek().info_text,
                                children: [l("carRental.pickup"), " ", t.pickUpLocation]
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: ek().info_item,
                            children: [(0,
                            n.jsx)($.A, {
                                src: "/CarRental/pick-up.svg",
                                alt: "Drop-off Location",
                                width: 16,
                                height: 16,
                                className: ek().info_icon
                            }), (0,
                            n.jsxs)("span", {
                                className: ek().info_text,
                                children: [l("carRental.dropOff"), " ", t.dropOffLocation]
                            })]
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: ek().line
                    }), (0,
                    n.jsxs)("div", {
                        className: ek().action_section,
                        children: [(0,
                        n.jsxs)("div", {
                            className: ek().price_section,
                            children: [(0,
                            n.jsx)("span", {
                                className: ek().price_label,
                                children: l("carRental.total")
                            }), (0,
                            n.jsx)("span", {
                                className: ek().price,
                                children: r
                            })]
                        }), (0,
                        n.jsx)("button", {
                            className: ek().view_details_button,
                            children: l("carRental.viewDeal")
                        })]
                    })]
                })]
            })
        }
        ;
        var eR = i(972)
          , eE = i.n(eR);
        let eP = e => {
            let {carRentals: t, isLoading: i=!1, onCarRentalClick: l} = e
              , {tAsString: r} = (0,
            C.Ay)();
            return i ? (0,
            n.jsx)("div", {
                className: eE().container,
                children: (0,
                n.jsxs)("div", {
                    className: eE().loading_section,
                    children: [(0,
                    n.jsx)("div", {
                        className: eE().loading_spinner
                    }), (0,
                    n.jsx)("p", {
                        className: eE().loading_text,
                        children: r("carRental.searching")
                    })]
                })
            }) : t && 0 !== t.length ? (0,
            n.jsx)("div", {
                className: eE().container,
                children: (0,
                n.jsx)("div", {
                    className: eE().list,
                    children: t.map( (e, t) => (0,
                    n.jsx)(eS, {
                        carRental: e,
                        onClick: l
                    }, "".concat(e.supplier, "-").concat(e.car, "-").concat(t)))
                })
            }) : (0,
            n.jsx)("div", {
                className: eE().container,
                children: (0,
                n.jsxs)("div", {
                    className: eE().empty_section,
                    children: [(0,
                    n.jsx)("div", {
                        className: eE().empty_icon,
                        children: "\uD83D\uDE97"
                    }), (0,
                    n.jsx)("h3", {
                        className: eE().empty_title,
                        children: r("carRental.noResults")
                    }), (0,
                    n.jsx)("p", {
                        className: eE().empty_description,
                        children: r("carRental.noResultsDescription")
                    })]
                })
            })
        }
        ;
        var eD = i(42521)
          , eM = i(83457)
          , eL = i(74332)
          , eO = i.n(eL);
        let eF = e => {
            var t, i, r, o;
            let {trip: s} = e
              , {navigationState: d} = (0,
            a.Pd)()
              , {tAsString: c} = (0,
            C.Ay)()
              , [u,p] = (0,
            l.useState)(!1)
              , [v,_] = (0,
            l.useState)((null == s ? void 0 : null === (t = s.carRental) || void 0 === t ? void 0 : t.carRentals) || [])
              , {legTransportState: m} = (0,
            h.y)()
              , g = (0,
            eM.B)()
              , f = (0,
            l.useRef)(!1)
              , x = d.fromCity || (null == m ? void 0 : null === (i = m.from) || void 0 === i ? void 0 : i.location) || ""
              , y = d.toCity || (null == m ? void 0 : null === (r = m.to) || void 0 === r ? void 0 : r.location) || ""
              , b = l.useMemo( () => {
                if (s.carRental) {
                    let e = (0,
                    eD.BH)(s, c);
                    if (e)
                        return e
                }
                return x && y ? (0,
                eD.kg)(s, x, y, c, (null == m ? void 0 : m.departureDate) || void 0) : ""
            }
            , [s, x, y, null == m ? void 0 : m.departureDate, c]);
            (0,
            l.useEffect)( () => {
                var e;
                null !== (e = s.carRental) && void 0 !== e && e.carRentals && s.carRental.carRentals.length > 0 || !b || 0 !== v.length || f.current || (f.current = !0,
                p(!0),
                g(b).then(e => {
                    e && _(e),
                    p(!1)
                }
                ).catch(e => {
                    console.error("Error executing initial car rental search:", e),
                    p(!1)
                }
                ))
            }
            , [b, v.length, g, null === (o = s.carRental) || void 0 === o ? void 0 : o.carRentals]);
            let j = (0,
            l.useCallback)(e => {
                _(e),
                p(!1)
            }
            , [])
              , w = (0,
            l.useCallback)( () => {
                p(!0)
            }
            , [])
              , A = (0,
            l.useCallback)(e => {
                window.open(e.deepLinkUrl, "_blank", "noopener,noreferrer")
            }
            , []);
            return (0,
            n.jsxs)("div", {
                className: eO().container,
                children: [(0,
                n.jsx)(S, {
                    trip: s
                }), (0,
                n.jsx)(q.A, {
                    height: 4,
                    simulateProgress: u,
                    barStyle: {
                        backgroundColor: "var(--colors-primary)"
                    }
                }), (0,
                n.jsxs)("div", {
                    className: eO().content_section,
                    children: [(0,
                    n.jsx)("div", {
                        className: eO().header,
                        children: (0,
                        n.jsxs)("h1", {
                            className: eO().title,
                            children: [c("modals.modifyRoutes.transportDescriptions.drive"), " ", x, " ", c("modals.modifyRoutes.travelOptionsSubtitle2"), " ", y]
                        })
                    }), (0,
                    n.jsx)(ey.A, {
                        entity: "carRentals",
                        onSearchResults: j,
                        onSearchStart: w,
                        isLoading: u,
                        initialSearchQuery: b,
                        searchButtonText: ""
                    }), (0,
                    n.jsx)(eP, {
                        carRentals: v,
                        isLoading: u,
                        onCarRentalClick: A
                    })]
                })]
            })
        }
        ;
        var eB = i(45552)
          , eH = i(45648)
          , eU = i(13084)
          , ez = i(97917)
          , eq = i(14090)
          , eV = i(85610)
          , eW = i(79188)
          , eG = i.n(eW)
          , eY = i(56635)
          , eX = i(5117)
          , eJ = i(47685)
          , eZ = i(85488)
          , eK = i(75936);
        let eQ = e => {
            var t, i, r, a, o;
            let {activity: s} = e
              , {tAsString: d} = (0,
            C.Ay)()
              , [c,u] = (0,
            l.useState)(!1)
              , {name: p, rating: v=0, numberOfRatings: _, description: m, duration: h, type: g} = s
              , f = "faqs"in s ? s.faqs : void 0
              , x = "openingHours"in s ? s.openingHours : void 0
              , y = "freeAttraction"in s ? s.freeAttraction : void 0
              , b = Array(Math.floor(v)).fill(0)
              , j = v % 1 > .5 ? 1 : 0
              , w = !!((null == h ? void 0 : h.value) && (null == h ? void 0 : h.unit))
              , A = g === eB.Mr.ATTRACTION
              , I = A && x;
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: eG().title_wrapper,
                    children: [(0,
                    n.jsx)("p", {
                        className: eG().label,
                        children: d(A ? "trip.itinerary.attraction.title" : "topicPage.chatSection.cards.activity")
                    }), (0,
                    n.jsx)("p", {
                        className: eG().card__title,
                        children: p
                    }), (0,
                    n.jsxs)("div", {
                        className: eG().infoRow,
                        children: [b.length > 0 ? (0,
                        n.jsxs)("div", {
                            className: eG().ratingWrapper,
                            children: [(0,
                            n.jsxs)("div", {
                                className: eG().stars,
                                children: [b.map( (e, t) => (0,
                                n.jsx)($.A, {
                                    src: eU.A,
                                    alt: "star",
                                    width: 16,
                                    height: 16
                                }, t)), 1 === j && (0,
                                n.jsx)($.A, {
                                    src: ez.A,
                                    alt: "half-star",
                                    width: 16,
                                    height: 16
                                })]
                            }), (0,
                            n.jsx)("span", {
                                children: v.toFixed(1)
                            }), _ && (0,
                            n.jsx)("small", {
                                children: "(".concat(_, " ").concat(d("itinerary.reviews"), ")")
                            })]
                        }) : null, y && (0,
                        n.jsxs)("div", {
                            className: eG().freeWrapper,
                            children: [(0,
                            n.jsx)($.A, {
                                src: "/ProfilePage/NewIcons/currency.svg",
                                alt: "free",
                                width: 16,
                                height: 16
                            }), (0,
                            n.jsx)("span", {
                                className: eG().freeText,
                                children: d("paywall.prices.trial.free")
                            })]
                        })]
                    })]
                }), (0,
                n.jsx)("div", {
                    children: (0,
                    n.jsx)(eq.U, {
                        item: s,
                        onShareButtonClick: () => {}
                        ,
                        onOpenVideosPopup: () => {}
                        ,
                        forcedPlaceholderImage: "345",
                        onInitiateCheckout: () => {}
                        ,
                        source: A ? eK.A : eZ.A
                    })
                }), (0,
                n.jsx)("div", {
                    className: eG().description,
                    children: (0,
                    n.jsxs)("div", {
                        className: eG().description_overview,
                        children: [(I || w) && (0,
                        n.jsxs)("div", {
                            className: eG().duration_container,
                            children: [(0,
                            n.jsx)("div", {
                                className: eG().container_time,
                                children: (0,
                                n.jsx)($.A, {
                                    src: "/clock.svg",
                                    alt: "time",
                                    width: 16,
                                    height: 16
                                })
                            }), I && x ? x.split(";").map(e => (0,
                            n.jsxs)("p", {
                                className: eG().duration_text,
                                children: [e, ";"]
                            }, e)) : (0,
                            n.jsxs)(n.Fragment, {
                                children: [(0,
                                n.jsx)("p", {
                                    className: eG().duration_text,
                                    children: "".concat(d("trip.duration.duration"), " ").concat(h.value, " ").concat((0,
                                    eV.zG)(h.value, null !== (o = h.unit) && void 0 !== o ? o : "", d))
                                }), (0,
                                n.jsx)("p", {
                                    className: eG().check_text,
                                    children: d("trip.duration.checkAvailability")
                                })]
                            })]
                        }), m && (0,
                        n.jsxs)("div", {
                            children: [(0,
                            n.jsx)("p", {
                                className: eG().overview,
                                children: d("trip.itinerary.overview")
                            }), (0,
                            n.jsx)(eY.A, {
                                content: m,
                                maxLines: 5,
                                readMoreText: d("hotels.card.readMore"),
                                readLessText: d("hotels.card.readLess"),
                                readMoreClassName: eG().read_more_btn
                            })]
                        })]
                    })
                }), f && f.length > 0 && (0,
                n.jsx)(n.Fragment, {
                    children: (0,
                    n.jsx)("div", {
                        className: eG().description,
                        children: (0,
                        n.jsx)("div", {
                            className: eG().description_overview,
                            children: (0,
                            n.jsx)(eX.A, {
                                title: d("faq.title"),
                                items: f,
                                className: "!py-0 px-0",
                                titleClassName: eG().overview,
                                containerClassName: ""
                            })
                        })
                    })
                }), (0,
                n.jsx)("div", {
                    className: eG().boxHr,
                    children: (0,
                    n.jsx)("p", {
                        className: eG().hr
                    })
                }), (null == s ? void 0 : null === (t = s.location) || void 0 === t ? void 0 : t.lat) && (null == s ? void 0 : null === (i = s.location) || void 0 === i ? void 0 : i.lng) && (0,
                n.jsxs)("div", {
                    className: eG().block,
                    children: [(0,
                    n.jsx)("span", {
                        className: eG().overview,
                        children: d("hotels.map")
                    }), (0,
                    n.jsx)("div", {
                        className: eG().hotel_map_container,
                        children: (0,
                        n.jsx)(eJ.Q, {
                            center: {
                                lat: null == s ? void 0 : null === (r = s.location) || void 0 === r ? void 0 : r.lat,
                                lng: null == s ? void 0 : null === (a = s.location) || void 0 === a ? void 0 : a.lng
                            },
                            title: p || "Activity Location",
                            openMapModal: c,
                            setOpenMapModal: u
                        })
                    })]
                })]
            })
        }
        ;
        var e$ = i(91106)
          , e0 = i.n(e$)
          , e1 = i(77002)
          , e2 = i.n(e1)
          , e4 = i(48891)
          , e5 = i(68796)
          , e8 = i(26015)
          , e6 = i(27710)
          , e9 = i(99621);
        function e3(e) {
            let {tripId: t, displayedPrice: i, children: r, activity: a, showAddActivityButton: o=!1, addActivityButtonClick: s, className: d="", fixedPosition: c=!1, showEditButton: u, onEditButtonClick: v, isActivityInTrip: _=!1, onRemoveActivity: m, onReplaceActivity: h, canEditAttractions: g=!0, activityDate: f} = e
              , {tAsString: x} = (0,
            C.Ay)()
              , y = (0,
            p.A)()
              , b = (0,
            eH.re)()
              , {showPopup: j, anchorEl: w, handleButtonClick: A, handleClosePopup: I} = (0,
            e9.U)()
              , N = a.type === eB.Mr.ATTRACTION
              , T = N && !g
              , k = (0,
            l.useCallback)(e => {
                T || (_ ? A(e) : null == v || v())
            }
            , [A, v, _, T])
              , S = (0,
            l.useCallback)( () => {
                I(),
                null == m || m()
            }
            , [m, I])
              , R = (0,
            l.useCallback)( () => {
                I(),
                null == h || h()
            }
            , [h, I])
              , E = b(a.webUrl)
              , P = a && o && s
              , D = a && u && v;
            return (0,
            n.jsxs)("div", {
                className: "".concat(e2().bottom_bar, " ").concat(c ? e2().fixed : "", " ").concat(d),
                children: [(0,
                n.jsxs)("div", {
                    className: e2().left_part,
                    children: [i && (0,
                    n.jsxs)("p", {
                        children: [x("trip.bottomBar.total"), " ", (0,
                        n.jsx)("span", {
                            className: e2().total_price,
                            children: i
                        })]
                    }), f && (0,
                    n.jsx)("div", {
                        className: e2().dates_and_travellers,
                        children: (0,
                        n.jsx)("p", {
                            className: e2().dates,
                            children: f
                        })
                    })]
                }), (0,
                n.jsxs)("div", {
                    className: e2().right,
                    style: o && a ? {
                        flex: "1"
                    } : {},
                    children: [D && (0,
                    n.jsxs)("div", {
                        className: e2().button_wrapper,
                        children: [(0,
                        n.jsx)("button", {
                            className: _ || T ? e2().added_button : e2().add_button,
                            onClick: k,
                            children: _ || T ? (0,
                            n.jsxs)(n.Fragment, {
                                children: [(0,
                                n.jsxs)("div", {
                                    className: e2().leftSection,
                                    children: [(0,
                                    n.jsx)(e5.A, {
                                        color: "#4FB741",
                                        alt: x("topicPage.chatSection.cards.activityCard.addedToTrip"),
                                        width: 16,
                                        height: 16
                                    }), (0,
                                    n.jsx)("span", {
                                        className: e2().text,
                                        children: x("topicPage.chatSection.cards.activityCard.addedToTrip")
                                    })]
                                }), !T && (0,
                                n.jsx)(e8.A, {
                                    sx: {
                                        color: "#4FB741",
                                        fontSize: 16,
                                        transform: j ? "rotate(180deg)" : "rotate(0deg)",
                                        transition: "transform 0.2s ease-in-out"
                                    }
                                })]
                            }) : (0,
                            n.jsxs)(n.Fragment, {
                                children: [(0,
                                n.jsx)($.A, {
                                    src: "/plusWhite.svg",
                                    alt: x("topicPage.chatSection.cards.activityCard.addToTrip"),
                                    width: 16,
                                    height: 16
                                }), x("topicPage.chatSection.cards.activityCard.addToTrip")]
                            })
                        }), (0,
                        n.jsx)(e6.$, {
                            show: j && _ && !T,
                            onClose: I,
                            onRemove: S,
                            onReplace: R,
                            anchorEl: w
                        })]
                    }), r, (0,
                    n.jsxs)("div", {
                        className: e2().buttons,
                        children: [P && (0,
                        n.jsx)(e4.A, {
                            activity: a,
                            onClick: s,
                            buttonClass: "".concat(e2().addActivityButton)
                        }), (0,
                        n.jsxs)(e0(), {
                            onClick: () => {
                                y({
                                    event: "TripActivityOpen",
                                    data: {
                                        activityId: a.id,
                                        tripId: t || null
                                    }
                                })
                            }
                            ,
                            target: "_blank",
                            rel: "noreferer",
                            href: E,
                            className: e2().button,
                            "aria-label": x(N ? "trip.tripPopups.bookAttraction" : "trip.tripPopups.bookActivity"),
                            children: [(0,
                            n.jsx)("span", {
                                children: x(N ? "trip.tripPopups.bookAttraction" : "trip.tripPopups.bookActivity")
                            }), (0,
                            n.jsx)($.A, {
                                src: "/TripBooking/icons/external-link.svg",
                                alt: "",
                                width: 12,
                                height: 12
                            })]
                        })]
                    })]
                })]
            })
        }
        var e7 = i(62790)
          , te = i(45138)
          , tt = i(92282)
          , ti = i.n(tt);
        let tn = () => (0,
        n.jsx)("div", {
            className: ti().main_wrapper,
            children: (0,
            n.jsx)("div", {
                className: ti().content_wrapper,
                children: (0,
                n.jsxs)("div", {
                    className: ti().container,
                    children: [(0,
                    n.jsxs)("div", {
                        className: ti().titleSection,
                        children: [(0,
                        n.jsx)("div", {
                            className: "".concat(ti().skeletonItem, " ").concat(ti().label)
                        }), (0,
                        n.jsx)("div", {
                            className: "".concat(ti().skeletonItem, " ").concat(ti().title)
                        }), (0,
                        n.jsxs)("div", {
                            className: ti().infoRow,
                            children: [(0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().rating)
                            }), (0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().reviews)
                            })]
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: "".concat(ti().skeletonItem, " ").concat(ti().banner)
                    }), (0,
                    n.jsxs)("div", {
                        className: ti().durationSection,
                        children: [(0,
                        n.jsx)("div", {
                            className: "".concat(ti().skeletonItem, " ").concat(ti().clockIcon)
                        }), (0,
                        n.jsxs)("div", {
                            className: ti().durationText,
                            children: [(0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().duration)
                            }), (0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().availability)
                            })]
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: ti().descriptionSection,
                        children: [(0,
                        n.jsx)("div", {
                            className: "".concat(ti().skeletonItem, " ").concat(ti().sectionTitle)
                        }), (0,
                        n.jsxs)("div", {
                            className: ti().descriptionText,
                            children: [(0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().textLine, " ").concat(ti().textLineFull)
                            }), (0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().textLine, " ").concat(ti().textLineMedium)
                            }), (0,
                            n.jsx)("div", {
                                className: "".concat(ti().skeletonItem, " ").concat(ti().textLine, " ").concat(ti().textLineShort)
                            })]
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: ti().divider
                    }), (0,
                    n.jsxs)("div", {
                        className: ti().mapSection,
                        children: [(0,
                        n.jsx)("div", {
                            className: "".concat(ti().skeletonItem, " ").concat(ti().mapTitle)
                        }), (0,
                        n.jsx)("div", {
                            className: "".concat(ti().skeletonItem, " ").concat(ti().mapContainer)
                        })]
                    })]
                })
            })
        });
        var tl = i(31413)
          , tr = i(61409)
          , ta = i(97577)
          , to = i(99433)
          , ts = i(32372)
          , td = i.n(ts);
        let tc = d()( () => Promise.all([i.e(4399), i.e(4139)]).then(i.bind(i, 94139)), {
            loadableGenerated: {
                webpack: () => [94139]
            },
            ssr: !1
        })
          , tu = d()( () => i.e(4547).then(i.bind(i, 44547)), {
            loadableGenerated: {
                webpack: () => [44547]
            },
            ssr: !1
        })
          , tp = d()( () => Promise.all([i.e(1656), i.e(9465)]).then(i.bind(i, 59465)), {
            loadableGenerated: {
                webpack: () => [59465]
            },
            ssr: !1
        })
          , tv = d()( () => Promise.resolve().then(i.bind(i, 56352)), {
            loadableGenerated: {
                webpack: () => [56352]
            },
            ssr: !1
        })
          , t_ = e => {
            let {trip: t, leg: i, originalLegIndex: r, cityName: a, date: o, numberDay: s, loadingActivities: d, suggestedActivities: u, onActivitiesSearch: p, setLoadingActivities: v, clearSearchInput: _, setClearSearchInput: m, onActivityItemHover: g, setSelectedActivityId: f, mapRef: x} = e
              , {tAsString: y} = (0,
            C.Ay)()
              , {isMobile: b} = (0,
            c.U)()
              , j = (0,
            l.useRef)(null)
              , w = (0,
            l.useRef)(null)
              , [A,I] = (0,
            l.useState)(!1)
              , {direction: N} = z(j.current, "", 0, 50, 300, b);
            (0,
            l.useEffect)( () => {
                if (!b || !j.current)
                    return;
                let e = j.current
                  , t = () => {
                    if (!e)
                        return;
                    let t = w.current;
                    if (!t)
                        return;
                    let i = e.getBoundingClientRect();
                    I(t.getBoundingClientRect().top <= i.top)
                }
                ;
                return t(),
                e.addEventListener("scroll", t),
                () => {
                    e.removeEventListener("scroll", t)
                }
            }
            , [b]),
            (0,
            l.useEffect)( () => {
                var e;
                if (null === (e = x.current) || void 0 === e ? void 0 : e.zoomTo) {
                    f("initial"),
                    null == g || g("initial");
                    let e = setTimeout( () => {
                        var e;
                        null === (e = x.current) || void 0 === e || e.zoomTo(11, {
                            duration: 1e3
                        })
                    }
                    , 100);
                    return () => clearTimeout(e)
                }
            }
            , [x]);
            let T = !b || !A || "down" !== N
              , k = !d && (null == u ? void 0 : u.length) === 0
              , {alternateActivitiesState: S} = (0,
            h.y)()
              , R = S.selectedActivity && 1 === u.length && d;
            return (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsx)("div", {
                    className: td().flex_container,
                    children: (0,
                    n.jsxs)("div", {
                        className: td().left_panel,
                        children: [(0,
                        n.jsx)("div", {
                            className: td().loading_container,
                            children: (0,
                            n.jsx)(q.A, {
                                height: 4,
                                simulateProgress: d,
                                barStyle: {
                                    backgroundColor: "var(--colors-primary)"
                                }
                            })
                        }), (0,
                        n.jsxs)("div", {
                            ref: j,
                            className: td().list_container,
                            children: [(0,
                            n.jsxs)("div", {
                                className: td().header_section,
                                children: [(0,
                                n.jsxs)("h2", {
                                    className: td().header_title,
                                    children: [y("trip.itinerary.activitiesAlternate.activitiesIn"), " ", a]
                                }), (0,
                                n.jsxs)("p", {
                                    className: td().header_subtitle,
                                    children: ["".concat(a, " (").concat(y("trip.itinerary.day"), " ").concat(s, ")"), " • ", o]
                                })]
                            }), (0,
                            n.jsx)("div", {
                                ref: w,
                                className: "".concat(td().search_container, " ").concat(T ? td().search_container_visible : td().search_container_hidden),
                                children: (0,
                                n.jsx)(tc, {
                                    trip: t,
                                    city: a,
                                    setLoadingHotels: v,
                                    onSearch: p,
                                    currentLeg: i,
                                    onClearRef: m,
                                    enableAutoFocus: !b
                                })
                            }), d && !R ? (0,
                            n.jsx)(tv, {
                                itemCount: 4,
                                loadingContainerClassname: "!p-0"
                            }) : k ? (0,
                            n.jsxs)("div", {
                                className: td().no_activities,
                                children: [(0,
                                n.jsx)("p", {
                                    className: td().no_activities_text,
                                    children: y("trip.itinerary.hotelsAlternate.noActivities1")
                                }), (0,
                                n.jsx)("p", {
                                    className: td().no_activities_subtext,
                                    children: y("trip.itinerary.hotelsAlternate.noHotels2")
                                }), (0,
                                n.jsx)("button", {
                                    className: td().no_activities_button,
                                    onClick: () => null == _ ? void 0 : _(),
                                    children: y("trip.itinerary.hotelsAlternate.clearSearch")
                                })]
                            }) : (0,
                            n.jsxs)(n.Fragment, {
                                children: [(0,
                                n.jsx)("div", {
                                    className: td().activities_grid,
                                    children: null == u ? void 0 : u.map(e => (0,
                                    n.jsx)("div", {
                                        id: "activity-".concat(e.id),
                                        onMouseEnter: () => null == g ? void 0 : g(e.id),
                                        onMouseLeave: () => null == g ? void 0 : g(),
                                        children: (0,
                                        n.jsx)(tu, {
                                            activity: e,
                                            leg: i,
                                            legIndex: null != r ? r : 0
                                        })
                                    }, e.id))
                                }), R && (0,
                                n.jsx)(tv, {
                                    itemCount: 3,
                                    loadingContainerClassname: "!p-0"
                                })]
                            })]
                        })]
                    })
                })
            })
        }
          , tm = e => {
            var t, i;
            let {currentLeg: o, activities: s, attractions: d, originalLegIndex: c, tripId: u, setSelectedActivityId: p, mapRef: v} = e
              , {navigationState: _, updateTripNavState: m, resetNavigation: g} = (0,
            a.Pd)()
              , {alternateActivitiesState: f, setAlternateActivitiesState: x, getSelectedActivitiesPerLeg: y, handleEditActivity: b} = (0,
            h.y)()
              , j = (0,
            l.useMemo)( () => {
                let e = f.activityDetail
                  , t = null == s ? void 0 : s.find(e => e.id.toString() === _.activityId);
                if (!t && _.activityId) {
                    let e = d.find(e => e.id.toString() === _.activityId);
                    if (e)
                        return e
                }
                return t || e
            }
            , [_, f, s, d])
              , w = (0,
            l.useRef)(!1)
              , A = (0,
            l.useRef)(void 0);
            (0,
            l.useEffect)( () => {
                if (_.activityId && s && s.length > 0) {
                    var e, t;
                    let i = s.some(e => e.id.toString() === _.activityId)
                      , n = (null === (t = f.activityDetail) || void 0 === t ? void 0 : null === (e = t.id) || void 0 === e ? void 0 : e.toString()) === _.activityId
                      , l = d.some(e => {
                        var t;
                        return e.id.toString() === (null === (t = _.activityId) || void 0 === t ? void 0 : t.toString())
                    }
                    );
                    i || n || l || m({
                        entity: "activities",
                        activityId: void 0,
                        leg: o
                    })
                }
            }
            , [_.activityId, s, f.activityDetail, d, m, o]),
            (0,
            l.useEffect)( () => {
                if (j && A.current !== _.activityId) {
                    let e = v.current;
                    p(j.id),
                    w.current = !1;
                    let t = () => {
                        var e, t, i, n, l, r, a;
                        let o = document.getElementById("trip-entity-map-container");
                        if ((null === (e = v.current) || void 0 === e ? void 0 : e.easeTo) && o) {
                            if ((null === (t = (i = v.current).getMap) || void 0 === t ? void 0 : t.call(i)) && (null === (n = j.location) || void 0 === n ? void 0 : n.lng) && (null === (l = j.location) || void 0 === l ? void 0 : l.lat)) {
                                let e = new (P()).LngLatBounds;
                                e.extend([j.location.lng, j.location.lat]),
                                v.current.fitBounds(e, {
                                    padding: {
                                        top: 100,
                                        bottom: 100,
                                        left: 100,
                                        right: 100
                                    },
                                    duration: 500,
                                    maxZoom: 18
                                }),
                                setTimeout( () => {
                                    var e;
                                    null === (e = v.current) || void 0 === e || e.easeTo({
                                        center: [j.location.lng, j.location.lat],
                                        zoom: 18,
                                        duration: 500
                                    })
                                }
                                , 600)
                            } else
                                (null === (r = j.location) || void 0 === r ? void 0 : r.lng) && (null === (a = j.location) || void 0 === a ? void 0 : a.lat) && v.current.easeTo({
                                    center: [j.location.lng, j.location.lat],
                                    zoom: 18,
                                    duration: 1e3
                                });
                            return w.current = !0,
                            A.current = _.activityId,
                            !0
                        }
                        return !1
                    }
                    ;
                    if (!t()) {
                        let i = 0
                          , n = setInterval( () => {
                            i++,
                            (t() || i >= 20 || w.current) && clearInterval(n)
                        }
                        , 200);
                        return () => {
                            null == e || e.easeTo({
                                center: [j.location.lng, j.location.lat],
                                zoom: 11,
                                duration: 1e3
                            }),
                            clearInterval(n)
                        }
                    }
                }
            }
            , [j, v, _.activityId]);
            let {formattedPrice: I} = (0,
            e7.F)(o, j)
              , C = (0,
            l.useMemo)( () => !!j && (j.type === eB.Mr.ATTRACTION || y(o).some(e => e.id.toString() === j.id.toString())), [o, j, y])
              , T = (0,
            l.useCallback)(e => {
                let t = tr.oR.info((0,
                n.jsx)(ta._, {
                    itemName: e.name,
                    img: (0,
                    r.jK)(e),
                    isRightPanelExpanded: !1,
                    removed: C,
                    entity: ta.H.ACTIVITY
                }), {
                    position: "bottom-center",
                    transition: tr.q7,
                    hideProgressBar: !0
                });
                setTimeout( () => {
                    tr.oR.dismiss(t)
                }
                , 4e3)
            }
            , [C])
              , k = (0,
            l.useCallback)( () => {
                j && o && -1 !== c && (b(j, o, c),
                setTimeout( () => {
                    T(j),
                    g()
                }
                , 500))
            }
            , [g, j, c, b, o, T])
              , S = (0,
            l.useCallback)( () => {
                j && ((0,
                to.WO)({
                    tripId: u,
                    legIndex: c,
                    action: "replace-activity"
                }),
                x(e => ({
                    ...e,
                    selectedActivity: j,
                    openModalReason: tl.w.REPLACE_ACTIVITY
                })),
                m({
                    entity: N.q.ACTIVITIES,
                    activityId: void 0,
                    leg: o
                }))
            }
            , [j, o, c, x, m])
              , R = (null == j ? void 0 : j.type) !== "attraction";
            return j ? (0,
            n.jsxs)("div", {
                className: td().activity_details,
                children: [(0,
                n.jsx)("div", {
                    className: td().activity_details_content,
                    children: (0,
                    n.jsx)(eQ, {
                        activity: j
                    })
                }), (0,
                n.jsx)(e3, {
                    tripId: u,
                    activity: j,
                    className: td().bottom_bar,
                    showEditButton: !0,
                    onEditButtonClick: k,
                    displayedPrice: I,
                    isActivityInTrip: C,
                    onRemoveActivity: R ? k : void 0,
                    onReplaceActivity: R ? S : void 0,
                    canEditAttractions: R,
                    activityDate: null !== (i = f.formattedDate) && void 0 !== i ? i : (0,
                    r.q_)((0,
                    r.cf)(o.startDate, null !== (t = null == f ? void 0 : f.dayIndex) && void 0 !== t ? t : 0)[0])
                })]
            }) : _.activityId ? (0,
            n.jsx)(tn, {}) : null
        }
          , th = e => {
            var t, i, s, d, u, v, _;
            let {trip: m} = e
              , {isMobile: g} = (0,
            c.U)()
              , {navigationState: f, updateTripNavState: x} = (0,
            a.Pd)()
              , {locale: y} = (0,
            o.useRouter)()
              , {tAsString: b} = (0,
            C.Ay)()
              , j = (0,
            eH.D0)()
              , {alternateActivitiesState: A, clearAlternateActivitiesState: I, getSelectedActivitiesPerLeg: T, getSelectedAttractionsPerLeg: k, setAlternateActivitiesState: E} = (0,
            h.y)()
              , D = (0,
            p.A)()
              , {userCurrency: F, defaultServerCurrency: H, convertPrice: U, formatCurrency: z} = (0,
            O.c)()
              , q = (0,
            l.useCallback)(e => {
                let t = e ? U(e, H, F) : null;
                return t ? z(t, F, 0) : void 0
            }
            , [U, z, H, F])
              , [V,W] = (0,
            l.useState)(!0)
              , [G,Y] = (0,
            l.useState)([])
              , [X,J] = (0,
            l.useState)()
              , [Z,K] = (0,
            l.useState)("initial")
              , [Q,$] = (0,
            l.useState)("initial")
              , ee = (0,
            l.useRef)(null)
              , [et,ei] = (0,
            l.useState)(null)
              , en = f.leg
              , el = (0,
            l.useCallback)(e => ({
                id: e.id,
                name: e.name,
                abstract: e.abstract,
                description: e.description,
                images: e.images,
                location: e.location,
                duration: e.duration,
                webUrl: e.webUrl,
                provider: e.provider,
                rating: e.rating,
                numberOfRatings: e.numberOfRatings,
                numberOfReviews: e.numberOfReviews,
                metadata: e.metadata,
                priceInEurosPerPerson: e.priceInEurosPerPerson,
                type: eB.Mr.ATTRACTION
            }), [])
              , er = f.entity === N.q.ACTIVITY && A.activityDetail
              , ea = (0,
            l.useCallback)( (e, t) => {
                let i = (0,
                M.qV)((0,
                n.jsx)(te.A, {
                    activity: e,
                    tAsString: b,
                    formattedPrice: t || "",
                    validImageSrc: (0,
                    r.jK)(e)
                }));
                return new (P()).Popup({
                    className: "activity-marker-popup",
                    closeButton: !1,
                    offset: [0, -20]
                }).setHTML(i)
            }
            , [b])
              , eo = (0,
            l.useCallback)(e => {
                D({
                    event: "TripMapActivityClick",
                    data: {
                        activity_id: e,
                        source: "trip_activities_map"
                    }
                }),
                E(t => ({
                    ...t,
                    activityDetail: G.find(t => t.id === e)
                })),
                x({
                    entity: N.q.ACTIVITY,
                    activityId: e
                })
            }
            , [D, x, G, E])
              , es = T(en)
              , ed = k(en)
              , ec = (0,
            l.useCallback)(e => {
                if (!e)
                    return [];
                let t = e => es.some(t => t.id.toString() === e.id.toString());
                if (A.selectedActivity) {
                    let i = e.filter(e => e.id !== A.selectedActivity.id && !t(e));
                    return [A.selectedActivity, ...i]
                }
                return A.openModalReason === tl.w.ADD_ACTIVITY ? e.filter(e => !t(e)) : e
            }
            , [A.selectedActivity, A.openModalReason, es])
              , eu = (0,
            l.useMemo)( () => {
                if (!G && !er)
                    return [];
                let e = er && G ? (null != G ? G : []).filter(e => e.id !== er.id) : null != G ? G : [];
                return [...er ? [er] : [], ...e].map(e => {
                    let t = q(e.priceInEurosPerPerson)
                      , i = ea(e, t);
                    return (0,
                    w.xC)(el(e), i)
                }
                ).filter(e => null !== e)
            }
            , [G, el, er, q, ea])
              , ep = (0,
            l.useCallback)(e => {
                e && (K(e.id),
                setTimeout( () => {
                    let t = document.getElementById("activity-".concat(e.id));
                    t && t.scrollIntoView({
                        behavior: "smooth",
                        block: "center"
                    })
                }
                , 50),
                setTimeout( () => {
                    let t = document.querySelector('[data-img-activity-id="'.concat(e.id, '"]'));
                    if (t) {
                        let i = function() {
                            let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                              , l = [...er ? [er] : [], ...G].find(t => {
                                var i, n;
                                return (null === (i = t.id) || void 0 === i ? void 0 : i.toString()) === (null === (n = e.id) || void 0 === n ? void 0 : n.toString())
                            }
                            )
                              , r = (null == l ? void 0 : l.images) || [];
                            if (n < r.length - 1) {
                                let e = n + 1;
                                t.src = r[e],
                                t.onerror = () => i(e)
                            } else
                                t.src = "/ItineraryPage/nature-scene.webp",
                                t.onerror = null
                        };
                        t.complete && 0 === t.naturalWidth ? i() : t.onerror = () => i()
                    }
                    let i = document.querySelector(".activity-marker-popup .".concat(B().hotel_panel_close_button));
                    i && i.addEventListener("click", () => {
                        var t;
                        null === (t = e.popup) || void 0 === t || t.remove()
                    }
                    );
                    let n = document.querySelector('[data-btn-activity-id="'.concat(e.id, '"]'));
                    n && n.addEventListener("click", () => eo(e.id.toString()))
                }
                , 100))
            }
            , [eo, G, er])
              , ev = (0,
            l.useCallback)(e => {
                $(e)
            }
            , [])
              , e_ = (0,
            l.useCallback)( () => {
                W(!0),
                j((0,
                eH.Wl)("", m, en, b), y, 20).then(e => {
                    e && Y(ec(e))
                }
                ).finally( () => {
                    W(!1)
                }
                )
            }
            , [m, en, b, y, j, ec]);
            (0,
            l.useEffect)( () => {
                A.selectedActivity && A.openModalReason === tl.w.REPLACE_ACTIVITY && 0 === G.length ? (Y([A.selectedActivity]),
                W(!0),
                j((0,
                eH.Wl)("", m, en, b), y, 20).then(e => {
                    e && Y(e.filter(e => {
                        var t;
                        return e.id !== (null === (t = A.selectedActivity) || void 0 === t ? void 0 : t.id)
                    }
                    ))
                }
                ).finally( () => {
                    W(!1)
                }
                )) : 0 === G.length && e_()
            }
            , [G.length]);
            let em = (0,
            l.useCallback)(e => {
                Y(e)
            }
            , []);
            (0,
            l.useEffect)( () => {
                if (f.entity === N.q.ACTIVITY && f.activityId && !g) {
                    J(f.activityId);
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        top: 0,
                        behavior: "instant"
                    })
                } else if (f.entity === N.q.ACTIVITIES && X) {
                    let e = document.getElementById("activity-".concat(X));
                    e && e.scrollIntoView({
                        behavior: "instant",
                        block: "center"
                    })
                }
            }
            , [f.entity, f.activityId, X, g]);
            let eh = (0,
            l.useCallback)( () => {
                if (!g) {
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        behavior: "instant",
                        top: 0
                    })
                }
            }
            , [g]);
            (0,
            l.useEffect)( () => (x({
                onReturnCallback: eh
            }, !1),
            () => I()), []);
            let eg = null !== (s = null == A ? void 0 : A.dayIndex) && void 0 !== s ? s : 0
              , ef = en.startDay + eg
              , ex = null !== (v = null !== (u = null !== (d = null === (t = en.destination) || void 0 === t ? void 0 : t.parentCity) && void 0 !== d ? d : null === (i = en.destination) || void 0 === i ? void 0 : i.city) && void 0 !== u ? u : en.location.split(", ")[0]) && void 0 !== v ? v : ""
              , ey = (0,
            l.useMemo)( () => (0,
            n.jsx)(tp, {
                markers: eu,
                activeMarkerId: Z,
                hoveredMarkerId: Q,
                onMarkerClick: ep,
                zoom: 11,
                fullWidth: !0,
                forceBoundsFitting: eu.length > 0,
                mapRef: ee
            }), [eu, Z, Q, ep])
              , eb = (0,
            R.A)(ey, "activity-map-".concat(en.location), "trip-entity-map-container")
              , ej = (0,
            l.useMemo)( () => {
                var e;
                return null !== (e = f.originalLegIndex) && void 0 !== e ? e : m.legs.findIndex(e => e === en)
            }
            , [f, m.legs, en]);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [!g && eu.length > 0 ? eb : null, (0,
                n.jsx)(S, {
                    trip: m,
                    currentLeg: en
                }), (0,
                n.jsx)("div", {
                    className: td().full_height,
                    children: f.entity === N.q.ACTIVITIES ? (0,
                    n.jsx)(t_, {
                        trip: m,
                        leg: en,
                        originalLegIndex: ej,
                        cityName: ex,
                        date: null !== (_ = A.formattedDate) && void 0 !== _ ? _ : (0,
                        r.q_)((0,
                        r.cf)(en.startDate, eg)[0]),
                        numberDay: ef,
                        loadingActivities: V,
                        suggestedActivities: G,
                        onActivitiesSearch: em,
                        setLoadingActivities: W,
                        clearSearchInput: et,
                        setClearSearchInput: ei,
                        onActivityItemHover: ev,
                        setSelectedActivityId: K,
                        mapRef: ee
                    }) : f.entity === N.q.ACTIVITY ? (0,
                    n.jsx)(tm, {
                        currentLeg: en,
                        activities: G,
                        attractions: ed,
                        originalLegIndex: ej,
                        tripId: m.id,
                        setSelectedActivityId: K,
                        mapRef: ee
                    }) : null
                })]
            })
        }
        ;
        var tg = i(49502)
          , tf = i(38461)
          , tx = i(65672)
          , ty = i.n(tx);
        let tb = d()( () => Promise.all([i.e(1656), i.e(9465)]).then(i.bind(i, 59465)), {
            loadableGenerated: {
                webpack: () => [59465]
            },
            ssr: !1
        })
          , tj = d()( () => i.e(5012).then(i.bind(i, 35012)), {
            loadableGenerated: {
                webpack: () => [35012]
            },
            ssr: !1
        })
          , tw = e => {
            var t, i;
            let {currentLeg: o, attractions: s, originalLegIndex: d, trip: c, tripId: u, setSelectedAttractionId: p} = e
              , {navigationState: v, updateTripNavState: _, resetNavigation: m} = (0,
            a.Pd)()
              , {alternateActivitiesState: g, setAlternateActivitiesState: f, getSelectedAttractionsPerLeg: x, handleEditAttraction: y} = (0,
            h.y)()
              , b = (0,
            l.useMemo)( () => {
                let e = g.activityDetail
                  , t = null == s ? void 0 : s.find(e => e.id.toString() === v.attractionId);
                return e || t
            }
            , [g, s, v.attractionId]);
            (0,
            l.useEffect)( () => {
                if (v.attractionId && s && s.length > 0) {
                    var e, t, i;
                    let n = s.some(e => e.id.toString() === v.attractionId)
                      , l = (null === (t = g.activityDetail) || void 0 === t ? void 0 : null === (e = t.id) || void 0 === e ? void 0 : e.toString()) === v.attractionId
                      , r = (null == c ? void 0 : c.version) === eB.sG.V2
                      , a = null != o && null !== (i = o.attractions) && void 0 !== i && !!i.length && o.attractions.length > 0;
                    r || !a || n || l || _({
                        entity: N.q.ATTRACTIONS,
                        attractionId: void 0,
                        leg: o
                    })
                }
            }
            , [v.attractionId, s, g.activityDetail, _, o, c]),
            (0,
            l.useEffect)( () => {
                b && p(b.id)
            }
            , [b, p]);
            let {formattedPrice: j} = (0,
            e7.F)(o, b)
              , w = (0,
            l.useMemo)( () => !!b && x(o).some(e => e.id.toString() === b.id.toString()), [o, x, b])
              , A = (0,
            l.useCallback)(e => {
                let t = tr.oR.info((0,
                n.jsx)(ta._, {
                    itemName: e.name,
                    img: (0,
                    r.jK)(e),
                    isRightPanelExpanded: !1,
                    removed: w,
                    entity: ta.H.ACTIVITY
                }), {
                    position: "bottom-center",
                    transition: tr.q7,
                    hideProgressBar: !0
                });
                setTimeout( () => {
                    tr.oR.dismiss(t)
                }
                , 4e3)
            }
            , [w])
              , I = (0,
            l.useCallback)( () => {
                b && o && -1 !== d && (y(b, o, d),
                setTimeout( () => {
                    m(),
                    A(b)
                }
                , 500))
            }
            , [o, b, d, y, A, m])
              , C = (0,
            l.useCallback)( () => {
                var e;
                b && ((0,
                to.WO)({
                    tripId: u,
                    legIndex: d,
                    dayIndex: null !== (e = null == g ? void 0 : g.dayIndex) && void 0 !== e ? e : 0,
                    action: "replace-attraction"
                }),
                f(e => ({
                    ...e,
                    selectedActivity: b,
                    openModalReason: tl.w.REPLACE_ACTIVITY
                })),
                _({
                    entity: N.q.ATTRACTIONS,
                    attractionId: void 0,
                    leg: o
                }))
            }
            , [b, o, d, null == g ? void 0 : g.dayIndex, f, _]);
            return b ? (0,
            n.jsxs)("div", {
                className: ty().activityDetails,
                children: [(0,
                n.jsx)("div", {
                    className: ty().activityDetailsContent,
                    children: (0,
                    n.jsx)(eQ, {
                        activity: b
                    })
                }), (0,
                n.jsx)(e3, {
                    tripId: u,
                    activity: b,
                    className: ty().bottomBar,
                    showEditButton: !0,
                    onEditButtonClick: I,
                    displayedPrice: j,
                    isActivityInTrip: w,
                    onRemoveActivity: I,
                    onReplaceActivity: C,
                    activityDate: null !== (i = g.formattedDate) && void 0 !== i ? i : (0,
                    r.q_)((0,
                    r.cf)(o.startDate, null !== (t = null == g ? void 0 : g.dayIndex) && void 0 !== t ? t : 0)[0])
                })]
            }) : v.attractionId ? (0,
            n.jsx)(tn, {}) : null
        }
          , tA = e => {
            var t, i, s, d, u, v, _;
            let {trip: m} = e
              , {isMobile: g} = (0,
            c.U)()
              , {navigationState: f, updateTripNavState: x} = (0,
            a.Pd)()
              , {tAsString: y} = (0,
            C.Ay)()
              , {alternateActivitiesState: b, getSelectedAttractionsPerLeg: j, setAlternateActivitiesState: A} = (0,
            h.y)()
              , I = (0,
            p.A)()
              , {userCurrency: T, defaultServerCurrency: k, convertPrice: E, formatCurrency: D} = (0,
            O.c)()
              , {locale: F} = (0,
            o.useRouter)()
              , H = (0,
            tf.g)()
              , U = (0,
            l.useCallback)(e => {
                let t = e ? E(e, k, T) : null;
                return t ? D(t, T, 0) : void 0
            }
            , [E, D, k, T])
              , [z,q] = (0,
            l.useState)(!0)
              , [V,W] = (0,
            l.useState)([])
              , [G,Y] = (0,
            l.useState)()
              , [X,J] = (0,
            l.useState)("initial")
              , [Z,K] = (0,
            l.useState)("initial")
              , Q = (0,
            l.useRef)(null)
              , $ = f.leg
              , ee = (0,
            l.useCallback)(e => {
                let t = (0,
                r.eg)(e)
                  , i = e.location;
                if (!i || !i.lat || !i.lng) {
                    let t = e.longitude
                      , n = e.latitude;
                    t && n && (i = {
                        lng: t,
                        lat: n,
                        city: "",
                        place: ""
                    })
                }
                return {
                    id: e.id,
                    name: e.name,
                    abstract: e.abstract,
                    description: e.description,
                    images: t,
                    location: i,
                    duration: e.duration,
                    webUrl: e.webUrl,
                    provider: e.provider,
                    rating: e.rating,
                    numberOfRatings: e.numberOfRatings,
                    numberOfReviews: e.numberOfReviews,
                    metadata: e.metadata,
                    priceInEurosPerPerson: e.priceInEurosPerPerson,
                    type: eB.Mr.ATTRACTION
                }
            }
            , [])
              , et = b.activityDetail ? b.activityDetail : null
              , ei = (0,
            l.useCallback)( (e, t) => {
                let i = (0,
                M.qV)((0,
                n.jsx)(te.A, {
                    activity: e,
                    tAsString: y,
                    formattedPrice: t || "",
                    validImageSrc: (0,
                    r.jK)(e)
                }));
                return new (P()).Popup({
                    className: "activity-marker-popup",
                    closeButton: !1,
                    offset: [0, -20]
                }).setHTML(i)
            }
            , [y])
              , en = (0,
            l.useCallback)(e => {
                I({
                    event: "TripMapAttractionClick",
                    data: {
                        attraction_id: e,
                        source: "trip_attractions_map"
                    }
                }),
                A(t => ({
                    ...t,
                    activityDetail: V.find(t => t.id === e)
                })),
                x({
                    entity: N.q.ATTRACTION,
                    attractionId: e
                })
            }
            , [I, x, V, A])
              , el = j($)
              , er = (0,
            l.useMemo)( () => {
                if (!V)
                    return [];
                let e = e => el.some(t => t.id === e.id);
                if (b.selectedActivity) {
                    let t = V.filter(t => t.id !== b.selectedActivity.id && !e(t));
                    return [b.selectedActivity, ...t]
                }
                return b.openModalReason === tl.w.ADD_ACTIVITY ? V.filter(t => !e(t)) : [...V.filter(e), ...V.filter(t => !e(t))]
            }
            , [V, b.selectedActivity, b.openModalReason, el])
              , ea = (0,
            l.useMemo)( () => {
                if (!V && !et)
                    return [];
                let e = [];
                if (et && e.push(et),
                V && V.length > 0) {
                    let t = V.filter(e => !et || e.id !== et.id);
                    e.push(...t)
                }
                return e.map(e => {
                    let t = U(e.priceInEurosPerPerson)
                      , i = ei(e, t);
                    return (0,
                    w.xC)(ee(e), i)
                }
                ).filter(e => null !== e)
            }
            , [V, et, ee, U, ei])
              , eo = (0,
            l.useCallback)(e => {
                e && (J(e.id),
                setTimeout( () => {
                    let t = document.getElementById("activity-".concat(e.id));
                    t && t.scrollIntoView({
                        behavior: "smooth",
                        block: "center"
                    })
                }
                , 50),
                setTimeout( () => {
                    let t = document.querySelector('[data-img-activity-id="'.concat(e.id, '"]'));
                    if (t) {
                        let i = function() {
                            let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                              , l = V.find(t => {
                                var i, n;
                                return (null === (i = t.id) || void 0 === i ? void 0 : i.toString()) === (null === (n = e.id) || void 0 === n ? void 0 : n.toString())
                            }
                            );
                            if (!l)
                                return;
                            let a = (0,
                            r.jK)(l);
                            if (a && 0 === n) {
                                t.src = a,
                                t.onerror = () => i(1);
                                return
                            }
                            let o = (0,
                            r.eg)(l);
                            if (n < o.length - 1) {
                                let e = n + 1;
                                t.src = o[e],
                                t.onerror = () => i(e)
                            } else
                                t.src = "/ItineraryPage/nature-scene.webp",
                                t.onerror = null
                        };
                        t.complete && 0 === t.naturalWidth ? i() : t.onerror = () => i()
                    }
                    let i = document.querySelector(".activity-marker-popup .".concat(B().hotel_panel_close_button));
                    i && i.addEventListener("click", () => {
                        var t;
                        null === (t = e.popup) || void 0 === t || t.remove()
                    }
                    );
                    let n = document.querySelector('[data-btn-activity-id="'.concat(e.id, '"]'));
                    n && n.addEventListener("click", () => en(e.id.toString()))
                }
                , 100))
            }
            , [en, V])
              , es = (0,
            l.useCallback)(e => {
                K(e)
            }
            , [])
              , ed = (0,
            l.useCallback)(e => {
                W(e)
            }
            , [])
              , ec = (0,
            l.useCallback)( () => {
                var e, t;
                if (q(!0),
                (null == m ? void 0 : m.version) !== eB.sG.V2 && (null == $ ? void 0 : null === (e = $.attractions) || void 0 === e ? void 0 : e.length))
                    try {
                        if (null == $ ? void 0 : null === (t = $.attractions) || void 0 === t ? void 0 : t.length) {
                            let e = (0,
                            tg.ab)($.attractions);
                            W(e)
                        } else
                            W([])
                    } finally {
                        q(!1)
                    }
                else
                    H((0,
                    tf.D)("", m, $, y), F, 20).then(e => {
                        e && W(e)
                    }
                    ).finally( () => {
                        q(!1)
                    }
                    )
            }
            , [$, m, y, F, H]);
            (0,
            l.useEffect)( () => {
                b.selectedActivity && b.openModalReason === tl.w.REPLACE_ACTIVITY && 0 === V.length ? (W([b.selectedActivity]),
                q(!0),
                H((0,
                tf.D)("", m, $, y), F, 20).then(e => {
                    e && W(e.filter(e => {
                        var t;
                        return e.id !== (null === (t = b.selectedActivity) || void 0 === t ? void 0 : t.id)
                    }
                    ))
                }
                ).finally( () => {
                    q(!1)
                }
                )) : 0 === V.length && ec()
            }
            , [V.length]),
            (0,
            l.useEffect)( () => {
                f.entity === N.q.ATTRACTIONS && A(e => ({
                    ...e,
                    activityDetail: null
                }))
            }
            , [f.entity, A]),
            (0,
            l.useEffect)( () => {
                if (f.entity === N.q.ATTRACTION && f.attractionId && !g) {
                    Y(f.attractionId);
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        top: 0,
                        behavior: "instant"
                    })
                } else if (f.entity === N.q.ATTRACTIONS && G) {
                    let e = document.getElementById("activity-".concat(G));
                    e && e.scrollIntoView({
                        behavior: "instant",
                        block: "center"
                    })
                } else if (f.entity === N.q.ATTRACTIONS && !G && !g) {
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        top: 0,
                        behavior: "instant"
                    })
                }
            }
            , [f.entity, f.attractionId, G, g]);
            let eu = (0,
            l.useCallback)( () => {
                if (!g) {
                    let e = document.getElementById(L.L);
                    null == e || e.scrollTo({
                        behavior: "instant",
                        top: 0
                    })
                }
            }
            , [g]);
            (0,
            l.useEffect)( () => {
                x({
                    onReturnCallback: eu
                }, !1)
            }
            , []);
            let ep = null !== (s = null == b ? void 0 : b.dayIndex) && void 0 !== s ? s : 0
              , ev = $.startDay + ep
              , e_ = null !== (v = null !== (u = null !== (d = null === (t = $.destination) || void 0 === t ? void 0 : t.parentCity) && void 0 !== d ? d : null === (i = $.destination) || void 0 === i ? void 0 : i.city) && void 0 !== u ? u : $.location.split(", ")[0]) && void 0 !== v ? v : "";
            (0,
            l.useEffect)( () => {
                if (f.entity === N.q.ATTRACTION && et && Q.current) {
                    var e, t;
                    let i = (null === (e = et.location) || void 0 === e ? void 0 : e.lng) || et.longitude
                      , n = (null === (t = et.location) || void 0 === t ? void 0 : t.lat) || et.latitude;
                    if (i && n) {
                        let e = () => {
                            var t, l, r;
                            let a = null === (l = Q.current) || void 0 === l ? void 0 : null === (t = l.getMap) || void 0 === t ? void 0 : t.call(l);
                            a && a.loaded() ? null === (r = Q.current) || void 0 === r || r.easeTo({
                                center: [i, n],
                                zoom: 17,
                                duration: 500
                            }) : requestAnimationFrame(e)
                        }
                        ;
                        requestAnimationFrame(e)
                    }
                }
            }
            , [f.entity, et]);
            let em = (0,
            l.useMemo)( () => (0,
            n.jsx)(tb, {
                markers: ea,
                activeMarkerId: X,
                hoveredMarkerId: Z,
                onMarkerClick: eo,
                zoom: f.entity === N.q.ATTRACTION ? 17 : 11,
                fullWidth: !0,
                forceBoundsFitting: ea.length > 0,
                mapRef: Q
            }), [ea, X, Z, eo, f.entity])
              , eh = (0,
            R.A)(em, "attraction-map-".concat($.location), "trip-entity-map-container")
              , eg = (0,
            l.useMemo)( () => {
                var e;
                return null !== (e = f.originalLegIndex) && void 0 !== e ? e : m.legs.findIndex(e => e === $)
            }
            , [f, m.legs, $]);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [g ? null : eh, (0,
                n.jsx)(S, {
                    trip: m,
                    currentLeg: $
                }), (0,
                n.jsx)("div", {
                    className: ty().fullHeight,
                    children: f.entity === N.q.ATTRACTIONS ? (0,
                    n.jsx)(tj, {
                        leg: $,
                        trip: m,
                        legIndex: f.legIndex,
                        originalLegIndex: eg,
                        cityName: e_,
                        date: null !== (_ = b.formattedDate) && void 0 !== _ ? _ : (0,
                        r.q_)((0,
                        r.cf)($.startDate, ep)[0]),
                        numberDay: ev,
                        loadingAttractions: z,
                        setLoadingAttractions: q,
                        suggestedAttractions: er,
                        onAttractionSearch: ed,
                        onAttractionItemHover: es,
                        setSelectedAttractionId: J,
                        mapRef: Q
                    }) : f.entity === N.q.ATTRACTION ? (0,
                    n.jsx)(tw, {
                        originalLegIndex: eg,
                        currentLeg: $,
                        attractions: V,
                        trip: m,
                        tripId: m.id,
                        setSelectedAttractionId: J
                    }) : null
                })]
            })
        }
        ;
        var tI = i(21836)
          , tC = i.n(tI)
          , tN = i(29793)
          , tT = i(70921)
          , tk = i(13816)
          , tS = i(64702)
          , tR = i(99558)
          , tE = i(13718);
        let tP = e => {
            let {trip: t, isExpanded: i=!0} = e
              , {updateTripNavState: r} = (0,
            a.Pd)()
              , {tAsString: o} = (0,
            C.Ay)()
              , s = (0,
            l.useRef)(null)
              , d = e => {
                var t;
                let i = []
                  , n = [];
                return "destination" === e.type && (null === (t = e.destination) || void 0 === t ? void 0 : t.videos) ? i.push(...e.destination.videos) : "dayTrip" === e.type && e.imageUrl && n.push(e.imageUrl),
                {
                    videos: i,
                    images: n
                }
            }
              , c = (0,
            l.useMemo)( () => t.summary ? t.summary.map(e => {
                let i = new Map
                  , n = new Set;
                return e.legIndexes.forEach(e => {
                    let l = t.legs[e];
                    if (l) {
                        let {videos: e, images: t} = d(l);
                        e.forEach(e => {
                            i.set(e.id, e)
                        }
                        ),
                        t.forEach(e => {
                            n.add(e)
                        }
                        )
                    }
                }
                ),
                {
                    legIndex: e.legIndexes[0] || 0,
                    title: e.title,
                    summary: e.highlights,
                    videos: Array.from(i.values()).slice(0, 5),
                    images: Array.from(n).slice(0, 5)
                }
            }
            ) : [], [t.summary, t.legs])
              , u = e => {
                var t;
                return (null === (t = e.seo) || void 0 === t ? void 0 : t.title) ? e.seo.title : e.caption ? e.caption : o("common.videoThumbnailAlt")
            }
              , p = e => {
                var t;
                return "object" == typeof e && (null === (t = e.seo) || void 0 === t ? void 0 : t.title) ? e.seo.title : "object" == typeof e && e.caption ? e.caption : "string" == typeof e ? o("common.photoAlt") : o("common.videoThumbnailAlt")
            }
              , v = (e, t) => {
                if (e && e.length > 0 || t && t.length > 0) {
                    let i = (0,
                    tE.J6)(e, t);
                    (0,
                    tR.u)({
                        videos: i,
                        initialIndex: 0
                    })
                }
            }
              , _ = () => {
                i || r({
                    entity: "highlights-summary"
                })
            }
            ;
            if (!t.summary || 0 === t.summary.length)
                return null;
            let m = i ? c : c.slice(0, 1);
            return (0,
            n.jsxs)("div", {
                className: "".concat(tC().card_container, " ").concat(i ? "" : "".concat(tC().clickable, " ").concat(tC().collapsed)),
                onClick: _,
                children: [(0,
                n.jsx)("div", {
                    children: (0,
                    n.jsx)("h2", {
                        className: tC().section_title,
                        children: o("trip.breadcrumb.highlightsSummary")
                    })
                }), (0,
                n.jsx)(tk.Af, {
                    strategy: "center",
                    scrollRef: void 0,
                    children: (0,
                    n.jsx)("div", {
                        ref: s,
                        children: m.map( (e, t) => {
                            let l = e.videos.length > 0
                              , r = e.images.length > 0
                              , a = [...e.videos.map(e => e.thumbnailUrl), ...e.images]
                              , s = [...e.videos, ...e.images.map(e => e)];
                            return (0,
                            n.jsx)("div", {
                                className: tC().highlight_item,
                                children: (0,
                                n.jsxs)("div", {
                                    className: tC().content,
                                    children: [(0,
                                    n.jsxs)("h3", {
                                        className: tC().title,
                                        children: ["• ", e.title]
                                    }), (0,
                                    n.jsx)("div", {
                                        className: tC().summary,
                                        children: e.summary.map( (e, t) => (0,
                                        n.jsxs)("div", {
                                            className: tC().summary_point,
                                            children: ["• ", e]
                                        }, t))
                                    }), (l || r) && (0,
                                    n.jsxs)("div", {
                                        className: tC().media_container,
                                        onClick: t => {
                                            i && (t.stopPropagation(),
                                            v(e.videos, e.images))
                                        }
                                        ,
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: tC().first_media,
                                            children: l ? (0,
                                            n.jsx)(tk.eZ, {
                                                id: "highlight-video-".concat(t, "-").concat(e.videos[0].id),
                                                children: (0,
                                                n.jsxs)("div", {
                                                    style: {
                                                        position: "relative",
                                                        width: "100%",
                                                        height: "100%"
                                                    },
                                                    children: [(0,
                                                    n.jsx)(tN.A, {
                                                        src: e.videos[0].thumbnailUrl,
                                                        alt: u(e.videos[0]),
                                                        className: tC().media_image,
                                                        fill: !0
                                                    }), (0,
                                                    n.jsx)(tT.W, {
                                                        id: "highlight-video-".concat(t, "-").concat(e.videos[0].id),
                                                        videoUrl: e.videos[0].m3u8Url || e.videos[0].mp4Url,
                                                        className: tC().media_video,
                                                        autoPlay: !0,
                                                        poster: e.videos[0].thumbnailUrl,
                                                        dependency: e.videos[0].id,
                                                        preload: "metadata",
                                                        video: e.videos[0]
                                                    }, "highlight-video-".concat(t, "-").concat(e.videos[0].id))]
                                                })
                                            }) : (0,
                                            n.jsx)(tN.A, {
                                                src: e.images[0],
                                                alt: o("common.photoAlt"),
                                                className: tC().media_image,
                                                fill: !0
                                            })
                                        }), a.length > 1 && (0,
                                        n.jsx)("div", {
                                            className: tC().side_media_container,
                                            children: a.slice(1, 3).map( (e, t) => {
                                                let i = 1 === t && a.length > 3
                                                  , l = s[t + 1];
                                                return (0,
                                                n.jsxs)("div", {
                                                    className: tC().side_media,
                                                    children: [(0,
                                                    n.jsx)(tN.A, {
                                                        src: e,
                                                        alt: p(l),
                                                        className: tC().media_image,
                                                        fill: !0
                                                    }), i && (0,
                                                    n.jsxs)("div", {
                                                        className: tC().media_counter,
                                                        children: ["+", a.length - 3]
                                                    })]
                                                }, t)
                                            }
                                            )
                                        })]
                                    })]
                                })
                            }, t)
                        }
                        )
                    })
                }), !i && (0,
                n.jsx)("div", {
                    className: tC().open_button_container,
                    children: (0,
                    n.jsxs)("button", {
                        className: tC().open_button,
                        onClick: _,
                        children: [o("topicPage.chatSection.cards.open"), " ", (0,
                        n.jsx)(tS.A, {
                            className: tC().open_icon
                        })]
                    })
                })]
            })
        }
        ;
        var tD = i(42910)
          , tM = i.n(tD);
        let tL = e => {
            let {trip: t} = e
              , {navigationState: i} = (0,
            a.Pd)();
            return "highlights-summary" !== i.entity ? null : (0,
            n.jsxs)("div", {
                className: tM().container,
                children: [(0,
                n.jsx)(S, {
                    trip: t
                }), (0,
                n.jsx)("div", {
                    className: tM().content_area,
                    children: (0,
                    n.jsx)(tP, {
                        trip: t,
                        isExpanded: !0
                    })
                })]
            })
        }
          , tO = e => {
            let {trip: t} = e
              , {navigationState: i} = (0,
            a.Pd)();
            if (!i.entity)
                return null;
            let l = i.leg;
            switch (i.entity) {
            case N.q.HOTEL_SEARCH:
            case N.q.HOTEL:
                return l ? (0,
                n.jsx)(Q, {
                    trip: t
                }) : null;
            case N.q.ROUTE_OPTIONS:
                return (0,
                n.jsx)(em, {
                    trip: t
                });
            case N.q.FLIGHTS:
                return (0,
                n.jsx)(eN, {
                    trip: t
                });
            case N.q.CARS:
                return (0,
                n.jsx)(eF, {
                    trip: t
                });
            case N.q.ACTIVITIES:
            case N.q.ACTIVITY:
                return l ? (0,
                n.jsx)(th, {
                    trip: t
                }) : null;
            case N.q.ATTRACTIONS:
            case N.q.ATTRACTION:
                return l ? (0,
                n.jsx)(tA, {
                    trip: t
                }) : null;
            case N.q.HIGHLIGHTS_SUMMARY:
                return (0,
                n.jsx)(tL, {
                    trip: t
                });
            default:
                return null
            }
        }
        ;
        var tF = i(29965)
          , tB = i.n(tF)
          , tH = i(39580)
          , tU = i.n(tH);
        let tz = () => {
            let {updateTripNavState: e, navigationState: t, resetNavigation: i} = (0,
            a.Pd)()
              , {tAsString: l} = (0,
            C.Ay)()
              , r = t.entity
              , o = r === N.q.FLIGHTS || r === N.q.CARS || r === N.q.HOTEL || r === N.q.ACTIVITY || r === N.q.ATTRACTION
              , s = ( () => {
                if (!r)
                    return "";
                switch (r) {
                case N.q.ROUTE_OPTIONS:
                    return l("modals.modifyRoutes.titleTravelOptions");
                case N.q.FLIGHTS:
                    return l("trip.breadcrumb.flights");
                case N.q.HOTEL_SEARCH:
                    return l("trip.breadcrumb.hotels");
                case N.q.HOTEL:
                    return l("trip.breadcrumb.hotelDetails");
                case N.q.ACTIVITIES:
                    return l("trip.breadcrumb.activities");
                case N.q.ACTIVITY:
                    return l("trip.breadcrumb.activity");
                case N.q.ATTRACTIONS:
                    return l("trip.breadcrumb.attractions");
                case N.q.ATTRACTION:
                    return l("trip.breadcrumb.attraction");
                case N.q.CARS:
                    return l("trip.breadcrumb.cars");
                case N.q.HIGHLIGHTS_SUMMARY:
                    return l("trip.breadcrumb.highlightsSummary");
                default:
                    return ""
                }
            }
            )();
            return s ? (0,
            n.jsxs)("div", {
                className: tU().container,
                children: [(0,
                n.jsx)("div", {
                    className: tU().buttonContainer,
                    children: o && (0,
                    n.jsx)("div", {
                        onClick: () => {
                            switch (r) {
                            case N.q.FLIGHTS:
                            case N.q.CARS:
                                e({
                                    entity: N.q.ROUTE_OPTIONS
                                });
                                break;
                            case N.q.HOTEL:
                                e({
                                    entity: N.q.HOTEL_SEARCH
                                });
                                break;
                            case N.q.ACTIVITY:
                                e({
                                    entity: N.q.ACTIVITIES
                                });
                                break;
                            case N.q.HIGHLIGHTS_SUMMARY:
                                e({
                                    entity: N.q.HIGHLIGHTS_SUMMARY
                                });
                                break;
                            case N.q.ATTRACTION:
                                e({
                                    entity: N.q.ATTRACTIONS
                                });
                                break;
                            default:
                                i()
                            }
                        }
                        ,
                        className: tU().button,
                        children: (0,
                        n.jsx)(tB(), {
                            src: "/trip-breadcrumb-back-arrow.svg",
                            alt: "Back arrow",
                            width: 12,
                            height: 12
                        })
                    })
                }), (0,
                n.jsx)("h3", {
                    className: tU().title,
                    children: s
                }), (0,
                n.jsx)("div", {
                    onClick: () => {
                        i()
                    }
                    ,
                    className: tU().closeButton,
                    children: (0,
                    n.jsx)(tB(), {
                        src: "/cross.svg",
                        alt: "Close",
                        width: 16,
                        height: 16
                    })
                })]
            }) : null
        }
        ;
        var tq = i(92390)
          , tV = i.n(tq);
        let tW = e => {
            let {trip: t} = e
              , {resetNavigation: i, isMainTripEntity: l} = (0,
            a.Pd)();
            return (0,
            n.jsx)(g.A, {
                anchor: "bottom",
                open: !l,
                onClose: () => {
                    i()
                }
                ,
                onOpen: () => {}
                ,
                disableSwipeToOpen: !0,
                swipeAreaWidth: 0,
                PaperProps: {
                    className: tV().drawer_paper,
                    style: {
                        height: "85vh"
                    }
                },
                BackdropProps: {
                    style: {
                        backgroundColor: "rgba(0, 0, 0, 0.3)"
                    }
                },
                ModalProps: {
                    keepMounted: !1
                },
                children: (0,
                n.jsxs)("div", {
                    className: tV().container,
                    children: [(0,
                    n.jsx)(tz, {}), (0,
                    n.jsx)("div", {
                        className: tV().content_area,
                        children: (0,
                        n.jsx)(tO, {
                            trip: t
                        })
                    })]
                })
            })
        }
        ;
        var tG = i(2432)
          , tY = i(34068)
          , tX = i(31882);
        let tJ = e => {
            let {trimmedLegs: t, tab: i, setTab: n, isMobile: r, throttleDelay: a=50} = e
              , o = (0,
            l.useRef)(!1)
              , s = (0,
            l.useRef)(null)
              , d = (0,
            l.useRef)(0);
            (0,
            l.useEffect)( () => {
                t && t.length > 0 && i >= t.length && n(0)
            }
            , [t, i, n]),
            (0,
            l.useEffect)( () => {
                let e = document.getElementById(L.L);
                if (!e || 0 === t.length)
                    return;
                let l = () => {
                    o.current || (s.current && clearTimeout(s.current),
                    s.current = setTimeout( () => {
                        try {
                            let e = document.getElementById(L.L);
                            if (!e)
                                return;
                            let l = e.scrollTop
                              , r = l < d.current;
                            d.current = l;
                            let a = -1
                              , o = 0;
                            t.forEach( (t, i) => {
                                let n = document.getElementById("leg-".concat(i, "-").concat(t.location));
                                if (!n)
                                    return;
                                let l = n.getBoundingClientRect()
                                  , r = e.getBoundingClientRect()
                                  , s = Math.max(l.top - r.top, 0)
                                  , d = Math.min(l.bottom - r.top, r.height)
                                  , c = Math.max(d - s, 0)
                                  , u = l.height
                                  , p = u > 0 ? c / u : 0;
                                p > a && (a = p,
                                o = i)
                            }
                            );
                            let s = t.reduce( (e, i, n) => {
                                let l = document.getElementById("leg-".concat(n, "-").concat(t[n].location));
                                return e + ((null == l ? void 0 : l.getBoundingClientRect().height) || 0)
                            }
                            , 0) / t.length / e.getBoundingClientRect().height
                              , c = Math.max(.15, Math.min(.4, .6 / s))
                              , u = o < i;
                            a > (r && u ? .7 * c : c) && o !== i && n(o)
                        } catch (e) {
                            console.error("Error in scroll handler:", e)
                        }
                    }
                    , a))
                }
                ;
                try {
                    e.addEventListener("scroll", l, {
                        passive: !0
                    })
                } catch (e) {
                    console.error("Error adding scroll listener:", e)
                }
                return () => {
                    try {
                        e.removeEventListener("scroll", l)
                    } catch (e) {
                        console.error("Error removing scroll listener:", e)
                    }
                    s.current && (clearTimeout(s.current),
                    s.current = null)
                }
            }
            , [t, i, n, a, !1]);
            let c = e => {
                if (e < 0 || e >= t.length)
                    return;
                let i = t[e];
                try {
                    o.current = !0,
                    requestAnimationFrame( () => {
                        setTimeout( () => {
                            let t = document.getElementById("leg-".concat(e, "-").concat(i.location));
                            if (t) {
                                let e = document.getElementById(L.L);
                                if (e) {
                                    let i = e.querySelector('[class*="trip_nav_bar_sticky"]')
                                      , n = i ? i.getBoundingClientRect().height : 0
                                      , l = e.getBoundingClientRect()
                                      , r = t.getBoundingClientRect()
                                      , a = e.scrollTop + (r.top - l.top) - n - 20;
                                    e.scrollTo({
                                        top: Math.max(0, a),
                                        behavior: "smooth"
                                    })
                                } else {
                                    let e = t.getBoundingClientRect()
                                      , i = window.scrollY + e.top - 150;
                                    window.scrollTo({
                                        top: Math.max(0, i),
                                        behavior: "smooth"
                                    })
                                }
                            }
                        }
                        , 50)
                    }
                    ),
                    setTimeout( () => {
                        o.current = !1
                    }
                    , 800)
                } catch (e) {
                    console.error("Error scrolling to tab:", e),
                    o.current = !1
                }
            }
            ;
            return {
                scrollToTab: c,
                onNavTabChange: e => {
                    n(e),
                    c(e)
                }
                ,
                setTabWithScroll: e => {
                    e !== i && (n(e),
                    r && c(e))
                }
            }
        }
        ;
        var tZ = i(28097)
          , tK = i(79640);
        let tQ = e => {
            let {trip: t, toggleExpandSidePanel: i, isPreview: n, isMobile: r, isRightPanelExpanded: a} = e
              , {enabled: o, updateTripDatesAndTravelers: s} = (0,
            eo.j)()
              , {sendMessage: d, setSelectedItem: c} = (0,
            tK.Y)()
              , {pendingTripDetails: u, setPendingTripDetails: _} = (0,
            v.f)()
              , {tAsString: m} = (0,
            C.Ay)()
              , h = (0,
            p.A)();
            return {
                dates: (0,
                l.useMemo)( () => {
                    var e, i;
                    return {
                        start: (null === (e = u.dates) || void 0 === e ? void 0 : e.start) || ((null == t ? void 0 : t.startDate) ? tZ.c9.fromISO(t.startDate) : void 0),
                        end: (null === (i = u.dates) || void 0 === i ? void 0 : i.end) || ((null == t ? void 0 : t.endDate) ? tZ.c9.fromISO(t.endDate) : void 0)
                    }
                }
                , [null == t ? void 0 : t.startDate, null == t ? void 0 : t.endDate, u.dates]),
                roomsAndGuests: (0,
                l.useMemo)( () => {
                    var e, i, n, l, r;
                    return {
                        rooms: (null === (e = u.roomsAndGuests) || void 0 === e ? void 0 : e.rooms) || (null == t ? void 0 : t.numberOfRooms) || 1,
                        adults: (null === (i = u.roomsAndGuests) || void 0 === i ? void 0 : i.adults) || (null == t ? void 0 : null === (n = t.travelers) || void 0 === n ? void 0 : n.filter(e => e.isAdult).length) || 2,
                        children: (null === (l = u.roomsAndGuests) || void 0 === l ? void 0 : l.children) || (null == t ? void 0 : null === (r = t.travelers) || void 0 === r ? void 0 : r.filter(e => !e.isAdult).length) || 0
                    }
                }
                , [null == t ? void 0 : t.numberOfRooms, null == t ? void 0 : t.travelers, u.roomsAndGuests]),
                onChangeTripDetails: (e, l) => {
                    var u, p, v, g, f, x, y, b, j, w, A, I;
                    if (_({
                        dates: e,
                        roomsAndGuests: l
                    }),
                    n)
                        return;
                    if (a && i("close"),
                    o) {
                        s((null === (v = e.start) || void 0 === v ? void 0 : v.toISODate()) || void 0, l.rooms, l.adults, l.children);
                        return
                    }
                    let C = []
                      , N = tZ.c9.fromISO(t.startDate)
                      , T = tZ.c9.fromISO(t.endDate)
                      , k = null !== (g = e.start) && void 0 !== g ? g : N
                      , S = null !== (f = e.end) && void 0 !== f ? f : T;
                    if (!k.hasSame(N, "day") || !S.hasSame(T, "day")) {
                        let e = null !== (x = S.diff(k, "days").toObject().days) && void 0 !== x ? x : 1;
                        if (e <= 1) {
                            let t = m("trip.detailsModal.modify.dates_one", {
                                startDate: k.toFormat("yyyy-MM-dd"),
                                endDate: S.toFormat("yyyy-MM-dd"),
                                days: e
                            });
                            C.push(t)
                        } else {
                            let t = m("trip.detailsModal.modify.dates_many", {
                                startDate: k.toFormat("yyyy-MM-dd"),
                                endDate: S.toFormat("yyyy-MM-dd"),
                                days: e
                            });
                            C.push(t)
                        }
                    }
                    let R = null !== (y = l.rooms) && void 0 !== y ? y : 0;
                    if (R !== (null !== (b = t.numberOfRooms) && void 0 !== b ? b : 0)) {
                        let e = m("trip.detailsModal.modify.rooms", {
                            count: R
                        });
                        C.push(e)
                    }
                    let E = null !== (j = l.adults) && void 0 !== j ? j : 0;
                    if (E !== (null !== (w = null === (u = t.travelers) || void 0 === u ? void 0 : u.filter(e => !0 === e.isAdult).length) && void 0 !== w ? w : 0)) {
                        let e = m("trip.detailsModal.modify.adults", {
                            count: E
                        });
                        C.push(e)
                    }
                    let P = null !== (A = l.children) && void 0 !== A ? A : 0;
                    if (P !== (null !== (I = null === (p = t.travelers) || void 0 === p ? void 0 : p.filter(e => !0 !== e.isAdult).length) && void 0 !== I ? I : 0)) {
                        let e = m("trip.detailsModal.modify.children", {
                            count: P
                        });
                        C.push(e)
                    }
                    if (C.length <= 0)
                        return;
                    let D = "";
                    D += m("trip.detailsModal.modify.begin");
                    for (let e = 0; e < C.length; e++)
                        0 === e ? D += " " : e === C.length - 1 ? D += " ".concat(m("trip.detailsModal.modify.and"), " ") : D += ", ",
                        D += C[e];
                    h({
                        event: "TripDetailsChange",
                        data: {
                            chatId: t.id
                        }
                    }),
                    d(D),
                    r && c(null)
                }
            }
        }
        ;
        var t$ = i(46066)
          , t0 = i.n(t$)
          , t1 = i(93262)
          , t2 = i(34588)
          , t4 = i(13365)
          , t5 = i(89906)
          , t8 = i(3058)
          , t6 = i(30596)
          , t9 = i(58288)
          , t3 = i(24624);
        let t7 = d()( () => Promise.all([i.e(9527), i.e(8202), i.e(5904), i.e(7763), i.e(7184)]).then(i.bind(i, 37184)).then(e => e.EditTitleAndTagsButton), {
            loadableGenerated: {
                webpack: () => [37184]
            },
            ssr: !1
        })
          , ie = e => {
            let {trip: t, greenMode: i, big: l} = e
              , {enabled: r} = (0,
            eo.j)();
            return r ? (0,
            n.jsx)(t7, {
                trip: t,
                greenMode: i,
                big: l
            }) : null
        }
        ;
        var it = i(4036)
          , ii = i(77749)
          , il = i(66814)
          , ir = i(8350)
          , ia = i(83819)
          , io = i(30688)
          , is = i.n(io);
        let id = e => {
            var t, i, r;
            let {trip: a, formattedTrip: o, onShowOrderSummary: s, toggleExpandSidePanel: d, isRightPanelExpanded: c, variant: u="header"} = e
              , {tAsString: v} = (0,
            C.Ay)()
              , {tripActivities: _} = (0,
            h.y)()
              , m = (0,
            p.A)()
              , g = (0,
            l.useRef)(null)
              , f = (null == a ? void 0 : a.id) ? "".concat(window.location.origin, "/trip/").concat(a.id) : ""
              , x = (null == a ? void 0 : a.videos) && (null == a ? void 0 : null === (t = a.videos) || void 0 === t ? void 0 : t.length) > 0 ? null == a ? void 0 : null === (r = a.videos) || void 0 === r ? void 0 : null === (i = r[0]) || void 0 === i ? void 0 : i.thumbnailUrl : null;
            if (!o)
                return null;
            let y = "bottom-bar" === u
              , b = y ? is().bottom_bar_container : is().container
              , j = y ? is().pdf_wrapper_with_text : is().pdf_wrapper
              , w = y ? is().share_button_with_text : is().share_button
              , A = y ? is().basket_button_with_text : is().basket_button;
            return (0,
            n.jsxs)("div", {
                className: b,
                children: [(0,
                n.jsx)(ia.A, {
                    tooltip: v("trip.pdf.downloadPDF"),
                    position: y ? "top-center" : "bottom-center",
                    style: {
                        width: "fit-content"
                    },
                    classNameTooltip: y ? "" : is().portalTooltip,
                    classNameTriangle: y ? "" : is().tooltipTriangle,
                    children: (0,
                    n.jsxs)("div", {
                        className: j,
                        onClick: () => {
                            var e;
                            return null === (e = g.current) || void 0 === e ? void 0 : e.click()
                        }
                        ,
                        children: [(0,
                        n.jsx)(it.A, {
                            trip: o,
                            tripActivities: _,
                            collapseSidePanel: () => {
                                c && (null == d || d())
                            }
                            ,
                            originalTrip: a,
                            className: "".concat(y ? is().trip_pdf_button_with_text : is().trip_pdf_button),
                            tooltipPosition: !0,
                            hideTooltip: !0,
                            buttonRef: g
                        }), (0,
                        n.jsx)("div", {
                            className: y ? is().pdf_text_visible : is().pdf_wrapper_download,
                            children: v("partners.portal.userList.download")
                        })]
                    })
                }), (0,
                n.jsx)(ii.A, {
                    shareUrl: f,
                    itineraryTitle: null == a ? void 0 : a.title,
                    locationImgUrl: x || "",
                    eventCardName: ir.I.TRIP,
                    shareButtonsTitle: "",
                    onClick: () => {
                        (null == a ? void 0 : a.id) && m({
                            event: "OpenPopupTripShare",
                            data: {
                                tripId: a.id
                            }
                        })
                    }
                    ,
                    eventData: {
                        entityId: null == o ? void 0 : o.id,
                        entityType: ir.n.TRIP
                    },
                    showIcon: !0,
                    tooltipPosition: y ? "top-center" : "bottom-center",
                    className: w,
                    variant: u
                }), (0,
                n.jsx)(ia.A, {
                    tooltip: v("trip.tripPopups.tooltip"),
                    position: y ? "top-center" : "bottom-left",
                    style: {
                        width: "fit-content"
                    },
                    classNameTooltip: y ? "" : is().portalTooltip,
                    classNameTriangle: y ? "" : is().tooltipTriangle,
                    children: (0,
                    n.jsx)(il.A, {
                        onClick: () => null == s ? void 0 : s(!0),
                        className: A,
                        totalAmount: null == o ? void 0 : o.formattedTotalPrice,
                        copy: y ? v("trip.tripBasketButton.reviewAndBook") : void 0
                    })
                })]
            })
        }
        ;
        var ic = i(72111)
          , iu = i(59753);
        let ip = e => {
            let {onClick: t} = e;
            return (0,
            n.jsx)(ic.$, {
                variant: "secondary",
                rightIcon: (0,
                n.jsx)(iu.A, {
                    size: 16
                }),
                onClick: () => t ? t() : null
            })
        }
          , iv = function(e) {
            var t, i, a, s, d, u, p;
            let {trip: _, setShowDetailsModal: m, toggleExpandSidePanel: h, isRightPanelExpanded: g, showOrderSummary: f, setShowOrderSummary: x, formattedTrip: y, hideTripPhotos: b, isPreview: j=!1} = e
              , {tAsString: w} = (0,
            C.Ay)()
              , {locale: A, asPath: I, query: N} = (0,
            o.useRouter)()
              , {isMobile: T} = (0,
            c.U)()
              , {chat: k} = (0,
            tK.Y)()
              , {pendingTripDetails: S} = (0,
            v.f)()
              , E = g || I.includes("/chat") || !!k && !!N.ask
              , P = (0,
            t4.A)("(max-width:1024px)")
              , D = j && _.conversationId
              , [M,L] = (0,
            l.useState)(null);
            (0,
            l.useEffect)( () => {
                D && _.id && fetch("/api/trip/creator-info?tripId=".concat(_.id)).then(e => {
                    if (!e.ok)
                        throw Error("Failed to fetch creator data");
                    return e.json()
                }
                ).then(e => {
                    L({
                        displayName: e.displayName,
                        photoUrl: e.photoUrl
                    })
                }
                ).catch(e => {
                    console.error("Error fetching creator info:", e)
                }
                )
            }
            , [D, _.id]);
            let[F,B] = (0,
            l.useState)(!1)
              , H = null == _ ? void 0 : null === (t = _.legs[(null == _ ? void 0 : _.legs.length) - 1]) || void 0 === t ? void 0 : t.endDate
              , U = (0,
            l.useMemo)( () => {
                var e, t;
                return (null === (t = S.dates) || void 0 === t ? void 0 : null === (e = t.start) || void 0 === e ? void 0 : e.toJSDate()) || new Date(_.startDate)
            }
            , [null === (i = S.dates) || void 0 === i ? void 0 : i.start, _.startDate])
              , z = (0,
            l.useMemo)( () => {
                var e, t;
                return (null === (t = S.dates) || void 0 === t ? void 0 : null === (e = t.end) || void 0 === e ? void 0 : e.toJSDate()) || new Date(H || _.endDate)
            }
            , [null === (a = S.dates) || void 0 === a ? void 0 : a.end, H, _.endDate])
              , q = (0,
            l.useMemo)( () => S.roomsAndGuests ? (S.roomsAndGuests.adults || 0) + (S.roomsAndGuests.children || 0) : _.travelers.length, [S.roomsAndGuests, _.travelers.length])
              , V = (null == _ ? void 0 : _.numberOfDays) || 0
              , W = (null == _ ? void 0 : null === (s = _.legs) || void 0 === s ? void 0 : s.length) || 0
              , G = (null == _ ? void 0 : null === (d = _.priceInEuros) || void 0 === d ? void 0 : d.total) ? _.priceInEuros.total / ((null === (u = _.travelers) || void 0 === u ? void 0 : u.length) || 1) : 0
              , {userCurrency: Y, convertPrice: X, formatCurrency: J} = (0,
            O.c)()
              , Z = X(G, "EUR", Y)
              , K = Z && Z > 0 ? J(Z, Y, 0, !0) : null
              , Q = (0,
            R.A)(y ? (0,
            n.jsx)(t1.A, {
                formattedTrip: y,
                trip: _,
                onClose: x,
                formatDatesF: r.uh,
                toggleExpandSidePanel: h,
                isRightPanelExpanded: g
            }) : (0,
            n.jsx)(n.Fragment, {}), null, t2.J)
              , $ = () => {
                j || null == m || m(!0)
            }
              , ee = () => {
                B(!1)
            }
            ;
            return (0,
            n.jsxs)(n.Fragment, {
                children: [f && !j && Q, F && !j && (0,
                n.jsx)(t6.A, {
                    open: F,
                    onClose: ee,
                    slotProps: {
                        backdrop: {
                            style: {
                                backgroundColor: "rgba(0, 0, 0, 0.8)",
                                backdropFilter: "blur(2px)"
                            }
                        }
                    },
                    children: (0,
                    n.jsx)(t8.A, {
                        sx: {
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            width: "100%",
                            height: "100%"
                        },
                        role: "presentation",
                        children: (0,
                        n.jsx)(t9.A, {
                            videos: (null == _ ? void 0 : null === (p = _.videos) || void 0 === p ? void 0 : p.length) > 0 ? _.videos : [],
                            photos: (null == _ ? void 0 : _.imagesUrls) ? _.imagesUrls : [],
                            onClose: ee,
                            hotelName: _.title,
                            width: 980,
                            height: 735,
                            fullScreenMode: !0
                        })
                    })
                }), (0,
                n.jsxs)("div", {
                    className: t0().title_and_details_wrapper,
                    style: F ? {
                        display: "none"
                    } : {},
                    children: [!j && !T && (0,
                    n.jsx)("div", {
                        className: t0().edit_title_wrapper,
                        children: (0,
                        n.jsx)(ie, {
                            trip: _
                        })
                    }), (0,
                    n.jsxs)("div", {
                        className: (0,
                        t5.A)(t0().title_and_details, "title_and_details"),
                        children: [!T && (0,
                        n.jsxs)("div", {
                            className: t0().top_buttons_row,
                            children: [(0,
                            n.jsx)("div", {
                                className: t0().expand_panel_button,
                                children: (0,
                                n.jsx)(ia.A, {
                                    tooltip: w(g ? "trip.tripPopups.collapseScreen" : "trip.tripPopups.expandScreen"),
                                    position: "bottom-center",
                                    usePortal: !0,
                                    children: (0,
                                    n.jsx)(ip, {
                                        onClick: h
                                    })
                                })
                            }), !j && (0,
                            n.jsx)(id, {
                                trip: _,
                                formattedTrip: y,
                                onShowOrderSummary: x,
                                toggleExpandSidePanel: h,
                                isRightPanelExpanded: g
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: P ? t0().mobile_title_row : void 0,
                            children: [(0,
                            n.jsx)("h1", {
                                id: "trip-title",
                                className: "".concat(t0().title_content_title),
                                children: _.title
                            }), !P && D && M && (0,
                            n.jsxs)("div", {
                                style: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: "8px",
                                    marginTop: "8px",
                                    fontSize: "14px",
                                    color: "#666"
                                },
                                children: [(0,
                                n.jsx)("span", {
                                    children: "Curated by"
                                }), (0,
                                n.jsx)(t3.A, {
                                    size: 24,
                                    displayName: M.displayName,
                                    photoUrl: M.photoUrl
                                }), (0,
                                n.jsx)("span", {
                                    style: {
                                        fontWeight: 500
                                    },
                                    children: M.displayName || "Anonymous"
                                })]
                            }), P && !b && (0,
                            n.jsx)("div", {
                                className: t0().mobile_trip_image,
                                onClick: () => {
                                    j || B(!0)
                                }
                                ,
                                children: (0,
                                n.jsx)(tN.A, {
                                    src: ( () => {
                                        var e, t, i, n;
                                        let l = null == _ ? void 0 : _.videos
                                          , r = null == _ ? void 0 : _.imagesUrls;
                                        return l && l.length > 0 ? null === (e = l[0]) || void 0 === e ? void 0 : e.thumbnailUrl : r && r.length > 0 ? null !== (n = null === (i = r[0]) || void 0 === i ? void 0 : null === (t = i.replace) || void 0 === t ? void 0 : t.call(i, "max500", "max1000")) && void 0 !== n ? n : r[0] : "/ItineraryPage/nature-scene.webp"
                                    }
                                    )(),
                                    alt: _.title,
                                    fill: !0,
                                    className: t0().mobile_image
                                })
                            })]
                        }), P && D && M && (0,
                        n.jsxs)("div", {
                            style: {
                                display: "flex",
                                alignItems: "center",
                                gap: "8px",
                                marginTop: "8px",
                                fontSize: "14px",
                                color: "#666"
                            },
                            children: [(0,
                            n.jsx)("span", {
                                children: "Curated by"
                            }), (0,
                            n.jsx)(t3.A, {
                                size: 24,
                                displayName: M.displayName,
                                photoUrl: M.photoUrl
                            }), (0,
                            n.jsx)("span", {
                                style: {
                                    fontWeight: 500
                                },
                                children: M.displayName || "Anonymous"
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            children: [(0,
                            n.jsx)("div", {
                                className: t0().trip_header_buttons,
                                children: !E && (0,
                                n.jsxs)("button", {
                                    onClick: $,
                                    className: "".concat(t0().trip_details_button),
                                    disabled: j,
                                    children: [(0,
                                    n.jsx)("small", {
                                        children: (0,
                                        r.OA)(U, z, A)
                                    }), (0,
                                    n.jsx)("div", {
                                        className: t0().details_divider
                                    }), (0,
                                    n.jsx)("small", {
                                        children: w("trip.tripPopups.travellers", {
                                            count: q
                                        })
                                    }), j && (0,
                                    n.jsxs)(n.Fragment, {
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: t0().details_divider
                                        }), (0,
                                        n.jsxs)("small", {
                                            children: [V, " ", 1 === V ? "day" : "days"]
                                        }), (0,
                                        n.jsx)("div", {
                                            className: t0().details_divider
                                        }), (0,
                                        n.jsxs)("small", {
                                            children: [W, " ", 1 === W ? "destination" : "destinations"]
                                        }), K && (0,
                                        n.jsxs)(n.Fragment, {
                                            children: [(0,
                                            n.jsx)("div", {
                                                className: t0().details_divider
                                            }), (0,
                                            n.jsxs)("small", {
                                                children: [K, " per person"]
                                            })]
                                        })]
                                    })]
                                })
                            }), (0,
                            n.jsx)("div", {
                                style: {
                                    display: "flex",
                                    alignItems: "center",
                                    gap: "16px",
                                    marginTop: "16px"
                                },
                                children: (I.includes("/chat") || !!k && !!N.ask) && (0,
                                n.jsxs)("button", {
                                    className: t0().trip_details_button,
                                    onClick: $,
                                    disabled: j,
                                    children: [(0,
                                    n.jsx)("small", {
                                        children: (0,
                                        r.OA)(U, z, A)
                                    }), (0,
                                    n.jsx)("div", {
                                        className: t0().details_divider
                                    }), (0,
                                    n.jsx)("small", {
                                        children: w("trip.tripPopups.travellers", {
                                            count: q
                                        })
                                    })]
                                })
                            })]
                        }), _.description && (0,
                        n.jsx)(n.Fragment, {
                            children: I.includes("/chat") || k && N.ask || P ? (0,
                            n.jsx)(eY.A, {
                                content: _.description,
                                maxLines: 3,
                                readMoreText: w("hotels.card.readMore"),
                                readLessText: w("hotels.card.readLess"),
                                textClassName: t0().title_content_description,
                                readMoreClassName: t0().title_content_description
                            }) : (0,
                            n.jsx)("p", {
                                className: t0().title_content_description,
                                children: _.description
                            })
                        })]
                    })]
                })]
            })
        };
        var i_ = i(11081)
          , im = i(15747)
          , ih = i(42413)
          , ig = i(41917)
          , ix = i(67330)
          , iy = i(51059)
          , ib = i(79219)
          , ij = i(73090)
          , iw = i(91912)
          , iA = i(35820);
        let iI = e => {
            let {formData: t, onUpdateField: i, loading: l, errors: r} = e
              , {tAsString: a} = (0,
            C.Ay)();
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)(iy.A, {
                    fullWidth: !0,
                    label: a("Title"),
                    value: t.title,
                    onChange: e => i("title", e.target.value),
                    margin: "normal",
                    required: !0,
                    disabled: l,
                    error: !!r.title
                }), r.title && (0,
                n.jsx)(ih.A, {
                    variant: "caption",
                    color: "error",
                    sx: {
                        mt: .5,
                        ml: 1.5,
                        display: "block"
                    },
                    children: r.title
                }), (0,
                n.jsx)(iy.A, {
                    fullWidth: !0,
                    label: a("Description"),
                    value: t.description,
                    onChange: e => i("description", e.target.value),
                    margin: "normal",
                    multiline: !0,
                    rows: 3,
                    disabled: l,
                    helperText: a("What makes this place special? Include details about what to expect")
                }), (0,
                n.jsxs)(ib.A, {
                    fullWidth: !0,
                    margin: "normal",
                    disabled: l,
                    children: [(0,
                    n.jsx)(ij.A, {
                        id: "type-select-label",
                        children: a("Type")
                    }), (0,
                    n.jsx)(iw.A, {
                        labelId: "type-select-label",
                        value: t.type,
                        label: a("Type"),
                        onChange: e => i("type", e.target.value),
                        children: [{
                            value: eB.zp.PLACE,
                            label: a("Place")
                        }, {
                            value: eB.zp.RESTAURANT,
                            label: a("Restaurant")
                        }, {
                            value: eB.zp.CONTACT,
                            label: a("Contact")
                        }, {
                            value: eB.zp.OTHER,
                            label: a("Other")
                        }].map(e => (0,
                        n.jsx)(iA.A, {
                            value: e.value,
                            children: e.label
                        }, e.value))
                    })]
                })]
            })
        }
          , iC = e => {
            var t;
            let {url: i, index: l, mediaType: r, labelSingular: a, onRemove: o, loading: s} = e
              , d = "images" === r;
            return (0,
            n.jsxs)(t8.A, {
                display: "flex",
                alignItems: "center",
                gap: 1,
                sx: {
                    ml: 1,
                    mb: 1
                },
                children: [(0,
                n.jsx)(t8.A, {
                    component: d ? "img" : "video",
                    src: i,
                    alt: d ? "".concat(a, " ").concat(l + 1) : void 0,
                    sx: {
                        width: 60,
                        height: 60,
                        objectFit: "cover",
                        borderRadius: 1,
                        border: "1px solid #e0e0e0"
                    },
                    onError: d ? e => {
                        let {currentTarget: t} = e;
                        t.onerror = null,
                        t.src = "/placeholder-image.jpg"
                    }
                    : () => {
                        console.warn("Failed to load ".concat(r.slice(0, -1), ": ").concat(i))
                    }
                }), (0,
                n.jsx)(ih.A, {
                    variant: "body2",
                    sx: {
                        flex: 1
                    },
                    children: (null === (t = i.split("/").pop()) || void 0 === t ? void 0 : t.split("?")[0]) || a
                }), (0,
                n.jsx)(ig.A, {
                    size: "small",
                    color: "error",
                    onClick: o,
                    disabled: s,
                    sx: {
                        minWidth: "auto",
                        p: .5
                    },
                    children: "\xd7"
                })]
            }, l)
        }
          , iN = e => {
            let {mediaType: t, existingUrls: i, labelPlural: l, labelSingular: r, onRemoveExisting: a, loading: o} = e
              , {tAsString: s} = (0,
            C.Ay)();
            return 0 === i.length ? null : (0,
            n.jsxs)(t8.A, {
                marginTop: 2,
                children: [(0,
                n.jsxs)(ih.A, {
                    variant: "subtitle2",
                    gutterBottom: !0,
                    children: [s("Current"), " ", l]
                }), (0,
                n.jsx)(t8.A, {
                    sx: {
                        mt: 1
                    },
                    children: i.map( (e, i) => (0,
                    n.jsx)(iC, {
                        url: e,
                        index: i,
                        mediaType: t,
                        labelSingular: r,
                        onRemove: () => a(t, e),
                        loading: o
                    }, i))
                })]
            })
        }
          , iT = e => {
            let {mediaType: t, labelPlural: i, onFileSelect: r, loading: a} = e
              , {tAsString: o} = (0,
            C.Ay)()
              , s = (0,
            l.useRef)(null)
              , d = "images" === t;
            return (0,
            n.jsxs)(t8.A, {
                display: "flex",
                gap: 1,
                alignItems: "center",
                children: [(0,
                n.jsx)("input", {
                    ref: s,
                    type: "file",
                    accept: d ? "image/*" : "video/*",
                    multiple: !0,
                    onChange: e => r(t, e),
                    style: {
                        display: "none"
                    },
                    disabled: a
                }), (0,
                n.jsxs)(ig.A, {
                    variant: "outlined",
                    onClick: () => {
                        var e;
                        null === (e = s.current) || void 0 === e || e.click()
                    }
                    ,
                    disabled: a,
                    children: [o("Select"), " ", i]
                })]
            })
        }
          , ik = e => {
            let {selectedFiles: t, labelPlural: i, mediaType: l, onRemoveSelectedFile: r, loading: a} = e
              , {tAsString: o} = (0,
            C.Ay)();
            return 0 === t.length ? null : (0,
            n.jsxs)(t8.A, {
                sx: {
                    mt: 1
                },
                children: [(0,
                n.jsxs)(ih.A, {
                    variant: "body2",
                    color: "primary.main",
                    gutterBottom: !0,
                    children: [t.length, " ", i.toLowerCase(), " ", o("selected"), ":"]
                }), t.map( (e, t) => (0,
                n.jsxs)(t8.A, {
                    display: "flex",
                    alignItems: "center",
                    gap: 1,
                    sx: {
                        ml: 1
                    },
                    children: [(0,
                    n.jsxs)(ih.A, {
                        variant: "body2",
                        children: ["• ", e.name]
                    }), (0,
                    n.jsx)(ig.A, {
                        size: "small",
                        onClick: () => r(l, t),
                        disabled: a,
                        sx: {
                            minWidth: "auto",
                            p: .5
                        },
                        children: "\xd7"
                    })]
                }, t))]
            })
        }
          , iS = e => {
            let {mediaType: t, mediaState: i, onFileSelect: l, onRemoveExisting: r, onRemoveSelectedFile: a, loading: o, error: s} = e
              , {tAsString: d} = (0,
            C.Ay)()
              , c = "images" === t
              , u = d(c ? "Photo" : "Video")
              , p = d(c ? "Photos" : "Videos");
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)(iN, {
                    mediaType: t,
                    existingUrls: i.existingUrls,
                    labelPlural: p,
                    labelSingular: u,
                    onRemoveExisting: r,
                    loading: o
                }), (0,
                n.jsxs)(t8.A, {
                    marginTop: 2,
                    children: [(0,
                    n.jsxs)(ih.A, {
                        variant: "subtitle2",
                        gutterBottom: !0,
                        children: [i.existingUrls.length > 0 ? d("Add More") + " " + p : p, " (", d("Optional"), ")"]
                    }), (0,
                    n.jsx)(iT, {
                        mediaType: t,
                        labelPlural: p,
                        onFileSelect: l,
                        loading: o
                    }), (0,
                    n.jsx)(ik, {
                        selectedFiles: i.selectedFiles,
                        labelPlural: p,
                        mediaType: t,
                        onRemoveSelectedFile: a,
                        loading: o
                    }), s && (0,
                    n.jsx)(ih.A, {
                        variant: "caption",
                        color: "error",
                        sx: {
                            mt: .5,
                            display: "block"
                        },
                        children: s
                    })]
                })]
            })
        }
        ;
        var iR = i(72035)
          , iE = i(74271)
          , iP = i(20889)
          , iD = i(47978)
          , iM = i.n(iD);
        let iL = d()( () => Promise.all([i.e(8098), i.e(9806)]).then(i.bind(i, 29806)), {
            loadableGenerated: {
                webpack: () => [29806]
            },
            ssr: !1,
            loading: () => null
        })
          , iO = {
            mb: 2,
            position: "relative"
        }
          , iF = {
            mb: 1
        }
          , iB = {
            position: "absolute",
            top: "100%",
            left: 0,
            right: 0,
            backgroundColor: "white",
            border: "1px solid #e0e0e0",
            borderRadius: 1,
            boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
            zIndex: 1e3,
            maxHeight: "200px",
            overflowY: "auto"
        }
          , iH = {
            borderBottom: "1px solid #f0f0f0",
            "&:last-child": {
                borderBottom: "none"
            },
            "&:hover": {
                backgroundColor: "#f5f5f5"
            }
        }
          , iU = {
            primaryTypographyProps: {
                variant: "body2"
            }
        }
          , iz = {
            fontSize: "24px",
            cursor: "pointer",
            filter: "drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))",
            animation: "bounce 0.5s ease-in-out"
        }
          , iq = {
            width: "100%",
            height: "400px"
        }
          , iV = e => {
            let {open: t, onClose: i, onLocationSelect: r, initialLocation: a} = e
              , {tAsString: o} = (0,
            C.Ay)()
              , [s,d] = (0,
            l.useState)(null)
              , [c,u] = (0,
            l.useState)(!1)
              , [p,v] = (0,
            l.useState)("")
              , [_,m] = (0,
            l.useState)([])
              , [h,g] = (0,
            l.useState)(!1)
              , [f,x] = (0,
            l.useState)(!1);
            (0,
            l.useEffect)( () => {
                t && a && d(a)
            }
            , [t, a]);
            let y = async e => {
                if (!e.trim() || e.length < 2) {
                    m([]),
                    x(!1);
                    return
                }
                g(!0);
                try {
                    let i = "pk.eyJ1IjoiZW1pcnBhc2ljYmQiLCJhIjoiY2xoaG0yYjFoMGQ0cjNncHJtbW1sMWR0bCJ9.3KdSTp0dU-mhebvFMhU5BQ";
                    if (!i) {
                        console.error("MapBox access token not found");
                        return
                    }
                    let n = await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e), ".json?access_token=").concat(i, "&limit=5"));
                    if (n.ok) {
                        var t;
                        let e = await n.json()
                          , i = (null === (t = e.features) || void 0 === t ? void 0 : t.map(e => ({
                            id: e.id,
                            place_name: e.place_name,
                            center: e.center
                        }))) || [];
                        m(i),
                        x(i.length > 0)
                    } else
                        console.error("Geocoding request failed:", n.statusText),
                        m([]),
                        x(!1)
                } catch (e) {
                    console.error("Error searching locations:", e),
                    m([]),
                    x(!1)
                } finally {
                    g(!1)
                }
            }
            ;
            (0,
            l.useEffect)( () => {
                let e = setTimeout( () => {
                    y(p)
                }
                , 500);
                return () => clearTimeout(e)
            }
            , [p]);
            let b = e => {
                let[t,i] = e.center;
                d({
                    latitude: i,
                    longitude: t,
                    address: e.place_name
                }),
                v(e.place_name),
                x(!1)
            }
              , j = () => {
                d(null),
                v(""),
                m([]),
                x(!1),
                i()
            }
              , w = s ? [{
                id: "selected-location",
                latitude: s.latitude,
                longitude: s.longitude
            }] : [];
            return (0,
            n.jsx)(t6.A, {
                open: t,
                onClose: j,
                "aria-labelledby": "map-selection-modal-title",
                children: (0,
                n.jsxs)(t8.A, {
                    className: iM().container,
                    children: [(0,
                    n.jsxs)("div", {
                        className: iM().header,
                        children: [(0,
                        n.jsx)(ih.A, {
                            id: "map-selection-modal-title",
                            variant: "h6",
                            component: "h2",
                            children: o("selectLocationOnMap")
                        }), (0,
                        n.jsx)(ig.A, {
                            onClick: j,
                            className: iM().closeButton,
                            children: "\xd7"
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: iM().content,
                        children: [(0,
                        n.jsxs)(t8.A, {
                            sx: iO,
                            children: [(0,
                            n.jsx)(iy.A, {
                                fullWidth: !0,
                                variant: "outlined",
                                placeholder: o("searchForLocation"),
                                value: p,
                                onChange: e => v(e.target.value),
                                InputProps: {
                                    endAdornment: h ? (0,
                                    n.jsx)(ix.A, {
                                        size: 20
                                    }) : null
                                },
                                sx: iF
                            }), f && _.length > 0 && (0,
                            n.jsx)(t8.A, {
                                sx: iB,
                                children: (0,
                                n.jsx)(iR.A, {
                                    disablePadding: !0,
                                    children: _.map(e => (0,
                                    n.jsx)(iE.Ay, {
                                        onClick: () => b(e),
                                        sx: {
                                            ...iH,
                                            cursor: "pointer"
                                        },
                                        children: (0,
                                        n.jsx)(iP.A, {
                                            primary: e.place_name,
                                            ...iU
                                        })
                                    }, e.id))
                                })
                            })]
                        }), (0,
                        n.jsx)("div", {
                            className: iM().instructions,
                            children: (0,
                            n.jsx)(ih.A, {
                                variant: "body2",
                                color: "textSecondary",
                                children: o("searchLocationInstruction")
                            })
                        }), (0,
                        n.jsx)("div", {
                            className: iM().mapContainer,
                            children: (0,
                            n.jsx)(iL, {
                                center: s ? {
                                    lng: s.longitude,
                                    lat: s.latitude
                                } : {
                                    lng: 0,
                                    lat: 20
                                },
                                zoom: s ? 10 : 2,
                                markers: w,
                                renderMarker: () => (0,
                                n.jsx)("div", {
                                    style: iz,
                                    children: "\uD83D\uDCCD"
                                }),
                                onMapClick: e => {
                                    let {lng: t, lat: i} = e.lngLat;
                                    d({
                                        latitude: i,
                                        longitude: t,
                                        address: "".concat(i.toFixed(6), ", ").concat(t.toFixed(6))
                                    })
                                }
                                ,
                                style: iq
                            })
                        }), s && (0,
                        n.jsx)("div", {
                            className: iM().coordinates,
                            children: (0,
                            n.jsxs)(ih.A, {
                                variant: "body2",
                                children: [(0,
                                n.jsxs)("strong", {
                                    children: [o("selectedLocation"), ":"]
                                }), (0,
                                n.jsx)("br", {}), o("latitude"), ": ", s.latitude.toFixed(6), (0,
                                n.jsx)("br", {}), o("longitude"), ": ", s.longitude.toFixed(6)]
                            })
                        }), (0,
                        n.jsx)("div", {
                            className: iM().actions,
                            children: (0,
                            n.jsx)(ig.A, {
                                variant: "outlined",
                                onClick: () => {
                                    u(!0),
                                    navigator.geolocation ? navigator.geolocation.getCurrentPosition(e => {
                                        let {latitude: t, longitude: i} = e.coords;
                                        d({
                                            latitude: t,
                                            longitude: i,
                                            address: "".concat(t.toFixed(6), ", ").concat(i.toFixed(6))
                                        }),
                                        u(!1)
                                    }
                                    , e => {
                                        console.error("Error getting location:", e),
                                        u(!1);
                                        let t = o("unableToGetLocation");
                                        e.code === e.PERMISSION_DENIED ? t = o("locationAccessDenied") : e.code === e.POSITION_UNAVAILABLE ? t = o("locationUnavailable") : e.code === e.TIMEOUT && (t = o("locationTimeout")),
                                        alert(t)
                                    }
                                    , {
                                        enableHighAccuracy: !0,
                                        timeout: 1e4,
                                        maximumAge: 3e5
                                    }) : (u(!1),
                                    alert(o("geolocationNotSupported")))
                                }
                                ,
                                disabled: c,
                                size: "small",
                                children: c ? (0,
                                n.jsxs)(n.Fragment, {
                                    children: ["\uD83D\uDD04 ", o("gettingLocation")]
                                }) : (0,
                                n.jsxs)(n.Fragment, {
                                    children: ["\uD83D\uDCCD ", o("useMyCurrentLocation")]
                                })
                            })
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: iM().footer,
                        children: [(0,
                        n.jsx)(ig.A, {
                            onClick: j,
                            variant: "outlined",
                            children: o("cancel")
                        }), (0,
                        n.jsx)(ig.A, {
                            onClick: () => {
                                s && r(s.latitude, s.longitude, s.address)
                            }
                            ,
                            variant: "contained",
                            color: "primary",
                            disabled: !s,
                            children: o("selectLocation")
                        })]
                    })]
                })
            })
        }
          , iW = e => {
            let {formData: t, mapModalOpen: i, onOpenMap: l, onCloseMap: r, onLocationSelect: a, loading: o, error: s} = e
              , {tAsString: d} = (0,
            C.Ay)();
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)(t8.A, {
                    marginTop: 2,
                    children: [(0,
                    n.jsxs)(ih.A, {
                        variant: "subtitle2",
                        gutterBottom: !0,
                        children: [d("Location"), " *"]
                    }), (0,
                    n.jsxs)(t8.A, {
                        display: "flex",
                        flexDirection: "column",
                        gap: 1,
                        children: [(0,
                        n.jsxs)(ig.A, {
                            variant: "outlined",
                            onClick: l,
                            disabled: o,
                            sx: {
                                alignSelf: "flex-start",
                                px: 3,
                                py: 1.5
                            },
                            size: "large",
                            children: ["\uD83D\uDCCD ", d("Select Location on Map")]
                        }), t.latitude && t.longitude ? (0,
                        n.jsxs)(t8.A, {
                            sx: {
                                p: 2,
                                backgroundColor: "#f5f5f5",
                                borderRadius: 1,
                                border: "1px solid #e0e0e0"
                            },
                            children: [(0,
                            n.jsxs)(ih.A, {
                                variant: "body2",
                                sx: {
                                    fontWeight: "medium",
                                    mb: .5
                                },
                                children: [d("Selected Location"), ":"]
                            }), (0,
                            n.jsxs)(ih.A, {
                                variant: "body2",
                                color: "textSecondary",
                                children: ["\uD83D\uDCCD ", t.latitude.toFixed(6), ", ", t.longitude.toFixed(6)]
                            }), t.location && (0,
                            n.jsx)(ih.A, {
                                variant: "body2",
                                color: "textSecondary",
                                sx: {
                                    mt: .5
                                },
                                children: t.location
                            })]
                        }) : (0,
                        n.jsx)(ih.A, {
                            variant: "body2",
                            color: "textSecondary",
                            children: d("Click the button above to select a location on the map")
                        }), s && (0,
                        n.jsx)(ih.A, {
                            variant: "caption",
                            color: "error",
                            sx: {
                                mt: .5
                            },
                            children: s
                        })]
                    })]
                }), (0,
                n.jsx)(iV, {
                    open: i,
                    onClose: r,
                    onLocationSelect: a,
                    initialLocation: t.latitude && t.longitude ? {
                        latitude: t.latitude,
                        longitude: t.longitude
                    } : void 0
                })]
            })
        }
        ;
        var iG = i(63149)
          , iY = i(25508)
          , iX = i(12664);
        let iJ = e => iX.Ik({
            title: iX.Yj().trim().required(e("validation.titleRequired")),
            description: iX.Yj(),
            type: iX.gl().oneOf(Object.values(eB.zp)).required(),
            location: iX.Yj().required(e("validation.locationRequired")),
            latitude: iX.ai().required(e("validation.locationRequired")),
            longitude: iX.ai().required(e("validation.locationRequired")),
            imageUrls: iX.YO().of(iX.Yj()),
            videoUrls: iX.YO().of(iX.Yj())
        })
          , iZ = e => ({
            title: (null == e ? void 0 : e.title) || "",
            description: (null == e ? void 0 : e.description) || "",
            type: (null == e ? void 0 : e.type) || eB.zp.OTHER,
            imageUrls: (null == e ? void 0 : e.imageUrls) || [],
            videoUrls: (null == e ? void 0 : e.videoUrls) || [],
            location: (null == e ? void 0 : e.location) || "",
            latitude: (null == e ? void 0 : e.latitude) || void 0,
            longitude: (null == e ? void 0 : e.longitude) || void 0
        })
          , iK = e => ({
            images: {
                selectedFiles: [],
                existingUrls: (null == e ? void 0 : e.imageUrls) || [],
                removedUrls: []
            },
            videos: {
                selectedFiles: [],
                existingUrls: (null == e ? void 0 : e.videoUrls) || [],
                removedUrls: []
            }
        })
          , iQ = e => {
            let {open: t, initialData: n, onSave: r, onClose: a} = e
              , {tAsString: o} = (0,
            C.Ay)()
              , s = iJ(o)
              , [d,c] = (0,
            l.useState)({
                loading: !1,
                uploadProgress: 0,
                errors: {},
                mapModalOpen: !1
            })
              , [u,p] = (0,
            l.useState)({
                images: {
                    selectedFiles: [],
                    existingUrls: [],
                    removedUrls: []
                },
                videos: {
                    selectedFiles: [],
                    existingUrls: [],
                    removedUrls: []
                }
            })
              , v = (0,
            iG.Wx)({
                initialValues: iZ(n),
                validationSchema: s,
                onSubmit: async e => {
                    await g(e)
                }
            })
              , _ = (e, t) => {
                c(i => ({
                    ...i,
                    [e]: t
                }))
            }
              , m = (e, t, i) => {
                p(n => ({
                    ...n,
                    [e]: {
                        ...n[e],
                        [t]: i
                    }
                }))
            }
              , h = async () => {
                let e = []
                  , t = v.values.imageUrls || []
                  , i = v.values.videoUrls || []
                  , n = u.images.selectedFiles
                  , l = u.videos.selectedFiles;
                if (n.forEach( (t, i) => {
                    let r = "hidden-items/images/".concat(Date.now(), "-").concat(i, "-").concat(t.name)
                      , a = new Promise(e => {
                        (0,
                        iY.QM)(t, r, e => {
                            let t = 100 / (n.length + l.length);
                            _("uploadProgress", i * t + e * t)
                        }
                        , t => {
                            e({
                                url: t,
                                type: "image"
                            })
                        }
                        )
                    }
                    );
                    e.push(a)
                }
                ),
                l.forEach( (t, i) => {
                    let r = "hidden-items/videos/".concat(Date.now(), "-").concat(i, "-").concat(t.name)
                      , a = new Promise(e => {
                        (0,
                        iY.QM)(t, r, e => {
                            let t = 100 / (n.length + l.length);
                            _("uploadProgress", (n.length + i) * t + e * t)
                        }
                        , t => {
                            e({
                                url: t,
                                type: "video"
                            })
                        }
                        )
                    }
                    );
                    e.push(a)
                }
                ),
                e.length > 0) {
                    let n = await Promise.all(e)
                      , l = n.filter(e => "image" === e.type).map(e => e.url)
                      , r = n.filter(e => "video" === e.type).map(e => e.url);
                    t = [...t, ...l],
                    i = [...i, ...r]
                }
                return {
                    imageUrls: t,
                    videoUrls: i
                }
            }
              , g = async e => {
                let t = {
                    imageUrls: [],
                    videoUrls: []
                };
                try {
                    _("loading", !0),
                    _("uploadProgress", 0),
                    t = await h();
                    let i = {
                        ...e,
                        imageUrls: t.imageUrls,
                        videoUrls: t.videoUrls
                    };
                    await r(i, u.images.removedUrls, u.videos.removedUrls),
                    a()
                } catch (e) {
                    if (console.error("Error saving hidden item:", e),
                    t.imageUrls.length > 0 || t.videoUrls.length > 0) {
                        let {deleteFileFromStorage: e} = await Promise.all([i.e(5904), i.e(5525)]).then(i.bind(i, 65525))
                          , n = t.imageUrls.map(async t => {
                            try {
                                await e(t)
                            } catch (e) {
                                console.warn("Failed to cleanup image ".concat(t, ":"), e)
                            }
                        }
                        )
                          , l = t.videoUrls.map(async t => {
                            try {
                                await e(t)
                            } catch (e) {
                                console.warn("Failed to cleanup video ".concat(t, ":"), e)
                            }
                        }
                        );
                        await Promise.allSettled([...n, ...l])
                    }
                    v.setStatus(o("Error saving hidden item. Please try again."))
                } finally {
                    _("loading", !1),
                    _("uploadProgress", 0)
                }
            }
            ;
            return (0,
            l.useEffect)( () => {
                if (!t)
                    return;
                let e = (null == n ? void 0 : n.imageUrls) || []
                  , i = (null == n ? void 0 : n.videoUrls) || [];
                v.resetForm({
                    values: {
                        ...iZ(n),
                        imageUrls: e,
                        videoUrls: i
                    }
                }),
                p(iK(n)),
                c({
                    loading: !1,
                    uploadProgress: 0,
                    errors: {},
                    mapModalOpen: !1
                })
            }
            , [n, t]),
            {
                modalState: d,
                mediaState: u,
                formik: v,
                updateModalState: _,
                handleFileSelect: (e, t) => {
                    let i = t.target.files;
                    if (!i || 0 === i.length)
                        return;
                    let n = "images" === e
                      , l = Array.from(i).filter(e => {
                        if (!e.type.startsWith(n ? "image/" : "video/")) {
                            let e = n ? o("Please select valid image files") : o("Please select valid video files");
                            return v.setFieldError(n ? "imageUrls" : "videoUrls", e),
                            !1
                        }
                        return !0
                    }
                    );
                    m(e, "selectedFiles", [...u[e].selectedFiles, ...l]),
                    v.setFieldError(n ? "imageUrls" : "videoUrls", "")
                }
                ,
                handleRemoveExisting: (e, t) => {
                    var i;
                    let n = u[e].existingUrls
                      , l = u[e].removedUrls;
                    m(e, "existingUrls", n.filter(e => e !== t)),
                    m(e, "removedUrls", [...l, t]);
                    let r = "images" === e ? "imageUrls" : "videoUrls"
                      , a = (null === (i = v.values[r]) || void 0 === i ? void 0 : i.filter(e => e !== t)) || [];
                    v.setFieldValue(r, a)
                }
                ,
                handleRemoveSelectedFile: (e, t) => {
                    let i = u[e].selectedFiles;
                    m(e, "selectedFiles", i.filter( (e, i) => i !== t))
                }
                ,
                handleMapSelection: (e, t, i) => {
                    let n = i || v.values.location || "".concat(e.toFixed(6), ", ").concat(t.toFixed(6));
                    v.setFieldValue("latitude", e),
                    v.setFieldValue("longitude", t),
                    v.setFieldValue("location", n),
                    v.setFieldError("location", ""),
                    v.setFieldError("latitude", ""),
                    v.setFieldError("longitude", ""),
                    _("mapModalOpen", !1)
                }
                ,
                handleClose: e => {
                    null == e || e.preventDefault(),
                    null == e || e.stopPropagation(),
                    d.loading || a()
                }
                ,
                handleModalClose: () => {
                    d.loading || a()
                }
                ,
                tAsString: o
            }
        }
        ;
        var i$ = i(25550)
          , i0 = i.n(i$);
        let i1 = {
            "&:focus-visible": {
                outline: "none !important"
            },
            "&:focus": {
                outline: "none !important"
            },
            "& *:focus-visible": {
                outline: "none !important"
            },
            "& *:focus": {
                outline: "none !important"
            }
        }
          , i2 = e => {
            var t;
            let {open: i, onClose: l, onSave: r, initialData: a} = e
              , {modalState: o, mediaState: s, formik: d, updateModalState: c, handleFileSelect: u, handleRemoveExisting: p, handleRemoveSelectedFile: v, handleMapSelection: _, handleClose: m, handleModalClose: h, tAsString: g} = iQ({
                open: i,
                onClose: l,
                onSave: r,
                initialData: a
            });
            return (0,
            n.jsx)(t6.A, {
                open: i,
                onClose: h,
                "aria-labelledby": "hidden-item-modal-title",
                "aria-describedby": "hidden-item-modal-description",
                sx: i1,
                children: (0,
                n.jsxs)(t8.A, {
                    className: i0().container,
                    children: [(0,
                    n.jsxs)("div", {
                        className: i0().header,
                        children: [(0,
                        n.jsx)(ih.A, {
                            id: "hidden-item-modal-title",
                            variant: "h6",
                            component: "h2",
                            children: g((null == a ? void 0 : a.id) ? "Edit Hidden Item" : "Add Hidden Item")
                        }), (0,
                        n.jsx)(ig.A, {
                            onClick: m,
                            className: i0().closeButton,
                            disabled: o.loading,
                            children: "\xd7"
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: i0().content,
                        children: [d.status && (0,
                        n.jsx)(t8.A, {
                            sx: {
                                mb: 2,
                                p: 2,
                                backgroundColor: "#fee",
                                borderRadius: 1,
                                border: "1px solid #fcc"
                            },
                            children: (0,
                            n.jsx)(ih.A, {
                                color: "error",
                                variant: "body2",
                                children: d.status
                            })
                        }), (0,
                        n.jsx)(iI, {
                            formData: d.values,
                            onUpdateField: (e, t) => d.setFieldValue(e, t),
                            loading: o.loading,
                            errors: d.errors
                        }), (0,
                        n.jsx)(iS, {
                            mediaType: "images",
                            mediaState: s.images,
                            onFileSelect: u,
                            onRemoveExisting: p,
                            onRemoveSelectedFile: v,
                            loading: o.loading,
                            error: d.errors.imageUrls
                        }), (0,
                        n.jsx)(iS, {
                            mediaType: "videos",
                            mediaState: s.videos,
                            onFileSelect: u,
                            onRemoveExisting: p,
                            onRemoveSelectedFile: v,
                            loading: o.loading,
                            error: d.errors.videoUrls
                        }), (0,
                        n.jsx)(iW, {
                            formData: d.values,
                            mapModalOpen: o.mapModalOpen,
                            onOpenMap: () => c("mapModalOpen", !0),
                            onCloseMap: () => c("mapModalOpen", !1),
                            onLocationSelect: _,
                            loading: o.loading,
                            error: d.errors.location
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: i0().footer,
                        children: [(0,
                        n.jsx)(ig.A, {
                            onClick: m,
                            disabled: o.loading,
                            variant: "outlined",
                            children: g("Cancel")
                        }), (0,
                        n.jsx)(ig.A, {
                            onClick: () => d.handleSubmit(),
                            disabled: o.loading || !d.values.title.trim() || !(null === (t = d.values.location) || void 0 === t ? void 0 : t.trim()) || void 0 === d.values.latitude || void 0 === d.values.longitude,
                            variant: "contained",
                            color: "primary",
                            children: o.loading ? (0,
                            n.jsx)(ix.A, {
                                size: 20
                            }) : g("Save")
                        })]
                    })]
                })
            })
        }
          , i4 = e => {
            let {videoUrl: t, poster: i, video: r} = e
              , {tAsString: a} = (0,
            C.Ay)()
              , o = (0,
            l.useRef)(null)
              , [s,d] = (0,
            l.useState)(!1)
              , [c,u] = (0,
            l.useState)(!0);
            return (0,
            n.jsxs)("div", {
                style: {
                    position: "relative",
                    width: "100%",
                    height: "100%",
                    display: "block",
                    overflow: "hidden"
                },
                onMouseEnter: () => {
                    let e = o.current;
                    e && (d(!0),
                    e.play().catch( () => {}
                    ))
                }
                ,
                onMouseLeave: () => {
                    let e = o.current;
                    e && (d(!1),
                    e.pause(),
                    e.currentTime = 0)
                }
                ,
                children: [c && (0,
                n.jsx)(tB(), {
                    src: i,
                    alt: ( () => {
                        var e;
                        return (null == r ? void 0 : null === (e = r.seo) || void 0 === e ? void 0 : e.title) ? r.seo.title : (null == r ? void 0 : r.caption) ? r.caption : a("common.videoThumbnailAlt")
                    }
                    )(),
                    style: {
                        position: "absolute",
                        top: 0,
                        left: 0,
                        width: "100%",
                        height: "100%",
                        objectFit: "cover",
                        zIndex: s ? 1 : 2,
                        display: "block",
                        border: "none",
                        outline: "none"
                    },
                    onError: () => {
                        u(!1)
                    }
                }), (0,
                n.jsx)("video", {
                    ref: o,
                    src: t,
                    muted: !0,
                    loop: !0,
                    playsInline: !0,
                    preload: "metadata",
                    style: {
                        position: "absolute",
                        top: 0,
                        left: 0,
                        width: "100%",
                        height: "100%",
                        objectFit: "cover",
                        zIndex: c ? s ? 2 : 1 : 2,
                        display: "block",
                        border: "none",
                        outline: "none"
                    }
                })]
            })
        }
        ;
        var i5 = i(39641)
          , i8 = i(79899)
          , i6 = i(18054)
          , i9 = i(59473)
          , i3 = i(35666)
          , i7 = i.n(i3);
        let ne = e => {
            let {item: t, isOpen: i, onClose: r, onZoomToRecommendation: a} = e
              , {tAsString: o} = (0,
            C.Ay)()
              , [s,d] = (0,
            l.useState)(0);
            if ((0,
            l.useEffect)( () => {
                i && d(0)
            }
            , [i]),
            !i)
                return null;
            let c = [...[...(t.imageUrls || []).map(e => ({
                url: e,
                type: "image"
            }))].filter(e => e.url && "" !== e.url.trim()), ...[...(t.videoUrls || []).map(e => ({
                url: e,
                type: "video"
            }))].filter(e => e.url && "" !== e.url.trim())]
              , u = c.length;
            return (0,
            n.jsx)("div", {
                className: i7().modal_overlay,
                onClick: e => {
                    e.target === e.currentTarget && r()
                }
                ,
                children: (0,
                n.jsxs)("div", {
                    className: i7().modal_container,
                    children: [(0,
                    n.jsx)("button", {
                        className: i7().close_button,
                        onClick: r,
                        title: "Close",
                        children: (0,
                        n.jsx)(i5.A, {
                            fontSize: "small"
                        })
                    }), (0,
                    n.jsx)("div", {
                        className: i7().media_container,
                        children: c.length > 0 ? (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsxs)("div", {
                                className: i7().media_content,
                                children: [c.map( (e, i) => (0,
                                n.jsx)("div", {
                                    className: "".concat(i7().media_item, " ").concat(i === s ? i7().media_item_visible : i7().media_item_hidden),
                                    style: {
                                        pointerEvents: i === s ? "auto" : "none"
                                    },
                                    children: "image" === e.type ? (0,
                                    n.jsx)($.A, {
                                        src: e.url,
                                        alt: t.title,
                                        className: i7().media_image,
                                        width: 300,
                                        height: 200,
                                        onError: e => {
                                            let {currentTarget: t} = e;
                                            t.onerror = null,
                                            t.src = "/placeholder-image.jpg"
                                        }
                                    }) : (0,
                                    n.jsx)(i4, {
                                        videoUrl: e.url,
                                        poster: "/placeholder-image.jpg"
                                    })
                                }, i)), u > 1 && (0,
                                n.jsxs)("div", {
                                    className: i7().media_counter,
                                    children: [s + 1, " / ", u]
                                })]
                            }), u > 1 && (0,
                            n.jsxs)(n.Fragment, {
                                children: [(0,
                                n.jsx)(ig.A, {
                                    size: "small",
                                    onClick: e => {
                                        e.stopPropagation(),
                                        d(e => (e - 1 + u) % u)
                                    }
                                    ,
                                    sx: {
                                        position: "absolute",
                                        left: "8px",
                                        top: "50%",
                                        transform: "translateY(-50%)",
                                        minWidth: "32px",
                                        width: "32px",
                                        height: "32px",
                                        borderRadius: "50%",
                                        backgroundColor: "rgba(0, 0, 0, 0.6)",
                                        color: "white",
                                        zIndex: 20,
                                        "&:hover": {
                                            backgroundColor: "rgba(0, 0, 0, 0.8)"
                                        }
                                    },
                                    children: (0,
                                    n.jsx)(i6.A, {})
                                }), (0,
                                n.jsx)(ig.A, {
                                    size: "small",
                                    onClick: e => {
                                        e.stopPropagation(),
                                        d(e => (e + 1) % u)
                                    }
                                    ,
                                    sx: {
                                        position: "absolute",
                                        right: "8px",
                                        top: "50%",
                                        transform: "translateY(-50%)",
                                        minWidth: "32px",
                                        width: "32px",
                                        height: "32px",
                                        borderRadius: "50%",
                                        backgroundColor: "rgba(0, 0, 0, 0.6)",
                                        color: "white",
                                        zIndex: 20,
                                        "&:hover": {
                                            backgroundColor: "rgba(0, 0, 0, 0.8)"
                                        }
                                    },
                                    children: (0,
                                    n.jsx)(i9.A, {})
                                })]
                            })]
                        }) : (0,
                        n.jsxs)("div", {
                            className: i7().no_media_placeholder,
                            children: [(0,
                            n.jsx)("span", {
                                className: i7().no_media_icon,
                                children: "\uD83D\uDDBC️"
                            }), (0,
                            n.jsx)("span", {
                                className: i7().no_media_text,
                                children: o("tripRecommendations.noImage")
                            })]
                        })
                    }), (0,
                    n.jsxs)("div", {
                        className: i7().content_section,
                        children: [(0,
                        n.jsxs)("div", {
                            className: i7().header_section,
                            children: [(0,
                            n.jsx)("div", {
                                className: i7().type_icon,
                                children: ( () => {
                                    switch (t.type) {
                                    case eB.zp.RESTAURANT:
                                        return "\uD83C\uDF7D️";
                                    case eB.zp.PLACE:
                                        return "\uD83D\uDCCD";
                                    case eB.zp.CONTACT:
                                        return "\uD83D\uDC64";
                                    case eB.zp.OTHER:
                                    default:
                                        return "✨"
                                    }
                                }
                                )()
                            }), (0,
                            n.jsx)("h3", {
                                className: i7().title,
                                children: t.title
                            })]
                        }), t.description && (0,
                        n.jsx)("p", {
                            className: i7().description,
                            children: t.description
                        }), (0,
                        n.jsx)("div", {
                            className: i7().actions_section,
                            children: t.latitude && t.longitude && a && (0,
                            n.jsxs)("button", {
                                onClick: e => {
                                    e.stopPropagation(),
                                    t.latitude && t.longitude && a && (a(t),
                                    r())
                                }
                                ,
                                className: i7().zoom_button,
                                title: "View on map",
                                children: [(0,
                                n.jsx)(i8.A, {
                                    fontSize: "small"
                                }), (0,
                                n.jsx)("span", {
                                    children: o("tripRecommendations.viewOnMap")
                                })]
                            })
                        })]
                    })]
                })
            })
        }
          , nt = e => {
            let {isOpen: t, item: i, onConfirm: l, onCancel: r} = e
              , {tAsString: a} = (0,
            C.Ay)();
            return t ? (0,
            n.jsx)(t6.A, {
                open: t,
                onClose: e => {
                    e && "object" == typeof e && "preventDefault"in e && e.preventDefault(),
                    e && "object" == typeof e && "stopPropagation"in e && e.stopPropagation(),
                    r()
                }
                ,
                "aria-labelledby": "delete-confirmation-title",
                "aria-describedby": "delete-confirmation-description",
                children: (0,
                n.jsxs)(t8.A, {
                    sx: {
                        position: "absolute",
                        top: "50%",
                        left: "50%",
                        transform: "translate(-50%, -50%)",
                        width: 400,
                        bgcolor: "background.paper",
                        borderRadius: 2,
                        boxShadow: 24,
                        p: 4
                    },
                    onClick: e => {
                        e.preventDefault(),
                        e.stopPropagation()
                    }
                    ,
                    children: [(0,
                    n.jsx)(ih.A, {
                        id: "delete-confirmation-title",
                        variant: "h6",
                        component: "h2",
                        gutterBottom: !0,
                        children: a("tripRecommendations.deleteRecommendation")
                    }), (0,
                    n.jsxs)(ih.A, {
                        id: "delete-confirmation-description",
                        sx: {
                            mt: 2,
                            mb: 3
                        },
                        children: [a("tripRecommendations.confirmDeleteMessage"), ' "', i.title, '"?', " ", a("tripRecommendations.actionCannotBeUndone")]
                    }), (0,
                    n.jsxs)(t8.A, {
                        sx: {
                            display: "flex",
                            gap: 2,
                            justifyContent: "flex-end"
                        },
                        children: [(0,
                        n.jsx)(ig.A, {
                            onClick: e => {
                                null == e || e.preventDefault(),
                                null == e || e.stopPropagation(),
                                r(e)
                            }
                            ,
                            variant: "outlined",
                            children: a("cancel")
                        }), (0,
                        n.jsx)(ig.A, {
                            onClick: e => {
                                null == e || e.preventDefault(),
                                null == e || e.stopPropagation(),
                                l(e)
                            }
                            ,
                            variant: "contained",
                            color: "error",
                            children: a("delete")
                        })]
                    })]
                })
            }) : (0,
            n.jsx)(n.Fragment, {})
        }
        ;
        var ni = i(3244)
          , nn = i.n(ni);
        let nl = e => {
            let {item: t, onHiddenItemClick: i, onPreviewItemClick: r, isCreatorMode: a=!1, onZoomToRecommendation: o, onDeleteItem: s} = e
              , {tAsString: d} = (0,
            C.Ay)()
              , [c,u] = (0,
            l.useState)(!1)
              , p = t.imageUrls && t.imageUrls.length > 0 ? t.imageUrls[0] : null
              , v = t.videoUrls && t.videoUrls.length > 0 ? t.videoUrls[0] : null
              , _ = t.latitude && t.longitude
              , m = !_
              , h = a && i || !a && r;
            return (0,
            n.jsxs)("div", {
                className: "".concat(nn().card_item, " ").concat(m && a ? nn().hidden : ""),
                onClick: () => {
                    a && i ? i(t) : !a && r && r(t)
                }
                ,
                style: {
                    cursor: h ? "pointer" : "default"
                },
                children: [(0,
                n.jsxs)("div", {
                    className: nn().card_media,
                    children: [a && _ && (0,
                    n.jsx)("button", {
                        className: nn().delete_button,
                        onClick: e => {
                            e.stopPropagation(),
                            u(!0)
                        }
                        ,
                        title: d("tripRecommendations.deleteThisItem"),
                        children: (0,
                        n.jsx)(i5.A, {
                            fontSize: "small"
                        })
                    }), p ? (0,
                    n.jsx)("div", {
                        className: nn().card_image_container,
                        children: (0,
                        n.jsx)($.A, {
                            progressive: !_,
                            src: p,
                            alt: t.title,
                            className: nn().card_image,
                            width: 200,
                            height: 150,
                            onError: e => {
                                let {currentTarget: t} = e;
                                t.onerror = null,
                                t.src = "/placeholder-image.jpg"
                            }
                        })
                    }) : v ? (0,
                    n.jsx)(i4, {
                        videoUrl: v,
                        poster: "/placeholder-image.jpg"
                    }) : (0,
                    n.jsx)("div", {
                        className: nn().card_image_container,
                        children: (0,
                        n.jsxs)("div", {
                            className: nn().card_image_placeholder,
                            children: [(0,
                            n.jsx)("span", {
                                className: nn().placeholder_icon,
                                children: "\uD83D\uDDBC️"
                            }), (0,
                            n.jsx)("span", {
                                className: nn().placeholder_text,
                                children: d("tripRecommendations.noImage")
                            })]
                        })
                    })]
                }), (0,
                n.jsxs)("div", {
                    className: nn().card_content,
                    children: [(0,
                    n.jsx)("div", {
                        className: nn().card_type,
                        children: (0,
                        n.jsx)("span", {
                            className: nn().type_icon,
                            children: ( () => {
                                switch (t.type) {
                                case eB.zp.RESTAURANT:
                                    return "\uD83C\uDF7D️";
                                case eB.zp.PLACE:
                                    return "\uD83D\uDCCD";
                                case eB.zp.CONTACT:
                                    return "\uD83D\uDC64";
                                case eB.zp.OTHER:
                                default:
                                    return "✨"
                                }
                            }
                            )()
                        })
                    }), (0,
                    n.jsx)("h4", {
                        className: nn().card_title,
                        children: t.title
                    }), t.latitude && t.longitude && o && (0,
                    n.jsxs)("button", {
                        onClick: e => {
                            e.stopPropagation(),
                            t.latitude && t.longitude && o && o(t)
                        }
                        ,
                        className: nn().zoom_button,
                        title: d("tripRecommendations.zoomToLocation"),
                        children: ["\uD83D\uDCCD ", d("tripRecommendations.viewOnMap")]
                    })]
                }), (0,
                n.jsx)(nt, {
                    isOpen: c,
                    item: t,
                    onConfirm: e => {
                        null == e || e.preventDefault(),
                        null == e || e.stopPropagation(),
                        s && s(t),
                        u(!1),
                        setTimeout( () => {}
                        , 100)
                    }
                    ,
                    onCancel: e => {
                        null == e || e.preventDefault(),
                        null == e || e.stopPropagation(),
                        u(!1),
                        setTimeout( () => {}
                        , 100)
                    }
                })]
            })
        }
        ;
        var nr = i(28450);
        let na = [{
            id: "1",
            title: "Hidden Local Caf\xe9",
            type: eB.zp.RESTAURANT
        }, {
            id: "2",
            title: "Scenic Viewpoint",
            type: eB.zp.PLACE
        }, {
            id: "3",
            title: "Local Tour Guide",
            type: eB.zp.CONTACT
        }, {
            id: "4",
            title: "Artisan Market",
            type: eB.zp.PLACE
        }, {
            id: "5",
            title: "Traditional Restaurant",
            type: eB.zp.RESTAURANT
        }]
          , no = e => {
            let {trip: t, recommendations: i=[], onSaveHiddenItem: r, onZoomToRecommendation: a, onDeleteHiddenItem: s} = e
              , {tAsString: d} = (0,
            C.Ay)()
              , c = (0,
            o.useRouter)()
              , u = (0,
            l.useRef)(null)
              , [p,v] = (0,
            l.useState)(!1)
              , [_,m] = (0,
            l.useState)(null)
              , [h,g] = (0,
            l.useState)(!1)
              , [f,x] = (0,
            l.useState)(null)
              , y = c.pathname.includes("/creator")
              , b = y ? [...i, ...na] : [...i.filter(e => {
                let t = e.latitude && e.longitude;
                return e.title && "" !== e.title.trim() && t
            }
            )];
            if (!b || 0 === b.length)
                return null;
            let j = e => {
                m(e),
                v(!0)
            }
              , w = e => {
                x(e),
                g(!0)
            }
              , A = async (e, t, n) => {
                if (r) {
                    let l = _ && i.some(e => e.id === _.id) ? _ : void 0;
                    await r(e, t, n, l)
                }
                v(!1),
                m(null)
            }
              , I = async e => {
                try {
                    if (!(null == e ? void 0 : e.id))
                        return;
                    s ? await s(e.id) : await (0,
                    nr.M)(t.id, e.id)
                } catch (e) {
                    console.error("Error deleting hidden item:", e)
                }
            }
            ;
            return (0,
            n.jsxs)("div", {
                className: nn().container,
                children: [(0,
                n.jsxs)("div", {
                    className: nn().header,
                    children: [(0,
                    n.jsx)("h3", {
                        className: nn().title,
                        children: d("homepage.v3.sections.moreToExplore.title")
                    }), (0,
                    n.jsx)("p", {
                        className: nn().description,
                        children: d("homepage.v3.sections.moreToExplore.description")
                    })]
                }), (0,
                n.jsx)(tk.Af, {
                    strategy: "center",
                    scrollRef: u,
                    children: (0,
                    n.jsx)(im.A, {
                        ref: u,
                        padding: "16px",
                        children: b.map(e => (0,
                        n.jsx)(nl, {
                            item: e,
                            onHiddenItemClick: y ? j : void 0,
                            onPreviewItemClick: y ? void 0 : w,
                            isCreatorMode: y,
                            onZoomToRecommendation: a,
                            onDeleteItem: I
                        }, e.id))
                    })
                }), y && (0,
                n.jsx)(i2, {
                    open: p,
                    onClose: () => {
                        v(!1),
                        m(null)
                    }
                    ,
                    onSave: A,
                    initialData: _ || void 0
                }), !y && f && (0,
                n.jsx)(ne, {
                    item: f,
                    isOpen: h,
                    onClose: () => {
                        g(!1),
                        x(null)
                    }
                    ,
                    onZoomToRecommendation: a
                })]
            })
        }
        ;
        var ns = i(65068)
          , nd = i(93113)
          , nc = i.n(nd)
          , nu = i(55925);
        let np = e => {
            let {headerTitle: t, preloadedContent: i, shouldLoad: r} = e
              , {tAsString: a} = (0,
            C.Ay)()
              , o = (0,
            p.A)()
              , s = (0,
            nu.xi)()
              , {user: d} = (0,
            m.A)()
              , [c,u] = (0,
            l.useState)([])
              , v = (null == i ? void 0 : i.length) > 0 ? i : c
              , _ = e => {
                o({
                    event: "PlanClick",
                    data: {
                        title: (0,
                        eV.ON)(e, !1)
                    }
                })
            }
              , h = (e, t) => {
                e.preventDefault(),
                e.stopPropagation(),
                _(t),
                window.open(e.currentTarget.href, window.navigator.userAgent.includes("iPhone;") ? "_self" : "_blank")
            }
            ;
            return (0,
            l.useEffect)( () => {
                (null == d ? void 0 : d.uid) && !(i.length > 0) && r && (0,
                f.UC)("homepage_configs/default").then(e => {
                    var t;
                    let i = null == e ? void 0 : e.config
                      , n = null == i ? void 0 : null === (t = i.footer) || void 0 === t ? void 0 : t.plans;
                    n ? u(n.map(e => {
                        var t;
                        return {
                            text: null !== (t = s(e.title)) && void 0 !== t ? t : "",
                            url: e.url
                        }
                    }
                    )) : u([{
                        text: a("homepage.footer.planLinks.couple"),
                        url: "/plan/couple-trip-planner"
                    }, {
                        text: a("homepage.footer.planLinks.family"),
                        url: "/plan/family-vacation-trip-planner"
                    }])
                }
                )
            }
            , [i, r, null == d ? void 0 : d.uid]),
            (null == v ? void 0 : v.length) > 0 && (0,
            n.jsxs)("div", {
                className: nc().container,
                children: [(0,
                n.jsx)("h2", {
                    children: t
                }), (0,
                n.jsx)("div", {
                    className: nc().links_wrapper,
                    children: v.map( (e, t) => {
                        let {text: i, url: l} = e;
                        return (0,
                        n.jsxs)("div", {
                            className: nc().link_inline,
                            children: [(0,
                            n.jsx)(e0(), {
                                onClick: e => h(e, i),
                                href: l,
                                "aria-label": i,
                                prefetch: !1,
                                children: i
                            }), t + 1 < v.length && (0,
                            n.jsx)("div", {
                                className: nc().dot
                            })]
                        }, t)
                    }
                    )
                })]
            })
        }
        ;
        var nv = i(10146)
          , n_ = i(38144)
          , nm = i(76897)
          , nh = i(45703)
          , ng = i.n(nh)
          , nf = i(29362)
          , nx = i(4029)
          , ny = i(33275)
          , nb = i(20265);
        let nj = function(e) {
            let {slide: t, visibleDaysCount: i, scrollToIndex: r} = e
              , {tAsString: a} = (0,
            C.Ay)()
              , {isMobile: o} = (0,
            c.U)()
              , s = (0,
            l.useRef)(null)
              , d = (0,
            l.useRef)(null)
              , [u,p] = (0,
            l.useState)("1fr")
              , [v,_] = (0,
            l.useState)("auto")
              , m = t.days
              , h = t.accommodationSpans
              , g = t.citySpans;
            (0,
            l.useEffect)( () => {
                if (s.current && d.current) {
                    var e;
                    let t = s.current.offsetWidth
                      , n = (((null === (e = d.current.parentElement) || void 0 === e ? void 0 : e.offsetWidth) || 0) - t) / i
                      , l = t + n * i;
                    p("".concat(n, "px")),
                    _("".concat(l, "px"))
                }
            }
            , [i]),
            (0,
            l.useEffect)( () => {
                if (!d.current)
                    return;
                let e = parseFloat(u);
                isNaN(e) || d.current.scrollTo({
                    left: r * e,
                    behavior: "smooth"
                })
            }
            , [r, u]);
            let f = "auto ".concat(Array(m.length).fill(u).join(" "));
            return (0,
            n.jsx)("div", {
                className: "w-full",
                children: (0,
                n.jsx)("div", {
                    className: "border-2 border-black rounded-md overflow-hidden w-[".concat(v, "]"),
                    children: (0,
                    n.jsxs)("div", {
                        ref: d,
                        style: {
                            scrollbarWidth: "none",
                            msOverflowStyle: "none"
                        },
                        className: "jsx-c2def58941a14be3 overflow-x-auto",
                        children: [(0,
                        n.jsx)(ng(), {
                            id: "c2def58941a14be3",
                            children: "div.jsx-c2def58941a14be3::-webkit-scrollbar{display:none}"
                        }), (0,
                        n.jsxs)("div", {
                            style: {
                                gridTemplateColumns: f,
                                gridTemplateRows: "auto auto auto auto auto"
                            },
                            className: "jsx-c2def58941a14be3 grid w-min",
                            children: [(0,
                            n.jsx)("div", {
                                ref: s,
                                className: "jsx-c2def58941a14be3 border-r border-b border-foreground px-4.5 py-3 md:!px-3.5 whitespace-nowrap w-[53px] md:w-auto bg-turquoise-100 sticky left-0 z-10"
                            }), m.map( (e, t) => (0,
                            n.jsx)("div", {
                                className: "jsx-c2def58941a14be3 " + "border-b border-foreground p-2 text-center text-sm font-semibold text-foreground bg-turquoise-100 ".concat(t < m.length - 1 ? "border-r" : ""),
                                children: (0,
                                n.jsxs)("div", {
                                    className: "jsx-c2def58941a14be3 truncate",
                                    children: [e.data.dayOfWeek, " ", e.data.dayOfMonth]
                                })
                            }, e.absoluteIndex)), (0,
                            n.jsx)("div", {
                                className: "jsx-c2def58941a14be3 border-r border-b border-foreground text-xs text-foreground font-medium bg-turquoise-100 whitespace-nowrap sticky left-0 z-10",
                                children: (0,
                                n.jsxs)("div", {
                                    className: "jsx-c2def58941a14be3 flex items-center md:gap-2 px-4.5 py-3 md:!px-3.5",
                                    children: [(0,
                                    n.jsx)(nf.A, {
                                        size: 16
                                    }), !o && (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3",
                                        children: a("trip.pdf.accommodation")
                                    })]
                                })
                            }), m.map( (e, t) => {
                                let i = o ? h.find(e => t >= e.dayIndex && t < e.dayIndex + e.colSpan) : h.find(e => e.dayIndex === t);
                                if (!o && !i && h.some(e => t > e.dayIndex && t < e.dayIndex + e.colSpan))
                                    return null;
                                let l = !o && i ? t + i.colSpan >= m.length : t === m.length - 1;
                                return (0,
                                n.jsx)("div", {
                                    style: !o && i && i.colSpan > 1 ? {
                                        gridColumn: "span ".concat(i.colSpan)
                                    } : void 0,
                                    className: "jsx-c2def58941a14be3 " + "border-b border-foreground p-2 text-sm text-center text-foreground ".concat(l ? "" : "border-r"),
                                    children: (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3 block truncate",
                                        children: (null == i ? void 0 : i.name) || "-"
                                    })
                                }, e.absoluteIndex)
                            }
                            ), (0,
                            n.jsx)("div", {
                                className: "jsx-c2def58941a14be3 border-r border-b border-foreground text-xs text-foreground font-medium bg-turquoise-100 whitespace-nowrap sticky left-0 z-10",
                                children: (0,
                                n.jsxs)("div", {
                                    className: "jsx-c2def58941a14be3 flex items-center md:gap-2 px-4.5 py-3 md:!px-3.5",
                                    children: [(0,
                                    n.jsx)(nx.A, {
                                        size: 16
                                    }), !o && (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3",
                                        children: a("trip.cities")
                                    })]
                                })
                            }), m.map( (e, t) => {
                                let i = o ? g.find(e => t >= e.dayIndex && t < e.dayIndex + e.colSpan) : g.find(e => e.dayIndex === t);
                                if (!o && !i && g.some(e => t > e.dayIndex && t < e.dayIndex + e.colSpan))
                                    return null;
                                let l = !o && i ? t + i.colSpan >= m.length : t === m.length - 1;
                                return (0,
                                n.jsx)("div", {
                                    style: !o && i && i.colSpan > 1 ? {
                                        gridColumn: "span ".concat(i.colSpan)
                                    } : void 0,
                                    className: "jsx-c2def58941a14be3 " + "border-b border-foreground p-2 text-sm text-center text-foreground ".concat(l ? "" : "border-r"),
                                    children: (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3 block truncate",
                                        children: (null == i ? void 0 : i.name) || "-"
                                    })
                                }, e.absoluteIndex)
                            }
                            ), (0,
                            n.jsx)("div", {
                                className: "jsx-c2def58941a14be3 border-r border-b border-foreground text-xs text-foreground font-medium bg-turquoise-100 whitespace-nowrap sticky left-0 z-10",
                                children: (0,
                                n.jsxs)("div", {
                                    className: "jsx-c2def58941a14be3 flex items-center md:gap-2 px-4.5 py-3 md:!px-3.5",
                                    children: [(0,
                                    n.jsx)(ny.A, {
                                        size: 16
                                    }), !o && (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3",
                                        children: a("trip.transportation")
                                    })]
                                })
                            }), m.map( (e, t) => {
                                let i = e.data.transportation;
                                return (0,
                                n.jsx)("div", {
                                    className: "jsx-c2def58941a14be3 " + "border-b border-foreground p-2 text-sm text-center text-foreground ".concat(t < m.length - 1 ? "border-r" : ""),
                                    children: i.length > 0 ? (0,
                                    n.jsx)("div", {
                                        className: "jsx-c2def58941a14be3 flex flex-col gap-1",
                                        children: i.map( (e, t) => (0,
                                        n.jsx)("span", {
                                            className: "jsx-c2def58941a14be3 capitalize block truncate",
                                            children: e
                                        }, t))
                                    }) : (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3",
                                        children: "-"
                                    })
                                }, e.absoluteIndex)
                            }
                            ), (0,
                            n.jsx)("div", {
                                className: "jsx-c2def58941a14be3 border-r border-foreground text-xs text-foreground font-medium bg-turquoise-100 whitespace-nowrap sticky left-0 z-10",
                                children: (0,
                                n.jsxs)("div", {
                                    className: "jsx-c2def58941a14be3 flex items-center md:gap-2 px-4.5 py-3 md:!px-3.5",
                                    children: [(0,
                                    n.jsx)(nb.A, {
                                        size: 16
                                    }), !o && (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3",
                                        children: a("trip.breadcrumb.activities")
                                    })]
                                })
                            }), m.map( (e, t) => {
                                let i = e.data.activitiesAndAttractions;
                                return (0,
                                n.jsx)("div", {
                                    className: "jsx-c2def58941a14be3 " + "border-foreground p-2 text-sm ".concat(i.length > 0 ? "text-left" : "text-center", " text-foreground ").concat(t < m.length - 1 ? "border-r" : ""),
                                    children: i.length > 0 ? (0,
                                    n.jsx)("ul", {
                                        className: "jsx-c2def58941a14be3 list-disc list-inside space-y-1 text-left",
                                        children: i.map( (e, t) => (0,
                                        n.jsx)("li", {
                                            className: "jsx-c2def58941a14be3 text-sm truncate",
                                            children: e
                                        }, t))
                                    }) : (0,
                                    n.jsx)("span", {
                                        className: "jsx-c2def58941a14be3",
                                        children: "-"
                                    })
                                }, e.absoluteIndex)
                            }
                            )]
                        })]
                    })
                })
            })
        };
        function nw(e, t, i, n) {
            var l, r, a, o, s, d, c, u, p, v, _, m;
            if (0 === i.length)
                return null;
            let h = (null == t ? void 0 : null === (r = t.location) || void 0 === r ? void 0 : null === (l = r.split(", ")) || void 0 === l ? void 0 : l[0]) || (null == t ? void 0 : null === (a = t.destination) || void 0 === a ? void 0 : a.city) || ""
              , g = (null === (s = e.location) || void 0 === s ? void 0 : null === (o = s.split(", ")) || void 0 === o ? void 0 : o[0]) || (null === (d = e.destination) || void 0 === d ? void 0 : d.city) || ""
              , f = (0,
            ee.Ay)(i, n)
              , x = (null == e ? void 0 : e.preferredTransportMode) === "flight" && (null === (p = i[0].details) || void 0 === p ? void 0 : null === (u = p.carriers) || void 0 === u ? void 0 : null === (c = u[0]) || void 0 === c ? void 0 : c.name) && (null === (m = i[0].details) || void 0 === m ? void 0 : null === (_ = m.segments) || void 0 === _ ? void 0 : null === (v = _[0]) || void 0 === v ? void 0 : v.departureTime) ? "\n".concat(i[0].details.carriers[0].name, " ").concat((0,
            ew.pQ)(i[0].details.segments[0].departureTime)) : "";
            return "".concat(h, " - ").concat(g, " (").concat(f, ")").concat(x)
        }
        function nA(e, t, i, n) {
            var l, r, a, o, s, d, c, u, p, v, _, m;
            if (0 === i.length)
                return null;
            let h = (null === (r = e.location) || void 0 === r ? void 0 : null === (l = r.split(", ")) || void 0 === l ? void 0 : l[0]) || (null === (a = e.destination) || void 0 === a ? void 0 : a.city) || ""
              , g = (null == t ? void 0 : null === (s = t.location) || void 0 === s ? void 0 : null === (o = s.split(", ")) || void 0 === o ? void 0 : o[0]) || (null == t ? void 0 : null === (d = t.destination) || void 0 === d ? void 0 : d.city) || ""
              , f = (0,
            ee.Ay)(i, n)
              , x = (null == t ? void 0 : t.preferredTransportMode) === "flight" && (null === (p = i[0].details) || void 0 === p ? void 0 : null === (u = p.carriers) || void 0 === u ? void 0 : null === (c = u[0]) || void 0 === c ? void 0 : c.name) && (null === (m = i[0].details) || void 0 === m ? void 0 : null === (_ = m.segments) || void 0 === _ ? void 0 : null === (v = _[0]) || void 0 === v ? void 0 : v.departureTime) ? "\n".concat(i[0].details.carriers[0].name, " ").concat((0,
            ew.pQ)(i[0].details.segments[0].departureTime)) : "";
            return "".concat(h, " - ").concat(g, " (").concat(f, ")").concat(x)
        }
        function nI(e, t, i, n) {
            var l;
            let r = e.carRental;
            if (!(null == r ? void 0 : null === (l = r.carRentals) || void 0 === l ? void 0 : l[0]))
                return null;
            let a = r.pickUpLegIndex === t && i === r.carRentals[0].pickUpDate
              , o = r.dropOffLegIndex === t && i === r.carRentals[0].dropOffDate;
            return a || o ? n(a ? "carRental.carRentalPickUp" : "carRental.carRentalDropOff") : null
        }
        function nC(e) {
            return "type"in e && "poi" === e.type
        }
        var nN = i(47854)
          , nT = i.n(nN);
        let nk = function(e) {
            let {open: t, onClose: i, trip: a, trimmedLegs: o} = e
              , {tAsString: s} = (0,
            C.Ay)()
              , {isMobile: d} = (0,
            c.U)()
              , [u,p] = (0,
            l.useState)(0)
              , {slide: v, totalDays: _, dateRange: m} = function(e) {
                let {trip: t, trimmedLegs: i} = e
                  , {tAsString: n} = (0,
                C.Ay)()
                  , {getSelectedLegRoute: a, tripLegTransferList: o, tripActivities: s, tripAttractions: d} = (0,
                h.y)()
                  , c = (null == t ? void 0 : t.version) === eB.sG.V2
                  , u = (0,
                l.useMemo)( () => 0 === i.length ? [] : i.map( (e, l) => {
                    var u, p, v, _;
                    let m = {}
                      , h = t.legs.findIndex(t => e === t)
                      , g = h > 0 ? t.legs[h - 1] : null
                      , f = t.legs.length - 1
                      , x = t.legs[f]
                      , y = l === i.length - 1;
                    if (c) {
                        let i = (null === (u = e.days) || void 0 === u ? void 0 : u.length) || e.endDay - e.startDay + 1
                          , c = (0,
                        r.cf)(e.startDate, i);
                        for (let r = 0; r < i; r++) {
                            let u = c[r]
                              , p = tZ.c9.fromISO(u)
                              , v = r === i - 1
                              , _ = [...function(e, t, i, n) {
                                var l, r;
                                if (null == i ? void 0 : null === (l = i[n]) || void 0 === l ? void 0 : l[t])
                                    return i[n][t];
                                let a = null === (r = e.days) || void 0 === r ? void 0 : r[t];
                                return a ? a.items.filter(e => e.type === eB.Mr.ACTIVITY) : []
                            }(e, r, s, l), ...function(e, t, i, n) {
                                var l, r;
                                if (null == i ? void 0 : null === (l = i[n]) || void 0 === l ? void 0 : l[t])
                                    return i[n][t];
                                let a = null === (r = e.days) || void 0 === r ? void 0 : r[t];
                                return a ? a.items.filter(e => e.type === eB.VY.ATTRACTION || e.type === eB.Mr.ATTRACTION) : []
                            }(e, r, d, l)]
                              , b = {
                                date: p,
                                dayOfWeek: p.toFormat("EEE"),
                                dayOfMonth: p.toFormat("dd"),
                                transportation: [],
                                activitiesAndAttractions: [],
                                city: e.location
                            }
                              , j = null == a ? void 0 : a(h)
                              , w = (0,
                            ee.Di)(j);
                            if (0 === r && 0 === r && j && e !== g) {
                                let t = nw(e, g, w, n);
                                t && t.split("\n").forEach(e => b.transportation.push(e))
                            }
                            let A = null == a ? void 0 : a(f)
                              , I = (0,
                            ee.Di)(A);
                            if (v && y && e !== x) {
                                let t = nA(e, x, I, n);
                                t && t.split("\n").forEach(e => b.transportation.push(e))
                            }
                            let C = nI(t, h, u, n);
                            C && b.transportation.push(C);
                            let N = !!(null == o ? void 0 : o[h]);
                            if (0 === r && N) {
                                let e = null == o ? void 0 : o[h];
                                e && b.transportation.push(e.name)
                            }
                            _.forEach(e => {
                                !nC(e) && e.name && b.activitiesAndAttractions.push(e.name)
                            }
                            ),
                            m[r] = b
                        }
                    } else {
                        let i = null !== (_ = null === (p = e.itinerary) || void 0 === p ? void 0 : p.length) && void 0 !== _ ? _ : 0
                          , c = (0,
                        r.cf)(e.startDate, i);
                        null === (v = e.itinerary) || void 0 === v || v.forEach( (i, r) => {
                            var u, p;
                            let v = c[r]
                              , _ = tZ.c9.fromISO(v)
                              , b = r === (null !== (p = null === (u = e.itinerary) || void 0 === u ? void 0 : u.length) && void 0 !== p ? p : 0) - 1
                              , j = [...function(e, t, i, n) {
                                var l, r, a;
                                if (null == i ? void 0 : null === (l = i[n]) || void 0 === l ? void 0 : l[t])
                                    return i[n][t];
                                let o = null === (r = e.itinerary) || void 0 === r ? void 0 : r[t];
                                if (!(null == o ? void 0 : o.description) && !(null == o ? void 0 : o.note))
                                    return [];
                                if (null === (a = e.selectedActivities) || void 0 === a ? void 0 : a.length) {
                                    let t = [...(0,
                                    eV.M4)(o.description || ""), ...(0,
                                    eV.M4)(o.note || "")];
                                    return e.selectedActivities.filter(e => t.includes(String(e.id)))
                                }
                                return []
                            }(e, r, s, l), ...function(e, t, i, n) {
                                var l, r, a, o;
                                if (null == i ? void 0 : null === (l = i[n]) || void 0 === l ? void 0 : l[t])
                                    return i[n][t];
                                let s = null === (r = e.itinerary) || void 0 === r ? void 0 : r[t];
                                if (!(null == s ? void 0 : s.description))
                                    return [];
                                if (null === (a = e.selectedAttractions) || void 0 === a ? void 0 : a.length) {
                                    let t = (0,
                                    tg.ab)(e.selectedAttractions)
                                      , i = (0,
                                    eV.M4)(s.description);
                                    return t.filter(e => i.includes(String(e.id)))
                                }
                                return (null === (o = e.attractions) || void 0 === o ? void 0 : o.length) ? (0,
                                tg.Zl)(s.description, e.attractions) : []
                            }(e, r, d, l)]
                              , w = {
                                date: _,
                                dayOfWeek: _.toFormat("EEE"),
                                dayOfMonth: _.toFormat("dd"),
                                transportation: [],
                                activitiesAndAttractions: [],
                                city: e.location
                            }
                              , A = null == a ? void 0 : a(h)
                              , I = (0,
                            ee.Di)(A);
                            if (0 === r && 0 === r && A && e !== g) {
                                let t = nw(e, g, I, n);
                                t && t.split("\n").forEach(e => w.transportation.push(e))
                            }
                            let C = null == a ? void 0 : a(f)
                              , N = (0,
                            ee.Di)(C);
                            if (b && y && e !== x) {
                                let t = nA(e, x, N, n);
                                t && t.split("\n").forEach(e => w.transportation.push(e))
                            }
                            let T = nI(t, h, v, n);
                            T && w.transportation.push(T);
                            let k = !!(null == o ? void 0 : o[h]);
                            if (0 === r && k) {
                                let e = null == o ? void 0 : o[h];
                                e && w.transportation.push(e.name)
                            }
                            j.forEach(e => {
                                !nC(e) && e.name && w.activitiesAndAttractions.push(e.name)
                            }
                            ),
                            m[r] = w
                        }
                        )
                    }
                    return {
                        accommodation: e.selectedHotel && !e.skipHotel ? e.selectedHotel.name : void 0,
                        days: m
                    }
                }
                ), [i, t, a, o, s, d, n, c])
                  , p = (0,
                l.useMemo)( () => {
                    if (0 === i.length)
                        return "";
                    let e = tZ.c9.fromISO(i[0].startDate)
                      , t = tZ.c9.fromISO(i[i.length - 1].endDate)
                      , n = e.toFormat("MMM")
                      , l = t.toFormat("MMM")
                      , r = t.toFormat("yyyy");
                    return n === l ? "".concat(n, " ").concat(r) : "".concat(n, "-").concat(l, " ").concat(r)
                }
                , [i])
                  , v = (0,
                l.useMemo)( () => {
                    let e = []
                      , t = 0;
                    return u.forEach( (i, n) => {
                        Object.entries(i.days).forEach(i => {
                            let[l,r] = i
                              , a = Number(l)
                              , o = r.date.toISODate()
                              , s = e[e.length - 1];
                            if (s && s.data.date.toISODate() === o) {
                                let e = [...s.data.transportation, ...r.transportation]
                                  , t = [...s.data.activitiesAndAttractions, ...r.activitiesAndAttractions];
                                s.data.transportation = e,
                                s.data.activitiesAndAttractions = t
                            } else
                                e.push({
                                    absoluteIndex: t,
                                    legIndex: n,
                                    dayIndexInLeg: a,
                                    data: r
                                }),
                                t++
                        }
                        )
                    }
                    ),
                    e
                }
                , [u]);
                return {
                    slide: (0,
                    l.useMemo)( () => 0 === v.length ? null : {
                        days: v,
                        accommodationSpans: ( () => {
                            let e = [];
                            return v.forEach( (t, i) => {
                                let n = u[t.legIndex]
                                  , l = null == n ? void 0 : n.accommodation;
                                if (l && (0 === i || u[v[i - 1].legIndex] !== n)) {
                                    let t = 1;
                                    for (let e = i + 1; e < v.length; e++)
                                        if (u[v[e].legIndex] === n)
                                            t++;
                                        else
                                            break;
                                    e.push({
                                        dayIndex: i,
                                        name: l,
                                        colSpan: t
                                    })
                                }
                            }
                            ),
                            e
                        }
                        )(),
                        citySpans: ( () => {
                            let e = [];
                            return v.forEach( (t, i) => {
                                let n = t.data.city;
                                if (n && (0 === i || v[i - 1].data.city !== n)) {
                                    let t = 1;
                                    for (let e = i + 1; e < v.length; e++)
                                        if (v[e].data.city === n)
                                            t++;
                                        else
                                            break;
                                    e.push({
                                        dayIndex: i,
                                        name: n,
                                        colSpan: t
                                    })
                                }
                            }
                            ),
                            e
                        }
                        )()
                    }, [v, u]),
                    totalDays: v.length,
                    dateRange: p
                }
            }({
                trip: a,
                trimmedLegs: o
            })
              , g = Math.min(d ? 1 : 6, _);
            if (!v || 0 === _)
                return null;
            let f = () => {
                p(e => Math.max(0, e - 1))
            }
              , x = () => {
                p(e => Math.min(_ - g, e + 1))
            }
              , y = u > 0
              , b = u < _ - g;
            return (0,
            n.jsx)(t6.A, {
                open: t,
                onClose: i,
                children: (0,
                n.jsxs)("div", {
                    className: "absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[calc(100%-32px)] md:w-[90vw] max-w-[1200px] max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col p-6",
                    children: [(0,
                    n.jsxs)("div", {
                        className: "hidden md:!flex items-center justify-between py-6",
                        children: [(0,
                        n.jsxs)("div", {
                            className: "flex items-center gap-4 text-2xl font-medium text-foreground",
                            children: [(0,
                            n.jsx)("span", {
                                children: s("trip.quickview")
                            }), (0,
                            n.jsxs)("div", {
                                className: "flex items-center",
                                children: [(0,
                                n.jsx)(ic.$, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: f,
                                    disabled: !y,
                                    "aria-label": "Previous day",
                                    children: (0,
                                    n.jsx)(A.A, {
                                        size: 16
                                    })
                                }), (0,
                                n.jsx)(ic.$, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: x,
                                    disabled: !b,
                                    "aria-label": "Next day",
                                    children: (0,
                                    n.jsx)(I.A, {
                                        size: 16
                                    })
                                })]
                            }), (0,
                            n.jsx)("span", {
                                children: m
                            })]
                        }), (0,
                        n.jsx)(ic.$, {
                            variant: "secondary",
                            size: "icon",
                            onClick: i,
                            "aria-label": "Close",
                            children: (0,
                            n.jsx)(nm.A, {
                                size: 16
                            })
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: "flex md:!hidden flex-col gap-4 pt-6",
                        children: [(0,
                        n.jsxs)("div", {
                            className: "flex items-center justify-between",
                            children: [(0,
                            n.jsx)("span", {
                                className: "text-2xl font-medium text-foreground",
                                children: s("trip.quickview")
                            }), (0,
                            n.jsx)(ic.$, {
                                variant: "secondary",
                                size: "icon",
                                onClick: i,
                                "aria-label": "Close",
                                children: (0,
                                n.jsx)(nm.A, {
                                    size: 16
                                })
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: "flex items-center justify-between",
                            children: [(0,
                            n.jsx)("span", {
                                className: "text-lg text-foreground",
                                children: m
                            }), (0,
                            n.jsxs)("div", {
                                className: "flex items-center",
                                children: [(0,
                                n.jsx)(ic.$, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: f,
                                    disabled: !y,
                                    "aria-label": "Previous day",
                                    children: (0,
                                    n.jsx)(A.A, {
                                        size: 16
                                    })
                                }), (0,
                                n.jsx)(ic.$, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: x,
                                    disabled: !b,
                                    "aria-label": "Next day",
                                    children: (0,
                                    n.jsx)(I.A, {
                                        size: 16
                                    })
                                })]
                            })]
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: "flex-1 overflow-auto",
                        children: (0,
                        n.jsx)("div", {
                            className: nT().tableWrapper,
                            children: (0,
                            n.jsx)(nj, {
                                slide: v,
                                visibleDaysCount: g,
                                scrollToIndex: u
                            })
                        })
                    })]
                })
            })
        }
          , nS = e => {
            let {trip: t, trimmedLegs: i} = e
              , {tAsString: r} = (0,
            C.Ay)()
              , {isMobile: a} = (0,
            c.U)()
              , o = (0,
            p.A)()
              , [s,d] = (0,
            l.useState)(!1)
              , u = (0,
            l.useCallback)(function() {
                let e = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0];
                e && o({
                    event: "TripQuickViewButtonClick"
                }),
                d(e)
            }, []);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: "flex justify-between gap-2 p-6",
                    children: [(0,
                    n.jsx)("h2", {
                        className: "text-2xl font-medium text-foreground",
                        children: r("trip.overview")
                    }), (0,
                    n.jsx)(ic.$, {
                        variant: "outline",
                        leftIcon: (0,
                        n.jsx)(n_.A, {
                            size: 16
                        }),
                        className: "shadow-xs",
                        onClick: () => u(),
                        children: !a && r("trip.quickview")
                    })]
                }), s && t && i && (0,
                n.jsx)(nk, {
                    open: s,
                    onClose: () => u(!1),
                    trip: t,
                    trimmedLegs: i
                })]
            })
        }
        ;
        var nR = i(30715)
          , nE = i(52527)
          , nP = i(81115)
          , nD = i(62247)
          , nM = i(23238)
          , nL = i(48311)
          , nO = i(32942)
          , nF = i(62027);
        let nB = function(e) {
            let {date: t, city: i, className: l="", onClick: r, open: a=!1} = e
              , o = i ? "".concat(t, ", ").concat(i) : t;
            return (0,
            n.jsxs)("div", {
                className: "flex items-center justify-between rounded-md bg-turquoise-50 px-3 py-1.5 gap-3 relative z-[3] ".concat(l, " ").concat(r ? "cursor-pointer" : ""),
                onClick: r,
                children: [(0,
                n.jsx)("p", {
                    className: "text-sm font-semibold text-foreground leading-5 m-0",
                    children: o
                }), (0,
                n.jsx)("div", {
                    className: "flex items-center gap-1",
                    children: a ? (0,
                    n.jsx)(nO.A, {
                        className: "h-5 w-5 text-foreground"
                    }) : (0,
                    n.jsx)(nF.A, {
                        className: "h-5 w-5 text-foreground"
                    })
                })]
            })
        };
        var nH = i(7143);
        let nU = e => {
            let {hotel: t} = e
              , {tAsString: i} = (0,
            C.Ay)()
              , l = (0,
            nH.t)(null == t ? void 0 : t.reviewScore)
              , r = i("topicPage.chatSection.cards.review_title.".concat(l));
            return (null == t ? void 0 : t.reviewScore) ? (0,
            n.jsxs)("p", {
                className: "text-sm text-muted-foreground",
                children: [null == t ? void 0 : t.reviewScore.toFixed(1), " ", r, " ", i("topicPage.chatSection.cards.hotelRating", {
                    numberOfReviews: null == t ? void 0 : t.numberOfReviews
                })]
            }) : null
        }
        ;
        var nz = i(88608)
          , nq = i(69910);
        let nV = function(e) {
            let {currentHotel: t, originalLegIndex: i, hotelPricePerNight: r, travelersCount: a, onReplaceHotelClick: o, handleHotelClick: s, isPreview: d=!1, showImages: c=!0} = e
              , {tAsString: u} = (0,
            C.Ay)()
              , [_,m] = (0,
            l.useState)(!1)
              , [g,f] = (0,
            l.useState)(new Set)
              , {removeHotel: x} = (0,
            h.y)()
              , {trip: y} = (0,
            v.f)()
              , b = (0,
            p.A)()
              , j = (0,
            l.useMemo)( () => (null == t ? void 0 : t.photos) && 0 !== t.photos.length ? t.photos.filter(e => e && e.trim && "" !== e.trim()) : [], [null == t ? void 0 : t.photos])
              , w = (0,
            l.useMemo)( () => j.map( (e, t) => ({
                photo: e,
                index: t
            })).filter(e => {
                let {index: t} = e;
                return !g.has(t)
            }
            ).slice(0, 3).map(e => {
                let {photo: t} = e;
                return t
            }
            ), [j, g])
              , A = e => {
                f(t => new Set(t).add(e))
            }
              , I = e => {
                var t;
                return tr.oR.info((0,
                n.jsx)(ta._, {
                    itemName: e.name,
                    img: null === (t = e.photos) || void 0 === t ? void 0 : t[0],
                    isRightPanelExpanded: !1,
                    removed: !0
                }), {
                    position: "bottom-center",
                    transition: tr.q7,
                    hideProgressBar: !0,
                    autoClose: 2e3
                })
            }
            ;
            return (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsx)("div", {
                    children: (0,
                    n.jsx)("div", {
                        className: "flex gap-4 ".concat(d ? "" : "cursor-pointer group"),
                        onClick: d ? void 0 : () => {
                            d || ((0,
                            to.WO)({
                                tripId: (null == y ? void 0 : y.id) || "",
                                legIndex: i,
                                action: "replace-hotel"
                            }),
                            null == s || s())
                        }
                        ,
                        children: (0,
                        n.jsxs)("div", {
                            className: "flex flex-col gap-2 flex-1",
                            children: [(0,
                            n.jsxs)("div", {
                                className: "flex items-center justify-between gap-1",
                                children: [(0,
                                n.jsx)("p", {
                                    className: "text-base font-medium text-foreground leading-6 ".concat(d ? "" : "group-hover:text-primary transition-colors"),
                                    children: null == t ? void 0 : t.name
                                }), (0,
                                n.jsxs)("div", {
                                    className: "relative",
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: "flex opacity-100 transition-opacity duration-200 z-10",
                                        children: (0,
                                        n.jsx)("button", {
                                            className: "flex items-center justify-center p-1.5 rounded-full hover:bg-gray-100 transition-colors duration-150 cursor-pointer",
                                            onClick: e => {
                                                e.stopPropagation(),
                                                m(!_)
                                            }
                                            ,
                                            children: (0,
                                            n.jsx)(nM.A, {
                                                className: "w-5 h-5 text-foreground"
                                            })
                                        })
                                    }), (0,
                                    n.jsx)(nz.A, {
                                        isOpen: _,
                                        onClose: () => m(!1),
                                        onReplace: () => o(),
                                        onRemove: e => {
                                            e.stopPropagation(),
                                            (0,
                                            to.WO)({
                                                tripId: (null == y ? void 0 : y.id) || "",
                                                legIndex: i,
                                                action: "remove-hotel"
                                            }),
                                            b({
                                                event: "RemoveTripHotel"
                                            }),
                                            t && I(t),
                                            x(i)
                                        }
                                        ,
                                        onViewDetails: () => {
                                            (0,
                                            to.WO)({
                                                tripId: (null == y ? void 0 : y.id) || "",
                                                legIndex: i,
                                                action: "replace-hotel"
                                            }),
                                            null == s || s()
                                        }
                                    })]
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: "flex flex-row gap-3",
                                children: [c && w.length > 0 && (0,
                                n.jsx)("div", {
                                    className: "w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",
                                    children: (0,
                                    n.jsx)($.A, {
                                        src: w[0],
                                        alt: "".concat(null == t ? void 0 : t.name, " ", 1),
                                        width: 80,
                                        height: 80,
                                        className: "w-full h-full object-cover",
                                        onError: () => A(0)
                                    })
                                }, 0), (0,
                                n.jsxs)("div", {
                                    className: "flex flex-col gap-2",
                                    children: [(0,
                                    n.jsx)(nq.D, {
                                        variant: "default",
                                        children: u("trip.itinerary.taglines.hotel")
                                    }), (0,
                                    n.jsx)("div", {
                                        className: "flex items-center gap-0",
                                        children: (0,
                                        n.jsx)("span", {
                                            className: "text-sm text-muted-foreground leading-5",
                                            children: u("trip.tripPopups.guests", {
                                                count: a
                                            })
                                        })
                                    }), (0,
                                    n.jsx)(nU, {
                                        hotel: t
                                    }), r && (0,
                                    n.jsx)("div", {
                                        className: "text-sm text-foreground font-medium",
                                        children: u("trip.itinerary.hotel.fromPricePerNight", {
                                            price: r
                                        })
                                    })]
                                })]
                            })]
                        })
                    })
                })
            })
        }
          , nW = e => {
            let {trip: t, leg: i, isRightPanelExpanded: r, legIndex: o, travelersCount: s, hotelsFacilities: d, onHotelHover: u, isPreview: p=!1, showImages: v=!0} = e
              , _ = (0,
            Y.xC)()
              , {selectedHotels: m=[]} = (0,
            h.y)()
              , {updateTripNavState: g} = (0,
            a.Pd)()
              , f = (0,
            l.useRef)(null)
              , {isMobile: x} = (0,
            c.U)()
              , {viewMode: y} = (0,
            nv.e)()
              , j = (0,
            l.useMemo)( () => Number(i.endDay) - Number(i.startDay), [i.endDay, i.startDay])
              , w = (0,
            l.useMemo)( () => t.legs.findIndex(e => e === i), [t.legs, i])
              , A = (0,
            l.useMemo)( () => {
                var e, n, l, r;
                return t.version === eB.sG.V2 ? null !== (l = i.selectedHotel) && void 0 !== l ? l : null == m ? void 0 : null === (n = m[o]) || void 0 === n ? void 0 : n.currentHotel : null !== (r = null == m ? void 0 : null === (e = m[o]) || void 0 === e ? void 0 : e.currentHotel) && void 0 !== r ? r : i.selectedHotel
            }
            , [m, o, i.selectedHotel, t])
              , {currentHotelFullPrice: I, currentHotelPricePerNight: C} = (0,
            e7.v)(i, A)
              , T = (0,
            l.useMemo)( () => _(null == A ? void 0 : A.url, "TripHotel"), [_, null == A ? void 0 : A.url])
              , k = (0,
            l.useMemo)( () => (null == A ? void 0 : A.relevantFacilitiesIds) && A.relevantFacilitiesIds.length >= 5 ? A.relevantFacilitiesIds : (null == A ? void 0 : A.facilitiesIds) && A.facilitiesIds.length >= 5 ? A.facilitiesIds : [], [null == A ? void 0 : A.relevantFacilitiesIds, null == A ? void 0 : A.facilitiesIds])
              , S = (0,
            l.useMemo)( () => (0,
            b.NC)(k, d), [k, d])
              , R = (0,
            l.useCallback)( () => {
                y || ((0,
                to.WO)({
                    tripId: (null == t ? void 0 : t.id) || "",
                    legIndex: w,
                    action: "replace-hotel"
                }),
                g({
                    entity: N.q.HOTEL_SEARCH,
                    leg: i,
                    legIndex: o,
                    hotelSearchId: i.hotelSearchId || ""
                }))
            }
            , [g, i, o, w, null == A ? void 0 : A.id, y])
              , E = (0,
            l.useCallback)( () => {
                var e;
                y || ((0,
                to.WO)({
                    tripId: (null == t ? void 0 : t.id) || "",
                    legIndex: w,
                    action: "replace-hotel"
                }),
                g({
                    entity: N.q.HOTEL,
                    leg: i,
                    legIndex: o,
                    hotelSearchId: i.hotelSearchId || "",
                    hotelId: null == A ? void 0 : null === (e = A.id) || void 0 === e ? void 0 : e.toString()
                }))
            }
            , [g, i, o, w, null == A ? void 0 : A.id, y])
              , P = (0,
            l.useCallback)( () => {
                let e = new Date(new Date(i.startDate).toISOString())
                  , t = new Date(new Date(i.endDate).toISOString())
                  , n = {
                    month: "short",
                    timeZone: "UTC"
                }
                  , l = e.toLocaleString("en-US", n)
                  , r = t.toLocaleString("en-US", n);
                return l === r ? "".concat(l, " ").concat(e.getUTCDate(), "-").concat(t.getUTCDate()) : "".concat(l, " ").concat(e.getUTCDate(), " - ").concat(r, " ").concat(t.getUTCDate())
            }
            , [i.startDate, i.endDate]);
            return (0,
            n.jsx)("div", {
                id: "Accommodation",
                ref: f,
                children: !i.skipHotel && (null == A ? void 0 : A.id) && (0,
                n.jsx)("div", {
                    ...x ? {} : {
                        onMouseEnter: () => {
                            var e;
                            return null == u ? void 0 : u(null === (e = A.id) || void 0 === e ? void 0 : e.toString())
                        }
                        ,
                        onMouseLeave: () => null == u ? void 0 : u(void 0)
                    },
                    children: (0,
                    n.jsx)(nV, {
                        hotelUrl: T,
                        handleHotelClick: E,
                        onReplaceHotelClick: R,
                        currentHotel: A,
                        nights: j,
                        hotelPricePerNight: C,
                        convertHotelPrice: I,
                        formatDates: P,
                        leg: i,
                        isRightPanelExpanded: r,
                        originalLegIndex: w,
                        travelersCount: s,
                        eventForBookingLabel: "TripHotel",
                        hotelsFacilities: S,
                        isPreview: p,
                        showImages: v
                    })
                })
            })
        }
        ;
        var nG = i(86251)
          , nY = i.n(nG)
          , nX = i(9433);
        let nJ = {
            activity: {
                className: nY().activity,
                text: "trip.edit.day.activity"
            },
            accommodation: {
                className: nY().accommodation,
                text: "includedSection.included.items.accommodation"
            },
            transfer: {
                className: nY().transfer,
                text: "trip.itinerary.transfer.airportTransfer"
            }
        };
        function nZ(e) {
            let {label: t, setOpenPopup: i, firstBlock: l} = e
              , {tAsString: r} = (0,
            C.Ay)()
              , {isMobile: a} = (0,
            c.U)()
              , o = (0,
            p.A)()
              , s = "accommodation" === t ? a ? 90 : 160 : a ? 66 : 100;
            return (0,
            n.jsxs)("div", {
                className: "".concat(nY().card__container, " ").concat(l && nY().firstBlock),
                children: [(e => {
                    let t = nJ[e];
                    return t ? (0,
                    n.jsx)("p", {
                        className: "".concat(nY().label, " ").concat(t.className),
                        children: r(t.text)
                    }) : null
                }
                )(t), (0,
                n.jsxs)("button", {
                    className: nY().addButton,
                    onClick: () => {
                        o({
                            event: "OpenTripAdd".concat((0,
                            nX.Z)(t), "Popup")
                        }),
                        i()
                    }
                    ,
                    children: [(0,
                    n.jsx)($.A, {
                        src: "/plus.svg",
                        alt: "add",
                        width: a ? 14 : 16,
                        height: a ? 14 : 16
                    }), r("trip.edit.tags.add")]
                }), (0,
                n.jsx)("div", {
                    className: nY().card__image_wrapper,
                    children: (0,
                    n.jsx)("div", {
                        className: nY().skeleton_image,
                        style: {
                            width: s,
                            height: s
                        }
                    })
                }), (0,
                n.jsxs)("div", {
                    className: nY().card__info,
                    children: [(0,
                    n.jsxs)("div", {
                        className: nY().block_info,
                        children: [(0,
                        n.jsxs)("div", {
                            className: nY().wrapper,
                            children: [(0,
                            n.jsx)("div", {
                                className: nY().skeleton_title
                            }), "accommodation" === t && (0,
                            n.jsx)("div", {
                                className: nY().skeleton_rating
                            })]
                        }), (0,
                        n.jsx)("div", {
                            className: nY().skeleton_info
                        })]
                    }), (0,
                    n.jsx)("div", {
                        className: nY().skeleton_button
                    })]
                })]
            })
        }
        let nK = function(e) {
            var t, i;
            let {activity: o, numberOfTravelers: s, dayIndex: d, originalLegIndex: u, leg: _, addActivities: m, onActivityHover: g, isPreview: f=!1, date: x, tripId: y} = e
              , {tAsString: b} = (0,
            C.Ay)()
              , j = (0,
            p.A)()
              , {isMobile: w} = (0,
            c.U)()
              , {trip: A} = (0,
            v.f)()
              , {setAlternateActivitiesState: I, canEditAttractions: T, handleEditAttraction: k, handleEditActivity: S} = (0,
            h.y)()
              , {updateTripNavState: R} = (0,
            a.Pd)()
              , E = (null === (t = o.duration) || void 0 === t ? void 0 : t.value) && (null === (i = o.duration) || void 0 === i ? void 0 : i.unit)
              , P = o.type === eB.Mr.ATTRACTION
              , [D,M] = (0,
            l.useState)(!1)
              , [L,O] = (0,
            l.useState)(new Set)
              , {id: F, name: B="", duration: {value: H=0, unit: U="unknown"}={}} = null != o ? o : {}
              , z = (0,
            r.eg)(o)
              , q = (0,
            l.useMemo)( () => z && 0 !== z.length ? z.filter(e => e && "" !== e.trim()) : [], [z])
              , V = (0,
            l.useMemo)( () => q.map( (e, t) => ({
                img: e,
                index: t
            })).filter(e => {
                let {index: t} = e;
                return !L.has(t)
            }
            ).slice(0, 3).map(e => {
                let {img: t} = e;
                return t
            }
            ), [q, L])
              , W = e => {
                O(t => new Set(t).add(e))
            }
              , {formattedPrice: G} = (0,
            er.A)(o.priceInEurosPerPerson, "EUR", void 0, !0) || {
                formattedPrice: ""
            }
              , Y = (0,
            l.useCallback)(e => {
                let t = tr.oR.info((0,
                n.jsx)(ta._, {
                    itemName: e.name,
                    img: q ? q[0] : (0,
                    r.jK)(e),
                    isRightPanelExpanded: !1,
                    removed: !0,
                    entity: ta.H.ACTIVITY
                }), {
                    position: "bottom-center",
                    transition: tr.q7,
                    hideProgressBar: !0
                });
                setTimeout( () => {
                    tr.oR.dismiss(t)
                }
                , 4e3)
            }
            , [q])
              , X = (0,
            l.useCallback)(e => {
                e.stopPropagation(),
                (0,
                to.WO)({
                    tripId: (null == A ? void 0 : A.id) || "",
                    legIndex: u,
                    dayIndex: d,
                    action: P ? "replace-attraction" : "replace-activity"
                }),
                j({
                    event: "TripActivityOpenLink",
                    data: {
                        activityId: F,
                        tripId: y
                    }
                });
                let t = P && !T;
                R({
                    entity: t ? N.q.ACTIVITY : P ? N.q.ATTRACTION : N.q.ACTIVITY,
                    leg: _,
                    ...t ? {
                        activityId: F
                    } : P ? {
                        attractionId: F
                    } : {
                        activityId: F
                    }
                }),
                I(e => ({
                    ...e,
                    openModalReason: tl.w.REPLACE_ACTIVITY,
                    dayIndex: d,
                    selectedActivity: o,
                    activityDetail: o,
                    formattedDate: (0,
                    r.q_)(x)
                }))
            }
            , [null == A ? void 0 : A.id, u, d, P, j, F, y, T, R, _, I, o, x]);
            return (0,
            n.jsx)(n.Fragment, {
                children: !_.skipActivities || (null == o ? void 0 : o.id) ? (0,
                n.jsx)("div", {
                    ...w ? {} : {
                        onMouseEnter: () => {
                            var e;
                            return null == g ? void 0 : g(null === (e = o.id) || void 0 === e ? void 0 : e.toString())
                        }
                        ,
                        onMouseLeave: () => null == g ? void 0 : g(void 0)
                    },
                    className: "min-w-0",
                    children: (0,
                    n.jsx)("div", {
                        className: "flex gap-4 min-w-0 ".concat(f ? "" : "cursor-pointer group"),
                        onClick: f ? void 0 : X,
                        children: (0,
                        n.jsxs)("div", {
                            className: "flex flex-col gap-2 flex-1 min-w-0",
                            children: [(0,
                            n.jsxs)("div", {
                                className: "flex items-center gap-1 min-w-0",
                                children: [(0,
                                n.jsx)("p", {
                                    className: "text-base font-medium text-foreground leading-6 overflow-hidden text-ellipsis whitespace-nowrap flex-1 min-w-0 ".concat(f ? "" : "group-hover:text-primary transition-colors"),
                                    children: B
                                }), !(P && !T) && (0,
                                n.jsxs)("div", {
                                    className: "relative flex-shrink-0",
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: "flex opacity-100 transition-opacity duration-200 z-10",
                                        children: (0,
                                        n.jsx)("button", {
                                            className: "flex items-center justify-center p-1.5 rounded-full hover:bg-gray-100 transition-colors duration-150 cursor-pointer",
                                            onClick: e => {
                                                e.stopPropagation(),
                                                M(!D)
                                            }
                                            ,
                                            children: (0,
                                            n.jsx)(nM.A, {
                                                className: "w-5 h-5 text-foreground"
                                            })
                                        })
                                    }), (0,
                                    n.jsx)(nz.A, {
                                        isOpen: D,
                                        onClose: () => M(!1),
                                        onReplace: () => {
                                            (0,
                                            to.WO)({
                                                tripId: (null == A ? void 0 : A.id) || "",
                                                legIndex: u,
                                                dayIndex: d,
                                                action: P ? "replace-attraction" : "replace-activity"
                                            }),
                                            I(e => ({
                                                ...e,
                                                openModalReason: tl.w.REPLACE_ACTIVITY,
                                                dayIndex: d,
                                                selectedActivity: o,
                                                activityDetail: null,
                                                formattedDate: (0,
                                                r.q_)(x)
                                            })),
                                            R({
                                                entity: P ? N.q.ATTRACTIONS : N.q.ACTIVITIES,
                                                leg: _,
                                                ...P ? {
                                                    attractionId: void 0
                                                } : {
                                                    activityId: void 0
                                                }
                                            })
                                        }
                                        ,
                                        onRemove: () => {
                                            (0,
                                            to.WO)({
                                                tripId: (null == A ? void 0 : A.id) || "",
                                                legIndex: u,
                                                dayIndex: d,
                                                action: P ? "remove-attraction" : "remove-activity"
                                            }),
                                            I(e => ({
                                                ...e,
                                                dayIndex: d,
                                                selectedActivity: o
                                            })),
                                            P ? k(o, _, u) : S(o, _, u),
                                            Y(o)
                                        }
                                        ,
                                        onViewDetails: X
                                    })]
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: "flex flex-row gap-3",
                                children: [V.length > 0 && (0,
                                n.jsx)("div", {
                                    className: "w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",
                                    children: (0,
                                    n.jsx)($.A, {
                                        src: V[0],
                                        alt: "".concat(B, " ", 1),
                                        width: 80,
                                        height: 80,
                                        className: "w-full h-full object-cover",
                                        onError: () => W(0)
                                    })
                                }), (0,
                                n.jsxs)("div", {
                                    className: "flex flex-col gap-2",
                                    children: [(0,
                                    n.jsx)(nq.D, {
                                        variant: "default",
                                        children: b(P ? "trip.itinerary.taglines.attraction" : "trip.itinerary.taglines.activity")
                                    }), (0,
                                    n.jsx)("div", {
                                        className: "flex items-center gap-0",
                                        children: P ? (0,
                                        n.jsxs)("span", {
                                            className: "text-sm text-muted-foreground leading-5",
                                            children: [s, " ", b("trip.tripPopups.person")]
                                        }) : E ? (0,
                                        n.jsxs)(n.Fragment, {
                                            children: [(0,
                                            n.jsxs)("span", {
                                                className: "text-sm text-muted-foreground leading-5",
                                                children: [H, " ", (0,
                                                eV.zG)(null != H ? H : 15, null != U ? U : "minutes", b)]
                                            }), (0,
                                            n.jsx)("span", {
                                                className: "w-4 h-4 flex items-center justify-center text-muted-foreground",
                                                children: "•"
                                            }), (0,
                                            n.jsxs)("span", {
                                                className: "text-sm text-muted-foreground leading-5",
                                                children: [s, " ", b("trip.tripPopups.person")]
                                            })]
                                        }) : (0,
                                        n.jsxs)("span", {
                                            className: "text-sm text-muted-foreground leading-5",
                                            children: [s, " ", b("trip.tripPopups.person")]
                                        })
                                    }), !!o.priceInEurosPerPerson && G && (0,
                                    n.jsx)("div", {
                                        className: "text-sm font-medium text-foreground",
                                        children: b("trip.itinerary.activity.fromPrice", {
                                            price: G
                                        })
                                    })]
                                })]
                            })]
                        })
                    })
                }) : (0,
                n.jsx)(nZ, {
                    label: "activity",
                    setOpenPopup: m
                })
            })
        };
        var nQ = i(98097)
          , n$ = i(37097)
          , n0 = i(99441)
          , n1 = i.n(n0)
          , n2 = i(82919);
        let n4 = e => {
            let {leg: t, dayIndex: i, date: r, tooltipPosition: o="top", legIndex: s=0, trip: d, isLastDay: u=!1, isLastLeg: p=!1} = e
              , [v,_] = (0,
            l.useState)(!1)
              , {setAlternateActivitiesState: m, canEditAttractions: f, setLegTransportState: x} = (0,
            h.y)()
              , {updateTripNavState: y} = (0,
            a.Pd)()
              , {isMobile: b} = (0,
            c.U)()
              , {checkAndShowPaywall: j} = (0,
            es.k)()
              , {tAsString: w} = (0,
            C.Ay)()
              , A = 0 === i && !t.selectedHotel
              , I = (0,
            l.useMemo)( () => {
                if (!d)
                    return !1;
                if (u && p && d.legs.length > 0) {
                    let e = d.legs[d.legs.length - 1];
                    return (null == e ? void 0 : e.preferredTransportMode) === "unknown"
                }
                return (0 === i && 0 === s || 0 === i && s > 0) && "unknown" === t.preferredTransportMode
            }
            , [d, u, p, i, s, t.preferredTransportMode])
              , T = (0,
            l.useCallback)( () => {
                y({
                    entity: N.q.ACTIVITIES,
                    leg: t
                }),
                m({
                    selectedActivity: null,
                    openModalReason: tl.w.ADD_ACTIVITY,
                    dayIndex: i,
                    formattedDate: r || ""
                })
            }
            , [y, t, m, i, r])
              , k = (0,
            l.useCallback)( () => {
                y({
                    entity: N.q.ATTRACTIONS,
                    leg: t
                }),
                m({
                    selectedActivity: null,
                    openModalReason: tl.w.ADD_ACTIVITY,
                    dayIndex: i,
                    formattedDate: r || ""
                })
            }
            , [y, t, m, i, r])
              , S = (0,
            l.useCallback)( () => {
                y({
                    entity: N.q.HOTEL_SEARCH,
                    leg: t,
                    legIndex: s,
                    hotelSearchId: t.hotelSearchId || ""
                })
            }
            , [y, t, s])
              , R = (0,
            l.useMemo)( () => {
                var e;
                return null !== (e = null == d ? void 0 : d.legs.findIndex(e => t === e)) && void 0 !== e ? e : -1
            }
            , [t, null == d ? void 0 : d.legs])
              , E = (0,
            l.useMemo)( () => R > 0 && d ? d.legs[R - 1] : null, [R, d])
              , P = (0,
            l.useMemo)( () => ((null == d ? void 0 : d.legs.length) || 1) - 1, [null == d ? void 0 : d.legs.length])
              , D = (0,
            l.useMemo)( () => null == d ? void 0 : d.legs[P], [null == d ? void 0 : d.legs, P])
              , M = (0,
            l.useCallback)( () => {
                var e, n, l, r, a;
                let o, s, c, v, _, m;
                if (d) {
                    if (u && p && d.legs.length > 0)
                        o = t,
                        s = D,
                        c = (null === (e = t.location) || void 0 === e ? void 0 : e.split(", ")[0]) || t.location || "",
                        v = (null == D ? void 0 : null === (n = D.location) || void 0 === n ? void 0 : n.split(", ")[0]) || (null == D ? void 0 : D.location) || "",
                        _ = P,
                        m = new Date(t.endDate).toISOString().split("T")[0];
                    else if (0 === i && 0 === R)
                        o = t,
                        s = t,
                        c = "Airport",
                        v = (null === (l = t.location) || void 0 === l ? void 0 : l.split(", ")[0]) || t.location || "",
                        _ = 0,
                        m = new Date(t.startDate).toISOString().split("T")[0];
                    else {
                        if (0 !== i || !(R > 0) || !E)
                            return;
                        o = E,
                        s = t,
                        c = (null === (r = E.location) || void 0 === r ? void 0 : r.split(", ")[0]) || E.location || "",
                        v = (null === (a = t.location) || void 0 === a ? void 0 : a.split(", ")[0]) || t.location || "",
                        _ = R,
                        m = new Date(E.endDate).toISOString().split("T")[0]
                    }
                    x(e => ({
                        ...e,
                        from: o,
                        to: s,
                        legIndex: _,
                        departureDate: m
                    })),
                    y({
                        entity: N.q.ROUTE_OPTIONS,
                        fromCity: c,
                        toCity: v
                    })
                }
            }
            , [y, x, d, u, p, i, R, E, t, P, D])
              , L = (0,
            l.useCallback)( () => {
                let {showPaywall: e} = j(!0);
                e || _(e => !e)
            }
            , [j])
              , O = (0,
            l.useCallback)(e => {
                e(),
                _(!1)
            }
            , [_])
              , F = (0,
            l.useCallback)( () => {
                _(!1)
            }
            , [])
              , B = (0,
            l.useCallback)( () => {
                _(!0)
            }
            , [])
              , H = (0,
            l.useCallback)( () => {
                (0,
                to.WO)({
                    tripId: (null == d ? void 0 : d.id) || "",
                    legIndex: R,
                    dayIndex: i,
                    action: "add-activity"
                }),
                T()
            }
            , [null == d ? void 0 : d.id, R, i, T])
              , U = (0,
            l.useCallback)( () => {
                (0,
                to.WO)({
                    tripId: (null == d ? void 0 : d.id) || "",
                    legIndex: R,
                    dayIndex: i,
                    action: "add-attraction"
                }),
                k()
            }
            , [null == d ? void 0 : d.id, R, i, k])
              , z = (0,
            l.useCallback)( () => {
                O(H)
            }
            , [O, H])
              , q = (0,
            l.useCallback)( () => {
                O(U)
            }
            , [O, U])
              , V = (0,
            l.useCallback)( () => {
                O( () => {
                    (0,
                    to.WO)({
                        tripId: (null == d ? void 0 : d.id) || "",
                        legIndex: R,
                        dayIndex: i,
                        action: "add-hotel"
                    }),
                    S()
                }
                )
            }
            , [O, null == d ? void 0 : d.id, R, i, S])
              , W = (0,
            l.useCallback)( () => {
                O( () => {
                    (0,
                    to.WO)({
                        tripId: (null == d ? void 0 : d.id) || "",
                        legIndex: R,
                        dayIndex: i,
                        action: "add-activity"
                    }),
                    M()
                }
                )
            }
            , [O, null == d ? void 0 : d.id, R, i, M]);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("div", {
                    className: "relative z-10",
                    children: (0,
                    n.jsx)(ic.$, {
                        variant: "outline",
                        size: "lg",
                        onClick: L,
                        leftIcon: (0,
                        n.jsx)(nQ.A, {
                            size: 16
                        }),
                        children: w("trip.tripPopups.add")
                    })
                }), b ? (0,
                n.jsx)(g.A, {
                    anchor: "bottom",
                    open: v,
                    onClose: F,
                    onOpen: B,
                    disableSwipeToOpen: !0,
                    PaperProps: {
                        sx: {
                            borderTopLeftRadius: 16,
                            borderTopRightRadius: 16,
                            maxHeight: "50vh"
                        }
                    },
                    children: (0,
                    n.jsxs)("div", {
                        style: {
                            padding: "24px"
                        },
                        children: [(0,
                        n.jsxs)("div", {
                            className: n1().headerBlock,
                            children: [(0,
                            n.jsx)("p", {
                                className: n1().titlePopup,
                                children: w("trip.itinerary.whatAreYouPlanning")
                            }), (0,
                            n.jsx)("div", {
                                className: n1().crossButton,
                                onClick: F,
                                children: (0,
                                n.jsx)(nm.A, {
                                    size: 12
                                })
                            })]
                        }), (0,
                        n.jsxs)(iR.A, {
                            sx: {
                                padding: 0
                            },
                            children: [A && (0,
                            n.jsxs)(iE.Ay, {
                                onClick: V,
                                sx: {
                                    padding: "0 0 10px 0"
                                },
                                children: [(0,
                                n.jsx)(n$.A, {
                                    style: {
                                        minWidth: 34
                                    },
                                    children: (0,
                                    n.jsx)($.A, {
                                        src: "/CardsIcons/hotel-icon.svg",
                                        alt: "accommodation",
                                        width: 20,
                                        height: 20
                                    })
                                }), (0,
                                n.jsx)(iP.A, {
                                    primary: w("includedSection.included.items.accommodation")
                                })]
                            }), I && (0,
                            n.jsxs)(iE.Ay, {
                                onClick: W,
                                sx: {
                                    padding: "0 0 10px 0"
                                },
                                children: [(0,
                                n.jsx)(n$.A, {
                                    style: {
                                        minWidth: 34
                                    },
                                    children: (0,
                                    n.jsx)(nR.A, {
                                        size: 20
                                    })
                                }), (0,
                                n.jsx)(iP.A, {
                                    primary: w("trip.edit.day.transport")
                                })]
                            }), (0,
                            n.jsxs)(iE.Ay, {
                                onClick: z,
                                sx: {
                                    padding: "0 0 10px 0"
                                },
                                children: [(0,
                                n.jsx)(n$.A, {
                                    style: {
                                        minWidth: 34
                                    },
                                    children: (0,
                                    n.jsx)($.A, {
                                        src: "/attraction-icon-black.svg",
                                        alt: "activity",
                                        width: 20,
                                        height: 20
                                    })
                                }), (0,
                                n.jsx)(iP.A, {
                                    primary: w("trip.edit.day.activity")
                                })]
                            }), f && (0,
                            n.jsxs)(iE.Ay, {
                                onClick: q,
                                sx: {
                                    padding: "0 0 10px 0"
                                },
                                children: [(0,
                                n.jsx)(n$.A, {
                                    style: {
                                        minWidth: 34
                                    },
                                    children: (0,
                                    n.jsx)($.A, {
                                        src: "/attraction-icon-black.svg",
                                        alt: "attraction",
                                        width: 20,
                                        height: 20
                                    })
                                }), (0,
                                n.jsx)(iP.A, {
                                    primary: w("trip.itinerary.attraction.title")
                                })]
                            })]
                        })]
                    })
                }) : (0,
                n.jsxs)(n.Fragment, {
                    children: [v && (0,
                    n.jsx)("div", {
                        style: {
                            position: "fixed",
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            zIndex: 998
                        },
                        onClick: F
                    }), (0,
                    n.jsx)("div", {
                        style: {
                            position: "relative"
                        },
                        children: (0,
                        n.jsxs)("div", {
                            className: n1().tooltip,
                            style: {
                                ...v ? {
                                    display: "flex"
                                } : {},
                                ..."bottom" === o ? {
                                    top: "100%",
                                    bottom: "auto",
                                    marginTop: "8px"
                                } : {}
                            },
                            children: [(0,
                            n.jsx)("p", {
                                children: w("trip.itinerary.whatAreYouPlanning")
                            }), A && (0,
                            n.jsxs)("div", {
                                onClick: S,
                                children: [(0,
                                n.jsx)($.A, {
                                    src: "/CardsIcons/hotel-icon.svg",
                                    alt: "accommodation",
                                    width: 16,
                                    height: 16
                                }), w("includedSection.included.items.accommodation")]
                            }), I && (0,
                            n.jsxs)("div", {
                                onClick: M,
                                children: [(0,
                                n.jsx)(nR.A, {
                                    size: 16
                                }), w("trip.edit.day.transport")]
                            }), (0,
                            n.jsxs)("div", {
                                onClick: H,
                                children: [(0,
                                n.jsx)($.A, {
                                    src: "/attraction-icon-black.svg",
                                    alt: "activity",
                                    width: 16,
                                    height: 16
                                }), w("trip.edit.day.activity")]
                            }), f && (0,
                            n.jsxs)("div", {
                                onClick: U,
                                children: [(0,
                                n.jsx)($.A, {
                                    src: "/attraction-icon-black.svg",
                                    alt: "attraction",
                                    width: 16,
                                    height: 16
                                }), w("trip.itinerary.attraction.title")]
                            })]
                        })
                    })]
                }), v && b && (0,
                n.jsx)(n2.A, {
                    close: _
                })]
            })
        }
        ;
        var n5 = i(36708);
        let n8 = () => {
            let e = (e, t) => (0,
            n.jsxs)("div", {
                className: "flex gap-5 relative",
                children: [(0,
                n.jsx)("div", {
                    className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10! flex-shrink-0",
                    children: (0,
                    n.jsx)("div", {
                        className: "w-full h-full rounded-full bg-gray-300"
                    })
                }), (0,
                n.jsxs)("div", {
                    className: "flex-1 min-w-0 flex flex-col gap-2",
                    children: [1 === e && (0,
                    n.jsxs)(n.Fragment, {
                        children: [(0,
                        n.jsx)("div", {
                            className: "h-4 w-48 bg-gray-300 rounded"
                        }), (0,
                        n.jsx)("div", {
                            className: "h-3 w-2/3 bg-gray-200 rounded"
                        })]
                    }), 2 === e && (0,
                    n.jsxs)(n.Fragment, {
                        children: [(0,
                        n.jsx)("div", {
                            className: "h-4 w-44 bg-gray-300 rounded"
                        }), (0,
                        n.jsxs)("div", {
                            className: "flex gap-2 flex-wrap",
                            children: [(0,
                            n.jsx)("div", {
                                className: "h-3 w-16 bg-gray-200 rounded"
                            }), (0,
                            n.jsx)("div", {
                                className: "h-3 w-12 bg-gray-200 rounded"
                            }), (0,
                            n.jsx)("div", {
                                className: "h-3 w-20 bg-gray-200 rounded"
                            }), (0,
                            n.jsx)("div", {
                                className: "h-3 w-14 bg-gray-200 rounded"
                            })]
                        }), (0,
                        n.jsx)("div", {
                            className: "h-3 w-full bg-gray-200 rounded"
                        })]
                    }), 3 === e && (0,
                    n.jsxs)(n.Fragment, {
                        children: [(0,
                        n.jsx)("div", {
                            className: "h-4 w-40 bg-gray-300 rounded"
                        }), (0,
                        n.jsx)("div", {
                            className: "h-3 w-full bg-gray-200 rounded"
                        }), (0,
                        n.jsx)("div", {
                            className: "h-3 w-full bg-gray-200 rounded"
                        })]
                    }), 4 === e && (0,
                    n.jsxs)(n.Fragment, {
                        children: [(0,
                        n.jsx)("div", {
                            className: "h-4 w-52 bg-gray-300 rounded"
                        }), (0,
                        n.jsx)("div", {
                            className: "h-3 w-32 bg-gray-200 rounded"
                        }), (0,
                        n.jsx)("div", {
                            className: "h-3 w-24 bg-gray-200 rounded"
                        })]
                    })]
                })]
            }, t);
            return (0,
            n.jsxs)("div", {
                className: "animate-pulse",
                children: [(0,
                n.jsx)("div", {
                    className: "mb-4",
                    children: (0,
                    n.jsx)("div", {
                        className: "h-8 w-full bg-gray-100 rounded mb-4"
                    })
                }), (0,
                n.jsxs)("div", {
                    className: "relative flex flex-col gap-6 w-full mt-6",
                    children: [(0,
                    n.jsx)("div", {
                        className: "absolute top-0 left-4 md:left-5! w-0.5 h-full bg-gray-300 z-[1]"
                    }), [1, 2, 3, 4].map( (t, i) => e(t, i))]
                })]
            })
        }
        ;
        var n6 = i(50620)
          , n9 = i(96806)
          , n3 = i(57984);
        let n7 = d()( () => Promise.all([i.e(7215), i.e(1284)]).then(i.bind(i, 81284)).then(e => e.default), {
            loadableGenerated: {
                webpack: () => [81284]
            },
            ssr: !1
        })
          , le = e => {
            var t, i, s, d, c, u, v, _, m, g, f, x;
            let {leg: y, trip: b, legIndex: j, item: w, dayIndex: A, isRightPanelExpanded: I, isPreview: T=!1, showImages: k=!0, setWeatherWidgetRef: S, isLastLeg: R=!1, isLastDay: E=!1, hasAirportTransfers: P=!1} = e
              , D = (0,
            o.useRouter)()
              , {tAsString: M} = (0,
            C.Ay)()
              , {tripActivities: L, tripAttractions: O, getSelectedLegRoute: F, setLegTransportState: B, selectedTransfer: H} = (0,
            h.y)()
              , {updateTripNavState: U} = (0,
            a.Pd)()
              , {viewMode: z} = (0,
            nv.e)()
              , {chat: q} = (0,
            tK.Y)()
              , V = (0,
            p.A)()
              , W = D.locale || "en"
              , G = M("trip.itinerary.day")
              , Y = (null === (t = y.location) || void 0 === t ? void 0 : t.split(", ")[0]) || y.location || ""
              , [X,J] = (0,
            l.useState)(!1)
              , [Z,K] = (0,
            l.useState)(!1)
              , [Q,et] = (0,
            l.useState)(!1)
              , {removeFlight: ei} = (0,
            h.y)()
              , [en,el] = (0,
            l.useState)(!1)
              , [eo,es] = (0,
            l.useState)(!1)
              , ed = e => {
                switch (e) {
                case ea.Xz.Flight:
                    return nR.A;
                case ea.Xz.Car:
                    return ny.A;
                case ea.Xz.Train:
                    return nE.A;
                case ea.Xz.Bus:
                    return nP.A;
                case ea.Xz.Boat:
                case ea.Xz.Ship:
                case ea.Xz.Ferry:
                    return nD.A;
                default:
                    return nR.A
                }
            }
              , ec = (0,
            l.useMemo)( () => {
                var e, t;
                if (null == L ? void 0 : null === (e = L[j]) || void 0 === e ? void 0 : e[A])
                    return L[j][A];
                if (!(null == w ? void 0 : w.description) && !(null == w ? void 0 : w.note))
                    return [];
                if (null === (t = y.selectedActivities) || void 0 === t ? void 0 : t.length) {
                    let e = [...(0,
                    eV.M4)(w.description || ""), ...(0,
                    eV.M4)(w.note || "")];
                    return y.selectedActivities.filter(t => e.includes(String(t.id)))
                }
                return []
            }
            , [L, j, A, null == w ? void 0 : w.description, null == w ? void 0 : w.note, y.selectedActivities])
              , eu = (0,
            l.useMemo)( () => {
                var e, t, i;
                if (null == O ? void 0 : null === (e = O[j]) || void 0 === e ? void 0 : e[A])
                    return O[j][A];
                if (!(null == w ? void 0 : w.description))
                    return [];
                if (null === (t = y.selectedAttractions) || void 0 === t ? void 0 : t.length) {
                    let e = (0,
                    tg.ab)(y.selectedAttractions)
                      , t = (0,
                    eV.M4)(w.description);
                    return e.filter(e => t.includes(String(e.id)))
                }
                return (null === (i = y.attractions) || void 0 === i ? void 0 : i.length) ? (0,
                tg.Zl)(w.description, y.attractions) : []
            }
            , [O, j, A, null == w ? void 0 : w.description, y.selectedAttractions, y.attractions])
              , ep = (0,
            l.useMemo)( () => {
                let e = y.endDay - y.startDay + 1;
                return (0,
                r.cf)(y.startDate, e)[A]
            }
            , [y.startDate, y.endDay, y.startDay, A])
              , ev = (0,
            l.useMemo)( () => b.legs.findIndex(e => y === e), [y, b.legs])
              , e_ = (0,
            l.useMemo)( () => ev > 0 ? b.legs[ev - 1] : null, [ev, b.legs])
              , em = (0,
            l.useMemo)( () => F ? F(ev) : null, [F, ev])
              , eh = (0,
            l.useMemo)( () => (0,
            ee.Di)(em), [em])
              , eg = (0,
            l.useMemo)( () => {
                var e;
                return null == em ? void 0 : null === (e = em.option) || void 0 === e ? void 0 : e.find(e => null == e ? void 0 : e.details)
            }
            , [em])
              , ef = (0,
            l.useMemo)( () => {
                var e, t, i;
                if (!em || !eg || 0 !== A || 0 === ev || "unknown" === y.preferredTransportMode)
                    return null;
                let n = null == eh ? void 0 : eh[0]
                  , l = eg.details;
                if (!n || !l)
                    return null;
                let r = (null == e_ ? void 0 : null === (e = e_.location) || void 0 === e ? void 0 : e.split(", ")[0]) || (null == e_ ? void 0 : e_.location) || ""
                  , a = (null === (t = y.location) || void 0 === t ? void 0 : t.split(", ")[0]) || y.location || ""
                  , o = n.subType
                  , s = ( (e, t) => {
                    switch (e) {
                    case ea.Xz.Flight:
                        return M("trip.itinerary.transport.flightTo", {
                            destination: t
                        });
                    case ea.Xz.Car:
                        return M("trip.itinerary.transport.driveTo", {
                            destination: t
                        });
                    case ea.Xz.Train:
                        return M("trip.itinerary.transport.trainTo", {
                            destination: t
                        });
                    case ea.Xz.Bus:
                        return M("trip.itinerary.transport.busTo", {
                            destination: t
                        });
                    case ea.Xz.Boat:
                    case ea.Xz.Ship:
                    case ea.Xz.Ferry:
                        return M("trip.itinerary.transport.ferryTo", {
                            destination: t
                        });
                    default:
                        return M("trip.itinerary.transport.transportTo", {
                            destination: t
                        })
                    }
                }
                )(o, a)
                  , d = o === ea.Xz.Flight
                  , c = l.durationInMinutes || 0
                  , u = Math.floor(c / 60)
                  , p = c % 60
                  , v = u > 0 ? "".concat(u, "h ").concat(p, "m") : "".concat(p, "m")
                  , _ = l.fromIata || r
                  , m = l.toIata || a
                  , h = "".concat(_, " - ").concat(m)
                  , g = null === (i = l.carriers) || void 0 === i ? void 0 : i[0]
                  , f = g ? "".concat(g.name, " ").concat(g.iata || "") : ""
                  , x = null == g ? void 0 : g.imageUrl;
                return {
                    title: s,
                    durationText: v,
                    routeText: h,
                    carrierText: f,
                    carrierImageUrl: x,
                    carrierName: null == g ? void 0 : g.name,
                    priceInEuros: l.priceInEuros || 0,
                    transportType: o,
                    isFlightTransport: d,
                    isLatest: !0 === l.latest
                }
            }
            , [em, eg, eh, A, ev, e_, y, M])
              , {formattedPrice: ex} = (0,
            er.A)((null == ef ? void 0 : ef.priceInEuros) || 0, "EUR") || {
                formattedPrice: ""
            }
              , ey = (0,
            l.useMemo)( () => b.legs.length - 1, [b.legs.length])
              , eb = (0,
            l.useMemo)( () => b.legs[0], [b.legs])
              , ej = (0,
            l.useMemo)( () => F ? F(ey) : null, [F, ey])
              , ew = (0,
            l.useMemo)( () => (0,
            ee.Di)(ej), [ej])
              , eA = (0,
            l.useMemo)( () => {
                var e;
                return null == ej ? void 0 : null === (e = ej.option) || void 0 === e ? void 0 : e.find(e => null == e ? void 0 : e.details)
            }
            , [ej])
              , eI = (0,
            l.useMemo)( () => {
                var e, t, i;
                if (!ej || !eA || !E || !R || y === eb)
                    return null;
                let n = null == ew ? void 0 : ew[0]
                  , l = eA.details;
                if (!n || !l)
                    return null;
                let r = (null === (e = y.location) || void 0 === e ? void 0 : e.split(", ")[0]) || y.location || ""
                  , a = (null == eb ? void 0 : null === (t = eb.location) || void 0 === t ? void 0 : t.split(", ")[0]) || (null == eb ? void 0 : eb.location) || ""
                  , o = n.subType
                  , s = ( (e, t) => {
                    switch (e) {
                    case ea.Xz.Flight:
                        return M("trip.itinerary.transport.flightTo", {
                            destination: t
                        });
                    case ea.Xz.Car:
                        return M("trip.itinerary.transport.driveTo", {
                            destination: t
                        });
                    case ea.Xz.Train:
                        return M("trip.itinerary.transport.trainTo", {
                            destination: t
                        });
                    case ea.Xz.Bus:
                        return M("trip.itinerary.transport.busTo", {
                            destination: t
                        });
                    case ea.Xz.Boat:
                    case ea.Xz.Ship:
                    case ea.Xz.Ferry:
                        return M("trip.itinerary.transport.ferryTo", {
                            destination: t
                        });
                    default:
                        return M("trip.itinerary.transport.transportTo", {
                            destination: t
                        })
                    }
                }
                )(o, a)
                  , d = o === ea.Xz.Flight
                  , c = l.durationInMinutes || 0
                  , u = Math.floor(c / 60)
                  , p = c % 60
                  , v = u > 0 ? "".concat(u, "h ").concat(p, "m") : "".concat(p, "m")
                  , _ = l.fromIata || r
                  , m = l.toIata || a
                  , h = "".concat(_, " - ").concat(m)
                  , g = null === (i = l.carriers) || void 0 === i ? void 0 : i[0]
                  , f = g ? "".concat(g.name, " ").concat(g.iata || "") : "";
                return {
                    title: s,
                    durationText: v,
                    routeText: h,
                    carrierText: f,
                    carrierImageUrl: null == g ? void 0 : g.imageUrl,
                    carrierName: null == g ? void 0 : g.name,
                    priceInEuros: l.priceInEuros || 0,
                    transportType: o,
                    isFlightTransport: d
                }
            }
            , [ej, eA, ew, E, R, y, eb, M])
              , {formattedPrice: eC} = (0,
            er.A)((null == eI ? void 0 : eI.priceInEuros) || 0, "EUR") || {
                formattedPrice: ""
            };
            (0,
            l.useEffect)( () => {
                K(!0)
            }
            , []);
            let eN = (0,
            l.useMemo)( () => 0 === A && P, [A, P])
              , eT = (0,
            l.useMemo)( () => {
                var e, t;
                let i = [];
                if ((null === (e = y.destination) || void 0 === e ? void 0 : e.videos) && y.destination.videos.slice(0, 3).forEach( (e, t) => {
                    e.thumbnailUrl && i.push({
                        type: "video",
                        url: e.thumbnailUrl,
                        index: i.length,
                        originalIndex: t
                    })
                }
                ),
                i.length < 3) {
                    let e = [];
                    y.imageUrl && e.push(y.imageUrl),
                    (null === (t = y.destination) || void 0 === t ? void 0 : t.imageUrl) && !e.includes(y.destination.imageUrl) && e.push(y.destination.imageUrl);
                    let n = e.filter(e => e && "" !== e.trim())
                      , l = 3 - i.length;
                    n.slice(0, l).forEach( (e, t) => {
                        i.push({
                            type: "image",
                            url: e,
                            index: i.length,
                            originalIndex: t
                        })
                    }
                    )
                }
                return i
            }
            , [y.imageUrl, null === (i = y.destination) || void 0 === i ? void 0 : i.imageUrl, null === (s = y.destination) || void 0 === s ? void 0 : s.videos])
              , ek = (0,
            l.useMemo)( () => {
                var e;
                let t = [];
                return y.imageUrl && t.push(y.imageUrl),
                (null === (e = y.destination) || void 0 === e ? void 0 : e.imageUrl) && !t.includes(y.destination.imageUrl) && t.push(y.destination.imageUrl),
                t.filter(e => e && "" !== e.trim())
            }
            , [y.imageUrl, null === (d = y.destination) || void 0 === d ? void 0 : d.imageUrl])
              , eS = (0,
            l.useCallback)(e => {
                var t, i;
                if (!e || !e.trim())
                    return [];
                let l = (e, t) => (0,
                n.jsx)(n3.A, {
                    text: e,
                    poi: t
                }, t.id)
                  , r = null == y ? void 0 : y.location
                  , a = (0,
                tg.ab)(null !== (t = y.attractions) && void 0 !== t ? t : [])
                  , o = y.selectedHotel ? (0,
                eV.OG)(y.selectedHotel) : null
                  , s = (0,
                tg.w8)(null !== (i = y.selectedActivities) && void 0 !== i ? i : [], e)
                  , d = [...a, ...((null == s ? void 0 : s[A]) && Array.isArray(s[A]) ? s[A] : []).map(e => ({
                    ...e,
                    type: "activity"
                })), ...o ? [o] : []]
                  , c = (0,
                eV.D4)(e, d, l)
                  , u = (0,
                eV.Uh)(c, d, r, l);
                return (0,
                eV.uF)(u, r, l)
            }
            , [y, A])
              , eR = (0,
            l.useMemo)( () => eS(y.description || ""), [y.description, eS])
              , eE = (0,
            l.useCallback)( () => {
                var e, t;
                if (z || T || !ef || !e_)
                    return;
                let i = (null === (e = e_.location) || void 0 === e ? void 0 : e.split(", ")[0]) || e_.location || ""
                  , n = (null === (t = y.location) || void 0 === t ? void 0 : t.split(", ")[0]) || y.location || "";
                ef.transportType === ea.Xz.Flight ? U({
                    entity: N.q.FLIGHTS
                }) : (B(e => ({
                    ...e,
                    from: e_,
                    to: y,
                    legIndex: ev,
                    departureDate: (e_ ? new Date(e_.endDate) : new Date).toISOString().split("T")[0]
                })),
                U({
                    entity: ef.transportType === ea.Xz.Car ? N.q.CARS : N.q.ROUTE_OPTIONS,
                    fromCity: i,
                    toCity: n
                }))
            }
            , [z, T, ef, e_, y, ev, B, U])
              , eP = (0,
            l.useCallback)( () => {
                var e, t;
                if (z || T || !eI || !eb)
                    return;
                B(e => ({
                    ...e,
                    from: y,
                    to: eb,
                    legIndex: ey,
                    departureDate: new Date(y.endDate).toISOString().split("T")[0]
                }));
                let i = (null === (e = y.location) || void 0 === e ? void 0 : e.split(", ")[0]) || y.location || ""
                  , n = (null === (t = eb.location) || void 0 === t ? void 0 : t.split(", ")[0]) || eb.location || "";
                U({
                    entity: eI.transportType === ea.Xz.Flight ? N.q.FLIGHTS : eI.transportType === ea.Xz.Car ? N.q.CARS : N.q.ROUTE_OPTIONS,
                    fromCity: i,
                    toCity: n
                })
            }
            , [z, T, eI, y, eb, ey, B, U])
              , eD = (0,
            l.useCallback)( () => {
                eE(),
                el(!1)
            }
            , [eE])
              , eM = (0,
            l.useCallback)( () => {
                eE(),
                el(!1)
            }
            , [eE])
              , eL = (0,
            l.useCallback)(async () => {
                (null == ef ? void 0 : ef.transportType) === ea.Xz.Flight && b.flightSearchId && await ei(b.flightSearchId),
                el(!1)
            }
            , [null == ef ? void 0 : ef.transportType, b.flightSearchId, ei])
              , eO = (0,
            l.useCallback)( () => {
                eP(),
                es(!1)
            }
            , [eP])
              , eF = (0,
            l.useCallback)( () => {
                eP(),
                es(!1)
            }
            , [eP])
              , eB = (0,
            l.useCallback)(async () => {
                (null == eI ? void 0 : eI.transportType) === ea.Xz.Flight && b.flightSearchId && (await ei(b.flightSearchId),
                V({
                    event: "RemoveTripFlight"
                })),
                es(!1)
            }
            , [null == eI ? void 0 : eI.transportType, b.flightSearchId, ei, V])
              , [eH,eU] = (0,
            l.useState)("");
            (0,
            l.useEffect)( () => {
                var e;
                let t = y.location || "this destination"
                  , i = (null === (e = y.destination) || void 0 === e ? void 0 : e.country) || "this country"
                  , n = ep ? (0,
                r.q_)(ep) : "your travel date"
                  , l = ["trip.itinerary.quickReplies.showBestHotels", "trip.itinerary.quickReplies.findActivities", "trip.itinerary.quickReplies.getCarRentals", "trip.itinerary.quickReplies.findDayTrips", "trip.itinerary.quickReplies.getBestFlights", "trip.itinerary.quickReplies.findRestaurants", "trip.itinerary.quickReplies.checkWeather", "trip.itinerary.quickReplies.checkVisa"]
                  , a = Math.floor(Math.random() * l.length);
                eU(M(l[a], {
                    location: t,
                    country: i,
                    date: n
                }))
            }
            , [y.location, null === (c = y.destination) || void 0 === c ? void 0 : c.country, ep, M]);
            let ez = (0,
            l.useMemo)( () => !y.skipHotel && 0 === A, [y.skipHotel, A])
              , eq = (0,
            l.useMemo)( () => {
                let e = y.endDay - y.startDay + 1;
                return A >= 0 && A < e
            }
            , [A, y.endDay, y.startDay])
              , eW = (0,
            l.useMemo)( () => !1, []);
            return eq ? (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsxs)("div", {
                    className: n1().chatDaysWrapper,
                    id: 0 === A && 0 === j ? "first-day-content" : "day-".concat(null !== (x = null == b ? void 0 : null === (u = b.legs) || void 0 === u ? void 0 : u.findIndex(e => e === y)) && void 0 !== x ? x : j, "-").concat(A),
                    children: [(0,
                    n.jsx)("div", {
                        className: n1().chatBlockDesc,
                        children: eW ? (0,
                        n.jsx)(n8, {}) : (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsxs)(n.Fragment, {
                                children: [0 === A && (0,
                                n.jsx)("div", {
                                    ref: S ? S("weather-leg-".concat(j, "-day-").concat(A)) : void 0,
                                    className: "w-full relative z-[2] mb-4",
                                    children: (0,
                                    n.jsx)(nB, {
                                        date: (0,
                                        r.wj)(ep, y.startDay + A, G, W),
                                        city: Y,
                                        temperature: 28
                                    })
                                }), (0,
                                n.jsxs)("div", {
                                    className: "flex flex-col gap-12 w-full relative",
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: "absolute top-0 left-4 md:left-5! w-0.5 h-full bg-turquoise-200 z-[1]"
                                    }), 0 === A && ef && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: ( () => {
                                                    let e = ed(ef.transportType);
                                                    return (0,
                                                    n.jsx)(e, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                }
                                                )()
                                            })
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: "flex-1 flex items-start gap-4 ".concat(z || T ? "" : "cursor-pointer group"),
                                            onClick: z || T ? void 0 : eE,
                                            children: [(0,
                                            n.jsxs)("div", {
                                                className: "flex flex-col flex-1 gap-2",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "font-medium text-base ".concat(z || T ? "" : "group-hover:text-primary transition-colors"),
                                                    children: ef.title
                                                }), (0,
                                                n.jsxs)("div", {
                                                    className: "text-sm text-muted-foreground",
                                                    children: [(0,
                                                    n.jsxs)("div", {
                                                        className: "flex flex-wrap items-center gap-2",
                                                        children: [(0,
                                                        n.jsx)("span", {
                                                            children: ef.durationText
                                                        }), (0,
                                                        n.jsx)("span", {
                                                            className: "text-muted-foreground",
                                                            children: "•"
                                                        }), (0,
                                                        n.jsx)("span", {
                                                            children: ef.routeText
                                                        }), ef.carrierText && (0,
                                                        n.jsxs)(n.Fragment, {
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                className: "text-muted-foreground",
                                                                children: "•"
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                children: ef.carrierText
                                                            })]
                                                        })]
                                                    }), ex && (0,
                                                    n.jsx)("div", {
                                                        className: "font-medium text-foreground",
                                                        children: M("trip.itinerary.transport.fromPrice", {
                                                            price: ex
                                                        })
                                                    })]
                                                }), ef.transportType === ea.Xz.Flight && (!ef.priceInEuros || ef.priceInEuros <= 0 || !(null == q ? void 0 : null === (_ = q.tripProgress) || void 0 === _ ? void 0 : null === (v = _.breakdown) || void 0 === v ? void 0 : v.evaluateLiveFlights) || "done" !== q.tripProgress.breakdown.evaluateLiveFlights.status) && (0,
                                                n.jsx)("div", {
                                                    className: "inline-block bg-gray-100 rounded-full px-3 py-1.5 w-fit",
                                                    children: (0,
                                                    n.jsx)("span", {
                                                        className: "text-[#DC2626] text-base font-semibold",
                                                        children: M("trip.itinerary.fetchingLivePrices")
                                                    })
                                                }), k && ef.carrierImageUrl && (0,
                                                n.jsx)("div", {
                                                    className: "flex gap-2 mt-3",
                                                    children: (0,
                                                    n.jsx)("div", {
                                                        className: "w-20 h-9 rounded overflow-hidden flex-shrink-0",
                                                        children: (0,
                                                        n.jsx)($.A, {
                                                            src: ef.carrierImageUrl,
                                                            alt: ef.carrierName || "Airline",
                                                            width: 80,
                                                            height: 35,
                                                            className: "w-full h-full object-contain"
                                                        })
                                                    })
                                                }), k && !ef.carrierImageUrl && (0,
                                                n.jsx)("div", {
                                                    className: "flex gap-2 mt-3",
                                                    children: (0,
                                                    n.jsx)("div", {
                                                        className: "bg-gray-100 rounded-sm px-2 py-1 text-sm text-muted-foreground w-20 text-center",
                                                        children: M("trip.itinerary.transport.estimated")
                                                    })
                                                })]
                                            }), !z && !T && (0,
                                            n.jsxs)("div", {
                                                className: "relative flex-shrink-0",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "flex opacity-100 transition-opacity duration-200 z-10",
                                                    children: (0,
                                                    n.jsx)("button", {
                                                        className: "flex items-center justify-center p-1.5 rounded-full hover:bg-gray-100 transition-colors duration-150 cursor-pointer",
                                                        onClick: e => {
                                                            e.stopPropagation(),
                                                            el(!en)
                                                        }
                                                        ,
                                                        "aria-label": "Transport options",
                                                        children: (0,
                                                        n.jsx)(nM.A, {
                                                            className: "w-5 h-5 text-foreground"
                                                        })
                                                    })
                                                }), (0,
                                                n.jsx)(nz.A, {
                                                    isOpen: en,
                                                    onClose: () => el(!1),
                                                    onViewDetails: eM,
                                                    onReplace: eD,
                                                    onRemove: ef.transportType === ea.Xz.Flight && b.flightSearchId ? eL : void 0
                                                })]
                                            })]
                                        })]
                                    }), 0 === A && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(nx.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsx)("div", {
                                            className: "flex-1",
                                            children: (0,
                                            n.jsx)(n6.nD, {
                                                type: "single",
                                                collapsible: !0,
                                                className: "w-full",
                                                children: (0,
                                                n.jsx)(n6.As, {
                                                    value: "arrival-info",
                                                    className: "border-none",
                                                    children: (0,
                                                    n.jsx)("div", {
                                                        className: "flex gap-4",
                                                        children: (0,
                                                        n.jsxs)("div", {
                                                            className: "flex flex-col flex-1",
                                                            children: [(0,
                                                            n.jsx)("div", {
                                                                className: "font-medium text-base",
                                                                children: (null === (m = y.location) || void 0 === m ? void 0 : m.split(", ")[0]) || y.location
                                                            }), (null == y ? void 0 : y.description) && (0,
                                                            n.jsx)("div", {
                                                                className: "flex items-center gap-1.5 mt-2",
                                                                children: (0,
                                                                n.jsx)(n9.A, {
                                                                    content: eR,
                                                                    className: n1().customReadMoreText,
                                                                    readMoreClassName: n1().customReadMore,
                                                                    maxLines: 1
                                                                })
                                                            }), k && eT.length > 0 && (0,
                                                            n.jsx)("div", {
                                                                className: "flex gap-2 mt-3",
                                                                children: eT.map(e => {
                                                                    var t;
                                                                    return (0,
                                                                    n.jsx)("div", {
                                                                        className: "w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 relative ".concat("video" === e.type ? "cursor-pointer hover:opacity-80 transition-opacity" : ""),
                                                                        onClick: "video" === e.type ? e => {
                                                                            e.stopPropagation(),
                                                                            et(!0)
                                                                        }
                                                                        : void 0,
                                                                        children: (0,
                                                                        n.jsx)($.A, {
                                                                            src: e.url,
                                                                            alt: "".concat((null === (t = y.location) || void 0 === t ? void 0 : t.split(", ")[0]) || y.location, " ").concat(e.index + 1),
                                                                            width: 80,
                                                                            height: 80,
                                                                            className: "w-full h-full object-cover"
                                                                        })
                                                                    }, e.index)
                                                                }
                                                                )
                                                            })]
                                                        })
                                                    })
                                                })
                                            })
                                        })]
                                    }), A > 0 && (0,
                                    n.jsx)("div", {
                                        ref: S ? S("weather-leg-".concat(j, "-day-").concat(A)) : void 0,
                                        className: "relative z-[3] bg-white py-0.5 -mb-6",
                                        children: (0,
                                        n.jsx)(nB, {
                                            date: (0,
                                            r.wj)(ep, y.startDay + A, G, W),
                                            city: Y,
                                            temperature: 28
                                        })
                                    }), ez && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(nf.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsx)("div", {
                                            className: "flex-1",
                                            children: y.selectedHotel ? (0,
                                            n.jsx)(nW, {
                                                trip: b,
                                                leg: y,
                                                isRightPanelExpanded: I,
                                                legIndex: j,
                                                travelersCount: (null === (g = b.travelers) || void 0 === g ? void 0 : g.length) || 1,
                                                hotelsFacilities: null,
                                                isPreview: T,
                                                showImages: k
                                            }) : (0,
                                            n.jsx)(n5.A, {
                                                label: "accommodation",
                                                onClick: () => {
                                                    U({
                                                        entity: N.q.HOTEL_SEARCH,
                                                        leg: y,
                                                        legIndex: j,
                                                        hotelSearchId: y.hotelSearchId || ""
                                                    })
                                                }
                                            })
                                        })]
                                    }), eN && Z && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(ny.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsx)("div", {
                                            className: "flex-1 min-w-0",
                                            children: (0,
                                            n.jsx)(n7, {
                                                trip: b,
                                                leg: y,
                                                originalLegIndex: ev,
                                                date: (0,
                                                r.q_)(ep),
                                                day: y.startDay + A,
                                                selectedTransfer: H,
                                                openTransfersPopup: X,
                                                setOpenTransfersPopup: z ? () => {}
                                                : J,
                                                popupTitle: w.title,
                                                isPreview: T
                                            })
                                        })]
                                    }), ec.map( (e, t) => {
                                        var i;
                                        return (0,
                                        n.jsxs)("div", {
                                            className: "flex gap-5 relative",
                                            children: [(0,
                                            n.jsx)("div", {
                                                className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                                children: (0,
                                                n.jsx)("div", {
                                                    className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                    children: (0,
                                                    n.jsx)(nb.A, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                })
                                            }), (0,
                                            n.jsx)("div", {
                                                className: "flex-1 min-w-0",
                                                children: (0,
                                                n.jsx)(nK, {
                                                    activity: e,
                                                    numberOfTravelers: (null === (i = b.travelers) || void 0 === i ? void 0 : i.length) || 1,
                                                    dayIndex: A,
                                                    originalLegIndex: ev,
                                                    leg: y,
                                                    addActivities: () => {}
                                                    ,
                                                    isPreview: T,
                                                    date: ep,
                                                    tripId: b.id
                                                })
                                            })]
                                        }, "activity-".concat(e.id || t))
                                    }
                                    ), eu.map( (e, t) => {
                                        var i;
                                        return (0,
                                        n.jsxs)("div", {
                                            className: "flex gap-5 relative",
                                            children: [(0,
                                            n.jsx)("div", {
                                                className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                                children: (0,
                                                n.jsx)("div", {
                                                    className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                    children: (0,
                                                    n.jsx)(nb.A, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                })
                                            }), (0,
                                            n.jsx)("div", {
                                                className: "flex-1 min-w-0",
                                                children: (0,
                                                n.jsx)(nK, {
                                                    activity: e,
                                                    numberOfTravelers: (null === (i = b.travelers) || void 0 === i ? void 0 : i.length) || 1,
                                                    dayIndex: A,
                                                    originalLegIndex: ev,
                                                    leg: y,
                                                    addActivities: () => {}
                                                    ,
                                                    isPreview: T,
                                                    date: ep,
                                                    tripId: b.id
                                                })
                                            })]
                                        }, "attraction-".concat(e.id || t))
                                    }
                                    ), eI && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: ( () => {
                                                    let e = ed(eI.transportType);
                                                    return (0,
                                                    n.jsx)(e, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                }
                                                )()
                                            })
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: "flex-1 flex items-start gap-4 ".concat(z || T ? "" : "cursor-pointer group"),
                                            onClick: z || T ? void 0 : eP,
                                            children: [(0,
                                            n.jsxs)("div", {
                                                className: "flex flex-col flex-1 gap-2",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "font-medium text-base ".concat(z || T ? "" : "group-hover:text-primary transition-colors"),
                                                    children: eI.title
                                                }), (0,
                                                n.jsxs)("div", {
                                                    className: "text-sm text-muted-foreground",
                                                    children: [(0,
                                                    n.jsxs)("div", {
                                                        className: "flex flex-wrap items-center gap-2",
                                                        children: [(0,
                                                        n.jsx)("span", {
                                                            children: eI.durationText
                                                        }), (0,
                                                        n.jsx)("span", {
                                                            className: "text-muted-foreground",
                                                            children: "•"
                                                        }), (0,
                                                        n.jsx)("span", {
                                                            children: eI.routeText
                                                        }), eI.carrierText && (0,
                                                        n.jsxs)(n.Fragment, {
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                className: "text-muted-foreground",
                                                                children: "•"
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                children: eI.carrierText
                                                            })]
                                                        })]
                                                    }), eC && (0,
                                                    n.jsx)("div", {
                                                        className: "font-medium text-foreground",
                                                        children: M("trip.itinerary.transport.fromPrice", {
                                                            price: eC
                                                        })
                                                    })]
                                                }), k && eI.carrierImageUrl && (0,
                                                n.jsx)("div", {
                                                    className: "flex gap-2 mt-3",
                                                    children: (0,
                                                    n.jsx)("div", {
                                                        className: "w-20 h-9 rounded overflow-hidden flex-shrink-0",
                                                        children: (0,
                                                        n.jsx)($.A, {
                                                            src: eI.carrierImageUrl,
                                                            alt: eI.carrierName || "Airline",
                                                            width: 80,
                                                            height: 35,
                                                            className: "w-full h-full object-contain"
                                                        })
                                                    })
                                                }), k && !eI.carrierImageUrl && (0,
                                                n.jsx)("div", {
                                                    className: "flex gap-2 mt-3",
                                                    children: (0,
                                                    n.jsx)("div", {
                                                        className: "bg-gray-100 rounded-sm px-2 py-1 text-sm text-muted-foreground w-20 text-center",
                                                        children: M("trip.itinerary.transport.estimated")
                                                    })
                                                })]
                                            }), !z && !T && (0,
                                            n.jsxs)("div", {
                                                className: "relative flex-shrink-0",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "flex opacity-100 transition-opacity duration-200 z-10",
                                                    children: (0,
                                                    n.jsx)("button", {
                                                        className: "flex items-center justify-center p-1.5 rounded-full hover:bg-gray-100 transition-colors duration-150 cursor-pointer",
                                                        onClick: e => {
                                                            e.stopPropagation(),
                                                            es(!eo)
                                                        }
                                                        ,
                                                        "aria-label": "Return transport options",
                                                        children: (0,
                                                        n.jsx)(nM.A, {
                                                            className: "w-5 h-5 text-foreground"
                                                        })
                                                    })
                                                }), (0,
                                                n.jsx)(nz.A, {
                                                    isOpen: eo,
                                                    onClose: () => es(!1),
                                                    onViewDetails: eF,
                                                    onReplace: eO,
                                                    onRemove: eI.transportType === ea.Xz.Flight && b.flightSearchId ? eB : void 0
                                                })]
                                            })]
                                        })]
                                    }), (0,
                                    n.jsx)("div", {
                                        className: "",
                                        children: (0,
                                        n.jsx)(n4, {
                                            leg: y,
                                            dayIndex: A,
                                            date: ep,
                                            legIndex: j,
                                            trip: b,
                                            isLastDay: E,
                                            isLastLeg: R
                                        })
                                    })]
                                })]
                            }), T && eH && (0,
                            n.jsxs)("button", {
                                className: n1().quickReplyButton,
                                onClick: () => {
                                    let e = D.asPath
                                      , t = e.includes("?") ? "&" : "?";
                                    D.push("".concat(e).concat(t, "ask=").concat(encodeURIComponent(eH)))
                                }
                                ,
                                children: [(0,
                                n.jsx)(nL.A, {
                                    size: 16
                                }), eH]
                            })]
                        })
                    }), (0,
                    n.jsx)("div", {
                        className: "h-8"
                    })]
                }, A), (0,
                n.jsx)(t6.A, {
                    open: Q,
                    onClose: () => et(!1),
                    sx: {
                        zIndex: 1e4
                    },
                    slotProps: {
                        backdrop: {
                            style: {
                                backgroundColor: "rgba(0, 0, 0, 0.8)",
                                backdropFilter: "blur(2px)"
                            }
                        }
                    },
                    children: (0,
                    n.jsx)(t8.A, {
                        sx: {
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            width: "100%",
                            height: "100%"
                        },
                        role: "presentation",
                        children: (0,
                        n.jsx)(t9.A, {
                            videos: (null === (f = y.destination) || void 0 === f ? void 0 : f.videos) || [],
                            photos: ek,
                            onClose: () => et(!1),
                            hotelName: y.location || "",
                            width: 980,
                            height: 735,
                            skipGridView: !1
                        })
                    })
                })]
            }) : null
        }
          , lt = e => {
            let {leg: t, trip: i, isRightPanelExpanded: a, legIndex: o, isLastLeg: s, isPreview: d=!1, setWeatherWidgetRef: c} = e
              , u = (0,
            l.useRef)(null)
              , p = (0,
            l.useCallback)(e => t => {
                c && c(e)(t)
            }
            , [c]);
            return (0,
            r.Ej)(i.createdAt) || (null == t ? void 0 : t.itinerary) ? (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsx)("div", {
                    className: n1().container,
                    ref: u,
                    children: (0,
                    n.jsx)("div", {
                        children: t.itinerary && t.itinerary.length > 0 ? t.itinerary.map( (e, r) => {
                            var c, u;
                            return (0,
                            n.jsx)(l.Fragment, {
                                children: (0,
                                n.jsx)(le, {
                                    leg: t,
                                    trip: i,
                                    legIndex: o,
                                    item: e,
                                    dayIndex: r,
                                    isPreview: d,
                                    isRightPanelExpanded: a,
                                    setWeatherWidgetRef: p,
                                    isLastLeg: s,
                                    isLastDay: !(null === (c = t.itinerary) || void 0 === c ? void 0 : c[r + 1]),
                                    hasAirportTransfers: !!(null === (u = t.airportTransfers) || void 0 === u ? void 0 : u.length)
                                }, r)
                            }, r)
                        }
                        ) : Array.from({
                            length: t.endDay - t.startDay + 1
                        }, (e, l) => {
                            var r;
                            return (0,
                            n.jsx)(le, {
                                leg: t,
                                trip: i,
                                legIndex: o,
                                item: {
                                    title: "",
                                    note: "",
                                    description: "",
                                    isMock: !0
                                },
                                dayIndex: l,
                                isPreview: d,
                                isRightPanelExpanded: a,
                                setWeatherWidgetRef: p,
                                isLastLeg: s,
                                isLastDay: l === t.endDay - t.startDay,
                                hasAirportTransfers: !!(null === (r = t.airportTransfers) || void 0 === r ? void 0 : r.length)
                            }, "progressive-".concat(l))
                        }
                        )
                    })
                })
            }) : null
        }
        ;
        var li = i(91734)
          , ln = i(29291);
        let ll = e => {
            let {item: t, itemIndex: i} = e
              , {tAsString: l} = (0,
            C.Ay)();
            return (0,
            n.jsxs)(e0(), {
                href: t.url,
                target: "_blank",
                rel: "noopener noreferrer",
                onClick: e => e.stopPropagation(),
                className: "flex gap-5 relative cursor-pointer group",
                children: [(0,
                n.jsx)("div", {
                    className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                    children: (0,
                    n.jsx)("div", {
                        className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                        children: t.type === eB.VY.RESTAURANT ? (0,
                        n.jsx)(li.A, {
                            className: "w-5 h-5 md:size-6! text-white"
                        }) : (0,
                        n.jsx)(nx.A, {
                            className: "w-5 h-5 md:size-6! text-white"
                        })
                    })
                }), (0,
                n.jsxs)("div", {
                    className: "flex flex-col gap-2 flex-1",
                    children: [(0,
                    n.jsxs)("div", {
                        className: "flex grow justify-between items-center",
                        children: [(0,
                        n.jsx)("p", {
                            className: "font-medium text-base transition-colors group-hover:text-primary",
                            children: t.name
                        }), (0,
                        n.jsx)(ln.A, {
                            className: "w-4 h-4 text-muted-foreground",
                            size: 16
                        })]
                    }), (0,
                    n.jsx)(nq.D, {
                        variant: "default",
                        children: l(t.type === eB.VY.RESTAURANT ? "trip.itinerary.taglines.restaurant" : "trip.itinerary.taglines.place")
                    }), (0,
                    n.jsx)("p", {
                        className: "text-primary text-sm",
                        children: "View on Map"
                    })]
                })]
            }, "".concat(t.type, "-").concat(i))
        }
        ;
        var lr = i(61025)
          , la = i(18526)
          , lo = i(50447);
        let ls = d()( () => Promise.all([i.e(7215), i.e(1284)]).then(i.bind(i, 81284)).then(e => e.default), {
            loadableGenerated: {
                webpack: () => [81284]
            },
            ssr: !1
        })
          , ld = e => {
            var t, i, s, d, c, u, v, _, m, g, f, x, y, b, j, w, A, I;
            let {leg: T, trip: k, legIndex: S, day: R, dayIndex: E, isRightPanelExpanded: P, isPreview: D=!1, setWeatherWidgetRef: M, isLastLeg: L=!1, isLastDay: O=!1, hasAirportTransfers: F=!1, isDayOpen: B, toggleDay: H} = e
              , U = (0,
            o.useRouter)()
              , {tAsString: z} = (0,
            C.Ay)()
              , {tripActivities: q, tripAttractions: V, getSelectedLegRoute: W, setLegTransportState: G, selectedTransfer: Y} = (0,
            h.y)()
              , {updateTripNavState: X} = (0,
            a.Pd)()
              , {viewMode: J} = (0,
            nv.e)()
              , {chat: Z} = (0,
            tK.Y)()
              , K = (0,
            p.A)()
              , Q = (null === (t = T.location) || void 0 === t ? void 0 : t.split(", ")[0]) || T.location || ""
              , [et,ei] = (0,
            l.useState)(!1)
              , [en,el] = (0,
            l.useState)(!1)
              , [eo,es] = (0,
            l.useState)(!1)
              , {removeFlight: ed} = (0,
            h.y)()
              , [ec,eu] = (0,
            l.useState)(!1)
              , [ep,ev] = (0,
            l.useState)(!1)
              , e_ = e => {
                switch (e) {
                case ea.Xz.Flight:
                    return nR.A;
                case ea.Xz.Car:
                    return ny.A;
                case ea.Xz.Train:
                    return nE.A;
                case ea.Xz.Bus:
                    return nP.A;
                case ea.Xz.Boat:
                case ea.Xz.Ship:
                case ea.Xz.Ferry:
                    return nD.A;
                default:
                    return nR.A
                }
            }
              , em = e => {
                switch (e) {
                case ea.Xz.Flight:
                    return "trip.itinerary.taglines.flight";
                case ea.Xz.Car:
                    return "trip.itinerary.taglines.carRental";
                case ea.Xz.Train:
                    return "trip.itinerary.taglines.train";
                case ea.Xz.Bus:
                    return "trip.itinerary.taglines.bus";
                case ea.Xz.Boat:
                case ea.Xz.Ship:
                case ea.Xz.Ferry:
                    return "trip.itinerary.taglines.ferry";
                default:
                    return "trip.itinerary.taglines.flight"
                }
            }
              , eh = (0,
            l.useMemo)( () => {
                let e = T.endDay - T.startDay + 1;
                return (0,
                r.cf)(T.startDate, e)[E]
            }
            , [T.startDate, T.endDay, T.startDay, E])
              , eg = (0,
            l.useMemo)( () => k.legs.findIndex(e => T === e), [T, k.legs])
              , ef = (0,
            l.useMemo)( () => {
                let e = 0
                  , t = k.legs || [];
                for (let i = 0; i < t.length; i++) {
                    let n = t[i].routing;
                    (null == n ? void 0 : n.options) && n.options.some(e => {
                        var t;
                        return null === (t = e.option) || void 0 === t ? void 0 : t.some(e => "edge" === e.type && e.subType === ea.Xz.Flight)
                    }
                    ) && e++
                }
                return e
            }
            , [k.legs])
              , ex = (0,
            l.useMemo)( () => {
                var e;
                return (null == q ? void 0 : null === (e = q[eg]) || void 0 === e ? void 0 : e[E]) ? q[eg][E] : R.items.filter(e => e.type === eB.Mr.ACTIVITY)
            }
            , [q, eg, E, R.items])
              , ey = (0,
            l.useMemo)( () => {
                var e;
                return (null == V ? void 0 : null === (e = V[eg]) || void 0 === e ? void 0 : e[E]) ? V[eg][E] : R.items.filter(e => e.type === eB.VY.ATTRACTION || e.type === eB.Mr.ATTRACTION)
            }
            , [V, eg, E, R.items])
              , eb = (0,
            l.useMemo)( () => eg > 0 ? k.legs[eg - 1] : null, [eg, k.legs])
              , ej = (0,
            l.useMemo)( () => W ? W(eg) : null, [W, eg])
              , ew = (0,
            l.useMemo)( () => (0,
            ee.Di)(ej), [ej])
              , eA = (0,
            l.useMemo)( () => {
                var e;
                return null == ej ? void 0 : null === (e = ej.option) || void 0 === e ? void 0 : e.find(e => null == e ? void 0 : e.details)
            }
            , [ej])
              , eI = (0,
            l.useMemo)( () => {
                var e, t, i, n;
                if (!ej || !eA || 0 !== E || 0 === eg || "unknown" === T.preferredTransportMode)
                    return null;
                let l = null == ew ? void 0 : ew[0]
                  , r = eA.details;
                if (!l || !r)
                    return null;
                let a = (null == eb ? void 0 : null === (e = eb.location) || void 0 === e ? void 0 : e.split(", ")[0]) || (null == eb ? void 0 : eb.location) || ""
                  , o = (null === (t = T.location) || void 0 === t ? void 0 : t.split(", ")[0]) || T.location || ""
                  , s = l.subType
                  , d = ( (e, t) => {
                    switch (e) {
                    case ea.Xz.Flight:
                        return z("trip.itinerary.transport.flightTo", {
                            destination: t
                        });
                    case ea.Xz.Car:
                        return z("trip.itinerary.transport.driveTo", {
                            destination: t
                        });
                    case ea.Xz.Train:
                        return z("trip.itinerary.transport.trainTo", {
                            destination: t
                        });
                    case ea.Xz.Bus:
                        return z("trip.itinerary.transport.busTo", {
                            destination: t
                        });
                    case ea.Xz.Boat:
                    case ea.Xz.Ship:
                    case ea.Xz.Ferry:
                        return z("trip.itinerary.transport.ferryTo", {
                            destination: t
                        });
                    default:
                        return z("trip.itinerary.transport.transportTo", {
                            destination: t
                        })
                    }
                }
                )(s, o)
                  , c = s === ea.Xz.Flight
                  , u = r.durationInMinutes || 0
                  , p = Math.floor(u / 60)
                  , v = u % 60
                  , _ = p > 0 ? "".concat(p, "h ").concat(v, "m") : "".concat(v, "m")
                  , m = r.fromIata || a
                  , h = r.toIata || o
                  , g = "".concat(m, " - ").concat(h)
                  , f = null === (i = r.carriers) || void 0 === i ? void 0 : i[0]
                  , x = f ? "".concat(f.name, " ").concat(f.iata || "") : ""
                  , y = null == f ? void 0 : f.imageUrl
                  , b = null == f ? void 0 : f.name
                  , j = !r.latest;
                return {
                    title: d,
                    durationText: _,
                    routeText: g,
                    carrierText: x,
                    carrierImageUrl: y,
                    carrierName: b,
                    priceInEuros: null !== (n = r.priceInEuros) && void 0 !== n ? n : 0,
                    transportType: s,
                    isFlightTransport: c,
                    estimated: j
                }
            }
            , [ej, eA, ew, E, eg, eb, T, z])
              , {formattedPrice: eC} = (0,
            er.A)((null == eI ? void 0 : eI.priceInEuros) || 0, "EUR") || {
                formattedPrice: ""
            }
              , eN = (0,
            l.useMemo)( () => k.legs.length - 1, [k.legs.length])
              , eT = (0,
            l.useMemo)( () => k.legs[0], [k.legs])
              , ek = (0,
            l.useMemo)( () => W ? W(eN) : null, [W, eN])
              , eS = (0,
            l.useMemo)( () => (0,
            ee.Di)(ek), [ek])
              , eR = (0,
            l.useMemo)( () => {
                var e;
                return null == ek ? void 0 : null === (e = ek.option) || void 0 === e ? void 0 : e.find(e => null == e ? void 0 : e.details)
            }
            , [ek])
              , eE = (0,
            l.useMemo)( () => {
                var e, t, i, n;
                if (!ek || !eR || !O || !L || T === eT)
                    return null;
                let l = null == eS ? void 0 : eS[0]
                  , r = eR.details;
                if (!l || !r)
                    return null;
                let a = (null === (e = T.location) || void 0 === e ? void 0 : e.split(", ")[0]) || T.location || ""
                  , o = (null == eT ? void 0 : null === (t = eT.location) || void 0 === t ? void 0 : t.split(", ")[0]) || (null == eT ? void 0 : eT.location) || ""
                  , s = l.subType
                  , d = ( (e, t) => {
                    switch (e) {
                    case ea.Xz.Flight:
                        return z("trip.itinerary.transport.flightTo", {
                            destination: t
                        });
                    case ea.Xz.Car:
                        return z("trip.itinerary.transport.driveTo", {
                            destination: t
                        });
                    case ea.Xz.Train:
                        return z("trip.itinerary.transport.trainTo", {
                            destination: t
                        });
                    case ea.Xz.Bus:
                        return z("trip.itinerary.transport.busTo", {
                            destination: t
                        });
                    case ea.Xz.Boat:
                    case ea.Xz.Ship:
                    case ea.Xz.Ferry:
                        return z("trip.itinerary.transport.ferryTo", {
                            destination: t
                        });
                    default:
                        return z("trip.itinerary.transport.transportTo", {
                            destination: t
                        })
                    }
                }
                )(s, o)
                  , c = s === ea.Xz.Flight
                  , u = r.durationInMinutes || 0
                  , p = Math.floor(u / 60)
                  , v = u % 60
                  , _ = p > 0 ? "".concat(p, "h ").concat(v, "m") : "".concat(v, "m")
                  , m = r.fromIata || a
                  , h = r.toIata || o
                  , g = "".concat(m, " - ").concat(h)
                  , f = null === (i = r.carriers) || void 0 === i ? void 0 : i[0]
                  , x = f ? "".concat(f.name, " ").concat(f.iata || "") : ""
                  , y = null == f ? void 0 : f.imageUrl
                  , b = null == f ? void 0 : f.name
                  , j = !r.latest;
                return {
                    title: d,
                    durationText: _,
                    routeText: g,
                    carrierText: x,
                    carrierImageUrl: y,
                    carrierName: b,
                    priceInEuros: null !== (n = r.priceInEuros) && void 0 !== n ? n : 0,
                    transportType: s,
                    isFlightTransport: c,
                    estimated: j
                }
            }
            , [ek, eR, eS, O, L, T, eT, z])
              , {formattedPrice: eP} = (0,
            er.A)((null == eE ? void 0 : eE.priceInEuros) || 0, "EUR") || {
                formattedPrice: ""
            }
              , eD = (0,
            l.useCallback)( () => {
                let e = k.legs || []
                  , t = [];
                for (let l = 0; l < e.length; l++) {
                    let e = W(l);
                    if (!(null == e ? void 0 : e.option) || !Array.isArray(e.option) || !e.option.some(e => e && "edge" === e.type && e.subType === ea.Xz.Flight))
                        continue;
                    let r = e.option.find(e => e && "edge" === e.type && e.subType === ea.Xz.Flight && e.details);
                    if (null == r ? void 0 : r.details) {
                        var i, n;
                        let e = null === (i = r.details.segments) || void 0 === i ? void 0 : i[0]
                          , l = null === (n = r.details.segments) || void 0 === n ? void 0 : n[r.details.segments.length - 1]
                          , a = r.details.fromIata || (null == e ? void 0 : e.fromIata) || ""
                          , o = r.details.toIata || (null == l ? void 0 : l.toIata) || "";
                        a && o && t.push({
                            from: a,
                            to: o
                        })
                    }
                }
                if (0 === t.length)
                    return "";
                let l = []
                  , r = t[0].from;
                for (let e = 0; e < t.length; e++) {
                    let i = t[e];
                    0 === e ? r = "".concat(i.from, " → ").concat(i.to) : t[e - 1].to === i.from ? r += " → ".concat(i.to) : (l.push(r),
                    r = "".concat(i.from, " → ").concat(i.to))
                }
                return l.push(r),
                l.join(", ")
            }
            , [k.legs, W])
              , eM = (0,
            l.useMemo)( () => {
                if (!k.carRental || !k.carRental.carRentals || 0 === k.carRental.carRentals.length)
                    return null;
                let {pickUpLegIndex: e, dropOffLegIndex: t} = k.carRental
                  , i = eg === e
                  , n = eg === t;
                if (!i && !n)
                    return null;
                let l = k.carRental.carRentals[0]
                  , r = eh ? new Date(eh) : null;
                if (!r)
                    return null;
                let a = r.toISOString().split("T")[0]
                  , o = l.pickUpDate === a
                  , s = l.dropOffDate === a
                  , d = i && o
                  , c = n && s;
                return d || c ? {
                    carRental: l,
                    isPickup: d,
                    isDropoff: c
                } : null
            }
            , [k.carRental, eh, eg])
              , {formattedPrice: eL} = (0,
            er.A)((null == eM ? void 0 : null === (i = eM.carRental) || void 0 === i ? void 0 : i.price) || 0, "EUR") || {
                formattedPrice: ""
            };
            (0,
            l.useEffect)( () => {
                el(!0)
            }
            , []);
            let eO = (0,
            l.useMemo)( () => 0 === E && F, [E, F])
              , eF = (0,
            l.useMemo)( () => {
                var e, t;
                let i = [];
                if ((null === (e = T.destination) || void 0 === e ? void 0 : e.videos) && T.destination.videos.slice(0, 3).forEach( (e, t) => {
                    e.thumbnailUrl && i.push({
                        type: "video",
                        url: e.thumbnailUrl,
                        index: i.length,
                        originalIndex: t
                    })
                }
                ),
                i.length < 3) {
                    let e = [];
                    T.imageUrl && e.push(T.imageUrl),
                    (null === (t = T.destination) || void 0 === t ? void 0 : t.imageUrl) && !e.includes(T.destination.imageUrl) && e.push(T.destination.imageUrl);
                    let n = e.filter(e => e && "" !== e.trim())
                      , l = 3 - i.length;
                    n.slice(0, l).forEach( (e, t) => {
                        i.push({
                            type: "image",
                            url: e,
                            index: i.length,
                            originalIndex: t
                        })
                    }
                    )
                }
                return i
            }
            , [T.imageUrl, null === (s = T.destination) || void 0 === s ? void 0 : s.imageUrl, null === (d = T.destination) || void 0 === d ? void 0 : d.videos])
              , eH = (0,
            l.useMemo)( () => {
                var e;
                let t = [];
                return T.imageUrl && t.push(T.imageUrl),
                (null === (e = T.destination) || void 0 === e ? void 0 : e.imageUrl) && !t.includes(T.destination.imageUrl) && t.push(T.destination.imageUrl),
                t.filter(e => e && "" !== e.trim())
            }
            , [T.imageUrl, null === (c = T.destination) || void 0 === c ? void 0 : c.imageUrl])
              , eU = (0,
            l.useCallback)(e => {
                if (!e || !e.trim())
                    return [];
                let t = (e, t) => (0,
                n.jsx)(n3.A, {
                    text: e,
                    poi: t
                }, t.id)
                  , i = null == T ? void 0 : T.location
                  , l = T.selectedHotel ? (0,
                eV.OG)(T.selectedHotel) : null
                  , r = [...ey, ...ex, ...l ? [l] : []]
                  , a = (0,
                eV.D4)(e, r, t)
                  , o = (0,
                eV.Uh)(a, r, i, t);
                return (0,
                eV.uF)(o, i, t)
            }
            , [T, ey, ex])
              , ez = (0,
            l.useMemo)( () => eU(T.description || ""), [T.description, eU])
              , eq = (0,
            l.useCallback)( () => {
                var e, t;
                if (J || D || !eI || !eb)
                    return;
                (0,
                to.WO)({
                    tripId: k.id,
                    legIndex: eg,
                    dayIndex: E,
                    action: "replace-activity"
                }),
                G(e => ({
                    ...e,
                    from: eb,
                    to: T,
                    legIndex: eg,
                    departureDate: (eb ? new Date(eb.endDate) : new Date).toISOString().split("T")[0]
                }));
                let i = (null === (e = eb.location) || void 0 === e ? void 0 : e.split(", ")[0]) || eb.location || ""
                  , n = (null === (t = T.location) || void 0 === t ? void 0 : t.split(", ")[0]) || T.location || "";
                X({
                    entity: eI.transportType === ea.Xz.Flight ? N.q.FLIGHTS : eI.transportType === ea.Xz.Car ? N.q.CARS : N.q.ROUTE_OPTIONS,
                    fromCity: i,
                    toCity: n
                })
            }
            , [J, D, eI, eb, T, eg, G, X, k.id, E])
              , eW = (0,
            l.useCallback)( () => {
                var e, t;
                if (J || D || !eE || !eT)
                    return;
                (0,
                to.WO)({
                    tripId: k.id,
                    legIndex: eg,
                    dayIndex: E,
                    action: "replace-activity"
                }),
                G(e => ({
                    ...e,
                    from: T,
                    to: eT,
                    legIndex: eN,
                    departureDate: new Date(T.endDate).toISOString().split("T")[0]
                }));
                let i = (null === (e = T.location) || void 0 === e ? void 0 : e.split(", ")[0]) || T.location || ""
                  , n = (null === (t = eT.location) || void 0 === t ? void 0 : t.split(", ")[0]) || eT.location || "";
                X({
                    entity: eE.transportType === ea.Xz.Flight ? N.q.FLIGHTS : eE.transportType === ea.Xz.Car ? N.q.CARS : N.q.ROUTE_OPTIONS,
                    fromCity: i,
                    toCity: n
                })
            }
            , [J, D, eE, T, eT, eN, G, X, k.id, eg, E])
              , eG = (0,
            l.useCallback)( () => {
                (0,
                to.WO)({
                    tripId: k.id,
                    legIndex: eg,
                    dayIndex: E,
                    action: "replace-activity"
                }),
                eq(),
                eu(!1)
            }
            , [eq, E, eg, k.id])
              , eY = (0,
            l.useCallback)( () => {
                eq(),
                eu(!1)
            }
            , [eq])
              , eX = (0,
            l.useCallback)(async () => {
                (0,
                to.WO)({
                    tripId: k.id,
                    legIndex: eg,
                    dayIndex: E,
                    action: "remove-activity"
                }),
                (null == eI ? void 0 : eI.transportType) === ea.Xz.Flight && k.flightSearchId && await ed(k.flightSearchId),
                eu(!1)
            }
            , [null == eI ? void 0 : eI.transportType, k.flightSearchId, ed, E, eg, k.id])
              , eJ = (0,
            l.useCallback)( () => {
                (0,
                to.WO)({
                    tripId: k.id,
                    legIndex: eg,
                    dayIndex: E,
                    action: "replace-activity"
                }),
                eW(),
                ev(!1)
            }
            , [eW, E, eg, k.id])
              , eZ = (0,
            l.useCallback)( () => {
                eW(),
                ev(!1)
            }
            , [eW])
              , eK = (0,
            l.useCallback)(async () => {
                (0,
                to.WO)({
                    tripId: k.id,
                    legIndex: eg,
                    dayIndex: E,
                    action: "remove-activity"
                }),
                (null == eE ? void 0 : eE.transportType) === ea.Xz.Flight && k.flightSearchId && (await ed(k.flightSearchId),
                K({
                    event: "RemoveTripFlight"
                })),
                ev(!1)
            }
            , [null == eE ? void 0 : eE.transportType, k.flightSearchId, ed, K, E, eg, k.id])
              , [eQ,e$] = (0,
            l.useState)("");
            (0,
            l.useEffect)( () => {
                var e;
                let t = T.location || "this destination"
                  , i = (null === (e = T.destination) || void 0 === e ? void 0 : e.country) || "this country"
                  , n = eh ? (0,
                r.q_)(eh) : "your travel date"
                  , l = ["trip.itinerary.quickReplies.showBestHotels", "trip.itinerary.quickReplies.findActivities", "trip.itinerary.quickReplies.getCarRentals", "trip.itinerary.quickReplies.findDayTrips", "trip.itinerary.quickReplies.getBestFlights", "trip.itinerary.quickReplies.findRestaurants", "trip.itinerary.quickReplies.checkWeather", "trip.itinerary.quickReplies.checkVisa"]
                  , a = Math.floor(Math.random() * l.length);
                e$(z(l[a], {
                    location: t,
                    country: i,
                    date: n
                }))
            }
            , [T.location, null === (u = T.destination) || void 0 === u ? void 0 : u.country, eh, z]);
            let e0 = (0,
            l.useMemo)( () => !T.skipHotel && 0 === E, [T.skipHotel, E])
              , e1 = (0,
            l.useMemo)( () => {
                let e = T.endDay - T.startDay + 1;
                return E >= 0 && E < e
            }
            , [E, T.endDay, T.startDay])
              , e2 = (0,
            l.useMemo)( () => !1, []);
            return e1 ? (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("div", {
                    className: n1().chatDaysWrapper,
                    id: 0 === E && 0 === S ? "first-day-content" : "day-".concat(null !== (j = null == k ? void 0 : null === (v = k.legs) || void 0 === v ? void 0 : v.findIndex(e => e === T)) && void 0 !== j ? j : S, "-").concat(E),
                    children: (0,
                    n.jsx)("div", {
                        className: n1().chatBlockDesc,
                        children: e2 ? (0,
                        n.jsx)(n8, {}) : (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsxs)(n.Fragment, {
                                children: [0 === E && (0,
                                n.jsx)("div", {
                                    ref: M ? M("weather-leg-".concat(S, "-day-").concat(E)) : void 0,
                                    className: "w-full relative z-[2] mb-4",
                                    children: (0,
                                    n.jsx)(nB, {
                                        date: (0,
                                        r.bO)(eh),
                                        city: Q,
                                        open: null !== (w = null == B ? void 0 : B(S, E)) && void 0 !== w && w,
                                        temperature: 28,
                                        onClick: () => null == H ? void 0 : H(S, E)
                                    })
                                }), E > 0 && (0,
                                n.jsx)("div", {
                                    ref: M ? M("weather-leg-".concat(S, "-day-").concat(E)) : void 0,
                                    className: "relative z-[3] bg-white py-0.5 mb-4",
                                    children: (0,
                                    n.jsx)(nB, {
                                        date: (0,
                                        r.bO)(eh),
                                        city: Q,
                                        open: null !== (A = null == B ? void 0 : B(S, E)) && void 0 !== A && A,
                                        temperature: 28,
                                        onClick: () => null == H ? void 0 : H(S, E)
                                    })
                                }), null !== (I = null == B ? void 0 : B(S, E)) && void 0 !== I && I && (0,
                                n.jsxs)("div", {
                                    className: "flex flex-col gap-12 w-full mb-6 relative ",
                                    children: [(0,
                                    n.jsx)("div", {
                                        className: "absolute top-0 left-4 md:left-5! w-0.5 h-full bg-turquoise-200 z-[1]"
                                    }), 0 === E && eI && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: ( () => {
                                                    let e = e_(eI.transportType);
                                                    return (0,
                                                    n.jsx)(e, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                }
                                                )()
                                            })
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: "flex-1 flex items-start gap-4 ".concat(J || D ? "" : "cursor-pointer group"),
                                            onClick: J || D ? void 0 : eq,
                                            children: [(0,
                                            n.jsxs)("div", {
                                                className: "flex flex-col flex-1 gap-2",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "font-medium text-base ".concat(J || D ? "" : "group-hover:text-primary transition-colors"),
                                                    children: eI.title
                                                }), (0,
                                                n.jsxs)("div", {
                                                    className: "flex gap-4",
                                                    children: [eI.carrierImageUrl && (0,
                                                    n.jsx)("div", {
                                                        className: "flex gap-2 mt-3",
                                                        children: (0,
                                                        n.jsx)("div", {
                                                            className: "w-20 h-9 rounded overflow-hidden flex-shrink-0",
                                                            children: (0,
                                                            n.jsx)($.A, {
                                                                src: eI.carrierImageUrl,
                                                                alt: eI.carrierName || "Airline",
                                                                width: 80,
                                                                height: 35,
                                                                className: "w-full h-full object-contain"
                                                            })
                                                        })
                                                    }), eI.estimated && (0,
                                                    n.jsx)("div", {
                                                        className: "flex gap-2 mt-3",
                                                        children: (0,
                                                        n.jsx)("div", {
                                                            className: "bg-gray-100 rounded-sm px-2 py-1 text-sm text-muted-foreground w-20 text-center h-fit",
                                                            children: z("trip.itinerary.transport.estimated")
                                                        })
                                                    }), (0,
                                                    n.jsxs)("div", {
                                                        className: "flex flex-col gap-2 text-sm mt-2 text-muted-foreground",
                                                        children: [(0,
                                                        n.jsx)(nq.D, {
                                                            variant: "default",
                                                            children: z(em(eI.transportType))
                                                        }), (0,
                                                        n.jsxs)("div", {
                                                            className: "flex flex-wrap items-center gap-2",
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                children: eI.durationText
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                className: "text-muted-foreground",
                                                                children: "•"
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                children: eI.routeText
                                                            }), eI.carrierText && (0,
                                                            n.jsxs)(n.Fragment, {
                                                                children: [(0,
                                                                n.jsx)("span", {
                                                                    className: "text-muted-foreground",
                                                                    children: "•"
                                                                }), (0,
                                                                n.jsx)("span", {
                                                                    children: eI.carrierText
                                                                })]
                                                            })]
                                                        }), eC && (0,
                                                        n.jsxs)("div", {
                                                            className: "font-medium text-foreground flex flex-wrap items-center gap-1",
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                children: z("trip.itinerary.transport.fromPrice", {
                                                                    price: eC
                                                                })
                                                            }), eI.transportType === ea.Xz.Flight && ef > 1 && (0,
                                                            n.jsxs)("span", {
                                                                children: ["(", ef > 2 ? z("trip.itinerary.flightInfo.multicity") : z("trip.itinerary.flightInfo.return"), ")"]
                                                            }), (0,
                                                            n.jsx)(la.A, {
                                                                title: z("trip.itinerary.flightInfo.fullTripTooltip", {
                                                                    route: eD()
                                                                }),
                                                                arrow: !0,
                                                                placement: "top",
                                                                children: (0,
                                                                n.jsx)("div", {
                                                                    style: {
                                                                        width: "20px",
                                                                        height: "20px",
                                                                        borderRadius: "50%",
                                                                        display: "inline-flex",
                                                                        alignItems: "center",
                                                                        justifyContent: "center",
                                                                        cursor: "pointer",
                                                                        color: "black",
                                                                        marginLeft: "4px"
                                                                    },
                                                                    onMouseEnter: e => {
                                                                        e.currentTarget.style.backgroundColor = "rgba(0, 0, 0, 0.3)"
                                                                    }
                                                                    ,
                                                                    onMouseLeave: e => {
                                                                        e.currentTarget.style.backgroundColor = "rgba(10, 10, 10, 0.0)"
                                                                    }
                                                                    ,
                                                                    children: (0,
                                                                    n.jsx)(lo.A, {
                                                                        fontSize: "small",
                                                                        sx: {
                                                                            width: "16px",
                                                                            height: "16px"
                                                                        }
                                                                    })
                                                                })
                                                            })]
                                                        })]
                                                    })]
                                                }), eI.transportType === ea.Xz.Flight && !0 === k.livePrice && (null == Z ? void 0 : null === (g = Z.tripProgress) || void 0 === g ? void 0 : null === (m = g.breakdown) || void 0 === m ? void 0 : null === (_ = m.evaluateLiveFlights) || void 0 === _ ? void 0 : _.status) === "doing" && (0,
                                                n.jsx)(lr.E, {
                                                    variant: "destructive",
                                                    className: "w-fit text-destructive bg-secondary",
                                                    children: z("trip.itinerary.fetchingLivePrices")
                                                })]
                                            }), (0,
                                            n.jsxs)("div", {
                                                className: "relative flex-shrink-0",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "flex opacity-100 transition-opacity duration-200 z-10",
                                                    children: (0,
                                                    n.jsx)("button", {
                                                        className: "flex items-center justify-center p-1.5 rounded-full hover:bg-gray-100 transition-colors duration-150 cursor-pointer",
                                                        onClick: e => {
                                                            e.stopPropagation(),
                                                            eu(!ec)
                                                        }
                                                        ,
                                                        "aria-label": "Transport options",
                                                        children: (0,
                                                        n.jsx)(nM.A, {
                                                            className: "w-5 h-5 text-foreground"
                                                        })
                                                    })
                                                }), (0,
                                                n.jsx)(nz.A, {
                                                    isOpen: ec,
                                                    onClose: () => eu(!1),
                                                    onViewDetails: eY,
                                                    onReplace: eG,
                                                    onRemove: eI.transportType === ea.Xz.Flight && k.flightSearchId ? eX : void 0
                                                })]
                                            })]
                                        })]
                                    }), eM && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(ny.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: "flex-1 flex items-start gap-4 ".concat(J || D ? "" : "cursor-pointer group"),
                                            onClick: J || D || !eM.carRental.deepLinkUrl ? void 0 : () => window.open(eM.carRental.deepLinkUrl, "_blank"),
                                            children: [eM.carRental.carImageUrl && (0,
                                            n.jsx)("div", {
                                                className: "w-20 h-16 rounded overflow-hidden flex-shrink-0",
                                                children: (0,
                                                n.jsx)($.A, {
                                                    src: eM.carRental.carImageUrl,
                                                    alt: eM.carRental.car || "Car",
                                                    width: 80,
                                                    height: 64,
                                                    className: "w-full h-full object-cover"
                                                })
                                            }), !eM.carRental.carImageUrl && eM.carRental.supplierImageUrl && (0,
                                            n.jsx)("div", {
                                                className: "w-20 h-9 rounded overflow-hidden flex-shrink-0 flex items-center justify-center bg-gray-50",
                                                children: (0,
                                                n.jsx)($.A, {
                                                    src: eM.carRental.supplierImageUrl,
                                                    alt: eM.carRental.supplier || "Car Rental Company",
                                                    width: 80,
                                                    height: 35,
                                                    className: "w-full h-full object-contain"
                                                })
                                            }), (0,
                                            n.jsxs)("div", {
                                                className: "flex flex-col flex-1 gap-2",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "font-medium text-base",
                                                    children: eM.isPickup ? "Pick up ".concat(eM.carRental.car) : "Drop off ".concat(eM.carRental.car)
                                                }), (0,
                                                n.jsxs)("div", {
                                                    className: "flex flex-col gap-2 text-sm text-muted-foreground",
                                                    children: [(0,
                                                    n.jsx)(nq.D, {
                                                        variant: "default",
                                                        children: z("trip.itinerary.taglines.carRental")
                                                    }), (0,
                                                    n.jsxs)("div", {
                                                        className: "flex flex-wrap items-center gap-2",
                                                        children: [(0,
                                                        n.jsx)("span", {
                                                            children: ( () => {
                                                                let e = new Date(eM.carRental.pickUpDate)
                                                                  , t = Math.ceil((new Date(eM.carRental.dropOffDate).getTime() - e.getTime()) / 864e5);
                                                                return 1 === t ? "1 day" : "".concat(t, " days")
                                                            }
                                                            )()
                                                        }), (0,
                                                        n.jsx)("span", {
                                                            className: "text-muted-foreground",
                                                            children: "•"
                                                        }), (0,
                                                        n.jsx)("span", {
                                                            children: ( () => {
                                                                var e, t, i, n;
                                                                let l = eM.carRental.pickUpLocation || ((null === (e = k.carRental) || void 0 === e ? void 0 : e.pickUpLegIndex) !== void 0 ? null === (t = k.legs[k.carRental.pickUpLegIndex]) || void 0 === t ? void 0 : t.location : T.location)
                                                                  , r = eM.carRental.dropOffLocation || ((null === (i = k.carRental) || void 0 === i ? void 0 : i.dropOffLegIndex) !== void 0 ? null === (n = k.legs[k.carRental.dropOffLegIndex]) || void 0 === n ? void 0 : n.location : T.location);
                                                                return l === r ? l : "".concat(null == l ? void 0 : l.split(", ")[0], " - ").concat(null == r ? void 0 : r.split(", ")[0])
                                                            }
                                                            )()
                                                        }), eM.carRental.supplier && (0,
                                                        n.jsxs)(n.Fragment, {
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                className: "text-muted-foreground",
                                                                children: "•"
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                children: eM.carRental.supplier
                                                            })]
                                                        })]
                                                    }), ( () => {
                                                        let e = [eM.carRental.category, eM.carRental.transmission, eM.carRental.type].filter(Boolean).join(" • ");
                                                        return e && (0,
                                                        n.jsx)("div", {
                                                            className: "text-xs text-muted-foreground mt-1",
                                                            children: e
                                                        })
                                                    }
                                                    )(), eL && (0,
                                                    n.jsx)("div", {
                                                        className: "font-medium text-foreground mt-1",
                                                        children: z("trip.itinerary.transport.fromPrice", {
                                                            price: eL
                                                        })
                                                    }), eM.carRental.freeCancellation && (0,
                                                    n.jsx)("div", {
                                                        className: "text-xs text-green-600 mt-1",
                                                        children: "Free Cancellation"
                                                    })]
                                                })]
                                            })]
                                        })]
                                    }), 0 === E && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(nx.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsx)(n6.nD, {
                                            type: "single",
                                            collapsible: !0,
                                            className: "w-full",
                                            children: (0,
                                            n.jsx)(n6.As, {
                                                value: "arrival-info",
                                                className: "border-none",
                                                children: (0,
                                                n.jsx)("div", {
                                                    className: "flex gap-4",
                                                    children: (0,
                                                    n.jsxs)("div", {
                                                        className: "flex flex-col flex-1",
                                                        children: [(0,
                                                        n.jsx)("div", {
                                                            className: "font-medium text-base",
                                                            children: (null === (f = T.location) || void 0 === f ? void 0 : f.split(", ")[0]) || T.location
                                                        }), (null == T ? void 0 : T.description) && eF.length > 0 && (0,
                                                        n.jsxs)("div", {
                                                            className: "flex gap-4 mt-2",
                                                            children: [(0,
                                                            n.jsx)("div", {
                                                                className: "w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 relative ".concat("video" === eF[0].type ? "cursor-pointer hover:opacity-80 transition-opacity" : ""),
                                                                onClick: "video" === eF[0].type ? e => {
                                                                    e.stopPropagation(),
                                                                    es(!0)
                                                                }
                                                                : void 0,
                                                                children: (0,
                                                                n.jsx)($.A, {
                                                                    src: eF[0].url,
                                                                    alt: "".concat((null === (x = T.location) || void 0 === x ? void 0 : x.split(", ")[0]) || T.location, " ", 1),
                                                                    width: 80,
                                                                    height: 80,
                                                                    className: "w-full h-full object-cover"
                                                                })
                                                            }, 0), (0,
                                                            n.jsxs)("div", {
                                                                className: "flex flex-col gap-2",
                                                                children: [(0,
                                                                n.jsx)(nq.D, {
                                                                    variant: "default",
                                                                    children: z("trip.itinerary.taglines.destination")
                                                                }), (0,
                                                                n.jsx)(n9.A, {
                                                                    content: ez,
                                                                    className: n1().customReadMoreText,
                                                                    readMoreClassName: n1().customReadMore,
                                                                    maxLines: 1
                                                                })]
                                                            })]
                                                        })]
                                                    })
                                                })
                                            })
                                        })]
                                    }), e0 && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(nf.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsx)("div", {
                                            className: "flex-1",
                                            children: T.selectedHotel ? (0,
                                            n.jsx)(nW, {
                                                trip: k,
                                                leg: T,
                                                isRightPanelExpanded: P || !1,
                                                legIndex: S,
                                                travelersCount: (null === (y = k.travelers) || void 0 === y ? void 0 : y.length) || 1,
                                                hotelsFacilities: null,
                                                isPreview: D
                                            }) : (0,
                                            n.jsx)(n5.A, {
                                                label: "accommodation",
                                                onClick: () => {
                                                    X({
                                                        entity: N.q.HOTEL_SEARCH,
                                                        leg: T,
                                                        legIndex: S,
                                                        hotelSearchId: T.hotelSearchId || ""
                                                    })
                                                }
                                            })
                                        })]
                                    }), eO && en && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: (0,
                                                n.jsx)(ny.A, {
                                                    className: "w-5 h-5 md:size-6! text-white"
                                                })
                                            })
                                        }), (0,
                                        n.jsx)("div", {
                                            className: "flex-1 min-w-0",
                                            children: (0,
                                            n.jsx)(ls, {
                                                trip: k,
                                                leg: T,
                                                originalLegIndex: eg,
                                                date: (0,
                                                r.q_)(eh),
                                                day: T.startDay + E,
                                                selectedTransfer: Y,
                                                openTransfersPopup: et,
                                                setOpenTransfersPopup: J ? () => {}
                                                : ei,
                                                popupTitle: "",
                                                isPreview: D
                                            })
                                        })]
                                    }), R.items.map( (e, t) => {
                                        var i, l;
                                        return e.type === eB.Mr.ACTIVITY ? (0,
                                        n.jsxs)("div", {
                                            className: "flex gap-5 relative",
                                            children: [(0,
                                            n.jsx)("div", {
                                                className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                                children: (0,
                                                n.jsx)("div", {
                                                    className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                    children: (0,
                                                    n.jsx)(nb.A, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                })
                                            }), (0,
                                            n.jsx)("div", {
                                                className: "flex-1 min-w-0",
                                                children: (0,
                                                n.jsx)(nK, {
                                                    activity: e,
                                                    numberOfTravelers: (null === (i = k.travelers) || void 0 === i ? void 0 : i.length) || 1,
                                                    dayIndex: E,
                                                    originalLegIndex: eg,
                                                    leg: T,
                                                    addActivities: () => {}
                                                    ,
                                                    isPreview: D,
                                                    date: eh,
                                                    tripId: k.id
                                                })
                                            })]
                                        }, e.id || "activity-".concat(t)) : e.type === eB.VY.ATTRACTION || e.type === eB.Mr.ATTRACTION ? (0,
                                        n.jsxs)("div", {
                                            className: "flex gap-5 relative",
                                            children: [(0,
                                            n.jsx)("div", {
                                                className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                                children: (0,
                                                n.jsx)("div", {
                                                    className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                    children: (0,
                                                    n.jsx)(nb.A, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                })
                                            }), (0,
                                            n.jsx)("div", {
                                                className: "flex-1 min-w-0",
                                                children: (0,
                                                n.jsx)(nK, {
                                                    activity: e,
                                                    numberOfTravelers: (null === (l = k.travelers) || void 0 === l ? void 0 : l.length) || 1,
                                                    dayIndex: E,
                                                    originalLegIndex: eg,
                                                    leg: T,
                                                    addActivities: () => {}
                                                    ,
                                                    isPreview: D,
                                                    date: eh,
                                                    tripId: k.id
                                                })
                                            })]
                                        }, e.id || "attraction-".concat(t)) : e.type === eB.VY.RESTAURANT || e.type === eB.VY.POI ? (0,
                                        n.jsx)(ll, {
                                            item: e,
                                            itemIndex: t
                                        }, "".concat(e.type, "-").concat(t)) : null
                                    }
                                    ), eE && (0,
                                    n.jsxs)("div", {
                                        className: "flex gap-5 relative",
                                        children: [(0,
                                        n.jsx)("div", {
                                            className: "py-0.5 bg-white relative z-[2] w-8 h-8 md:w-10! md:h-10!",
                                            children: (0,
                                            n.jsx)("div", {
                                                className: "flex items-center justify-center w-8 h-8 md:w-10! md:h-10! rounded-full bg-primary flex-shrink-0",
                                                children: ( () => {
                                                    let e = e_(eE.transportType);
                                                    return (0,
                                                    n.jsx)(e, {
                                                        className: "w-5 h-5 md:size-6! text-white"
                                                    })
                                                }
                                                )()
                                            })
                                        }), (0,
                                        n.jsxs)("div", {
                                            className: "flex-1 flex items-start gap-4 ".concat(J || D ? "" : "cursor-pointer group"),
                                            onClick: J || D ? void 0 : eW,
                                            children: [(0,
                                            n.jsxs)("div", {
                                                className: "flex flex-col flex-1 gap-2",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "font-medium text-base ".concat(J || D ? "" : "group-hover:text-primary transition-colors"),
                                                    children: eE.title
                                                }), (0,
                                                n.jsxs)("div", {
                                                    className: "flex gap-4",
                                                    children: [eE.carrierImageUrl && (0,
                                                    n.jsx)("div", {
                                                        className: "flex gap-2 mt-3",
                                                        children: (0,
                                                        n.jsx)("div", {
                                                            className: "w-20 h-9 rounded overflow-hidden flex-shrink-0",
                                                            children: (0,
                                                            n.jsx)($.A, {
                                                                src: eE.carrierImageUrl,
                                                                alt: eE.carrierName || "Airline",
                                                                width: 80,
                                                                height: 35,
                                                                className: "w-full h-full object-contain"
                                                            })
                                                        })
                                                    }), eE.estimated && (0,
                                                    n.jsx)("div", {
                                                        className: "flex gap-2 mt-3",
                                                        children: (0,
                                                        n.jsx)("div", {
                                                            className: "bg-gray-100 rounded-sm px-2 py-1 text-sm text-muted-foreground w-20 text-center h-fit",
                                                            children: z("trip.itinerary.transport.estimated")
                                                        })
                                                    }), (0,
                                                    n.jsxs)("div", {
                                                        className: "flex flex-col gap-2 text-sm text-muted-foreground",
                                                        children: [(0,
                                                        n.jsx)(nq.D, {
                                                            variant: "default",
                                                            children: z(em(eE.transportType))
                                                        }), (0,
                                                        n.jsxs)("div", {
                                                            className: "flex flex-wrap items-center gap-2",
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                children: eE.durationText
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                className: "text-muted-foreground",
                                                                children: "•"
                                                            }), (0,
                                                            n.jsx)("span", {
                                                                children: eE.routeText
                                                            }), eE.carrierText && (0,
                                                            n.jsxs)(n.Fragment, {
                                                                children: [(0,
                                                                n.jsx)("span", {
                                                                    className: "text-muted-foreground",
                                                                    children: "•"
                                                                }), (0,
                                                                n.jsx)("span", {
                                                                    children: eE.carrierText
                                                                })]
                                                            })]
                                                        }), eP && (0,
                                                        n.jsxs)("div", {
                                                            className: "font-medium text-foreground flex flex-wrap items-center gap-1",
                                                            children: [(0,
                                                            n.jsx)("span", {
                                                                children: z("trip.itinerary.transport.fromPrice", {
                                                                    price: eP
                                                                })
                                                            }), eE.transportType === ea.Xz.Flight && ef > 1 && (0,
                                                            n.jsxs)("span", {
                                                                children: ["(", ef > 2 ? z("trip.itinerary.flightInfo.multicity") : z("trip.itinerary.flightInfo.return"), ")"]
                                                            }), (0,
                                                            n.jsx)(la.A, {
                                                                title: z("trip.itinerary.flightInfo.fullTripTooltip", {
                                                                    route: eD()
                                                                }),
                                                                arrow: !0,
                                                                placement: "top",
                                                                children: (0,
                                                                n.jsx)("div", {
                                                                    style: {
                                                                        width: "20px",
                                                                        height: "20px",
                                                                        borderRadius: "50%",
                                                                        display: "inline-flex",
                                                                        alignItems: "center",
                                                                        justifyContent: "center",
                                                                        cursor: "pointer",
                                                                        color: "black",
                                                                        marginLeft: "4px"
                                                                    },
                                                                    onMouseEnter: e => {
                                                                        e.currentTarget.style.backgroundColor = "rgba(0, 0, 0, 0.3)"
                                                                    }
                                                                    ,
                                                                    onMouseLeave: e => {
                                                                        e.currentTarget.style.backgroundColor = "rgba(10, 10, 10, 0.0)"
                                                                    }
                                                                    ,
                                                                    children: (0,
                                                                    n.jsx)(lo.A, {
                                                                        fontSize: "small",
                                                                        sx: {
                                                                            width: "16px",
                                                                            height: "16px"
                                                                        }
                                                                    })
                                                                })
                                                            })]
                                                        })]
                                                    })]
                                                })]
                                            }), !J && !D && (0,
                                            n.jsxs)("div", {
                                                className: "relative flex-shrink-0",
                                                children: [(0,
                                                n.jsx)("div", {
                                                    className: "flex opacity-100 transition-opacity duration-200 z-10",
                                                    children: (0,
                                                    n.jsx)("button", {
                                                        className: "flex items-center justify-center p-1.5 rounded-full hover:bg-gray-100 transition-colors duration-150 cursor-pointer",
                                                        onClick: e => {
                                                            e.stopPropagation(),
                                                            ev(!ep)
                                                        }
                                                        ,
                                                        "aria-label": "Return transport options",
                                                        children: (0,
                                                        n.jsx)(nM.A, {
                                                            className: "w-5 h-5 text-foreground"
                                                        })
                                                    })
                                                }), (0,
                                                n.jsx)(nz.A, {
                                                    isOpen: ep,
                                                    onClose: () => ev(!1),
                                                    onViewDetails: eZ,
                                                    onReplace: eJ,
                                                    onRemove: eE.transportType === ea.Xz.Flight && k.flightSearchId ? eK : void 0
                                                })]
                                            })]
                                        })]
                                    }), (0,
                                    n.jsx)("div", {
                                        className: "",
                                        children: (0,
                                        n.jsx)(n4, {
                                            leg: T,
                                            dayIndex: E,
                                            date: eh,
                                            legIndex: S,
                                            trip: k,
                                            isLastDay: O,
                                            isLastLeg: L
                                        })
                                    })]
                                })]
                            }), D && eQ && (0,
                            n.jsxs)("button", {
                                className: n1().quickReplyButton,
                                onClick: () => {
                                    let e = U.asPath
                                      , t = e.includes("?") ? "&" : "?";
                                    U.push("".concat(e).concat(t, "ask=").concat(encodeURIComponent(eQ)))
                                }
                                ,
                                children: [(0,
                                n.jsx)(nL.A, {
                                    size: 16
                                }), eQ]
                            })]
                        })
                    })
                }, E), (0,
                n.jsx)(t6.A, {
                    open: eo,
                    onClose: () => es(!1),
                    sx: {
                        zIndex: 1e4
                    },
                    slotProps: {
                        backdrop: {
                            style: {
                                backgroundColor: "rgba(0, 0, 0, 0.8)",
                                backdropFilter: "blur(2px)"
                            }
                        }
                    },
                    children: (0,
                    n.jsx)(t8.A, {
                        sx: {
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            width: "100%",
                            height: "100%"
                        },
                        role: "presentation",
                        children: (0,
                        n.jsx)(t9.A, {
                            videos: (null === (b = T.destination) || void 0 === b ? void 0 : b.videos) || [],
                            photos: eH,
                            onClose: () => es(!1),
                            hotelName: T.location || "",
                            width: 980,
                            height: 735,
                            skipGridView: !1
                        })
                    })
                })]
            }) : null
        }
          , lc = e => {
            let {leg: t, trip: i, isRightPanelExpanded: a, legIndex: o, isLastLeg: s, isPreview: d=!1, setWeatherWidgetRef: c, isDayOpen: u, toggleDay: p, expandAll: v, collapseAll: _, allDaysOpen: m, totalDays: h} = e
              , {tAsString: g} = (0,
            C.Ay)()
              , f = (0,
            l.useRef)(null)
              , x = (0,
            l.useCallback)(e => t => {
                c && c(e)(t)
            }
            , [c]);
            return (0,
            r.Ej)(i.createdAt) || (null == t ? void 0 : t.days) ? (0,
            n.jsx)(n.Fragment, {
                children: (0,
                n.jsx)("div", {
                    className: n1().container,
                    ref: f,
                    children: (0,
                    n.jsxs)("div", {
                        children: [t.days && t.days.length > 0 ? t.days.map( (e, r) => {
                            var c, v;
                            return (0,
                            n.jsx)(l.Fragment, {
                                children: (0,
                                n.jsx)(ld, {
                                    leg: t,
                                    trip: i,
                                    legIndex: o,
                                    day: e,
                                    dayIndex: r,
                                    isPreview: d,
                                    isRightPanelExpanded: a,
                                    setWeatherWidgetRef: x,
                                    isLastLeg: s,
                                    isLastDay: !(null === (c = t.days) || void 0 === c ? void 0 : c[r + 1]),
                                    hasAirportTransfers: !!(null === (v = t.airportTransfers) || void 0 === v ? void 0 : v.length),
                                    isDayOpen: u,
                                    toggleDay: p
                                }, r)
                            }, r)
                        }
                        ) : Array.from({
                            length: t.endDay - t.startDay + 1
                        }, (e, l) => {
                            var r;
                            return (0,
                            n.jsx)(ld, {
                                leg: t,
                                trip: i,
                                legIndex: o,
                                day: {
                                    items: []
                                },
                                dayIndex: l,
                                isPreview: d,
                                isRightPanelExpanded: a,
                                setWeatherWidgetRef: x,
                                isLastLeg: s,
                                isLastDay: l === t.endDay - t.startDay,
                                hasAirportTransfers: !!(null === (r = t.airportTransfers) || void 0 === r ? void 0 : r.length),
                                isDayOpen: u,
                                toggleDay: p
                            }, "progressive-".concat(l))
                        }
                        ), v && _ && h && h > 1 && (0,
                        n.jsx)("div", {
                            className: "w-full flex",
                            children: (0,
                            n.jsx)(ic.$, {
                                onClick: m ? _ : v,
                                variant: "link",
                                className: "text-sm font-medium text-foreground underline",
                                children: g(m ? "itinerary.collapseAll" : "itinerary.expandAll")
                            })
                        })]
                    })
                })
            }) : null
        }
          , lu = e => {
            let {trip: t, leg: i, originalLegIndex: l} = e;
            if ((null == t ? void 0 : t.version) === eB.sG.V2) {
                let r = {
                    ...e,
                    trip: t,
                    leg: i,
                    originalLegIndex: l
                };
                return (0,
                n.jsx)(lc, {
                    ...r
                })
            }
            return (0,
            n.jsx)(lt, {
                ...e
            })
        }
        ;
        var lp = i(28537)
          , lv = i.n(lp);
        let l_ = function(e) {
            let {leg: t, trip: i, index: l, originalLegIndex: r, isRightPanelExpanded: a, isLastLeg: o, onHotelHover: s, onActivityHover: d, isPreview: c=!1, hideMap: u=!1, setWeatherWidgetRef: p, isDayOpen: v, toggleDay: _, expandAll: m, collapseAll: h, allDaysOpen: g, totalDays: f} = e;
            return (0,
            n.jsx)("div", {
                className: lv().tab_component_with_timeline,
                children: (0,
                n.jsx)("div", {
                    className: "".concat(lv().tab_component_content, " ").concat(o ? lv().tab_component_content_last : "", " ").concat(c ? lv().tab_component_content_preview : ""),
                    children: (0,
                    n.jsx)(lu, {
                        leg: t,
                        trip: i,
                        legIndex: l,
                        originalLegIndex: r,
                        travelers: i.travelers,
                        isRightPanelExpanded: a,
                        isLastLeg: o,
                        onHotelHover: s,
                        onActivityHover: d,
                        isPreview: c,
                        hideMap: u,
                        setWeatherWidgetRef: p,
                        isDayOpen: v,
                        toggleDay: _,
                        expandAll: m,
                        collapseAll: h,
                        allDaysOpen: g,
                        totalDays: f
                    })
                })
            })
        };
        var lm = i(60023)
          , lh = i(73763)
          , lg = i.n(lh);
        let lf = d()( () => Promise.all([i.e(9527), i.e(3606)]).then(i.bind(i, 43606)).then(e => e.EditLegOverviewButton), {
            loadableGenerated: {
                webpack: () => [43606]
            },
            ssr: !1
        })
          , lx = e => {
            let {trip: t, leg: i} = e
              , {enabled: l} = (0,
            eo.j)();
            return l && i ? (0,
            n.jsx)(lf, {
                trip: t,
                leg: i
            }) : null
        }
          , ly = e => {
            let {leg: t, index: i} = e
              , {isMobile: a} = (0,
            c.U)()
              , {trip: s} = (0,
            eo.j)()
              , {tAsString: d} = (0,
            C.Ay)()
              , {viewMode: u} = (0,
            nv.e)()
              , p = (0,
            o.useRouter)().pathname.startsWith("/trip")
              , v = (0,
            l.useMemo)( () => {
                if (!(null == t ? void 0 : t.description))
                    return null;
                let e = (0,
                lm.qg)(t.description, {
                    async: !1
                });
                if (!e)
                    return null;
                let i = (null == t ? void 0 : t.notes) ? (0,
                lm.qg)(t.notes, {
                    async: !1
                }) : null
                  , l = (0,
                n.jsx)("div", {
                    dangerouslySetInnerHTML: {
                        __html: e
                    }
                });
                if (!i)
                    return l;
                let r = (0,
                n.jsx)("div", {
                    dangerouslySetInnerHTML: {
                        __html: i
                    }
                });
                return (0,
                n.jsxs)(n.Fragment, {
                    children: [l, (0,
                    n.jsx)("br", {}), r]
                })
            }
            , [null == t ? void 0 : t.description, null == t ? void 0 : t.notes]);
            return (0,
            n.jsxs)("div", {
                className: "".concat(lg().tab_overview_with_timeline, " ").concat(p ? lg().trip_route : ""),
                children: [(0,
                n.jsx)("div", {
                    className: "".concat(lg().timeline_circle),
                    children: i + 1
                }), (0,
                n.jsxs)("div", {
                    className: lg().tab_overview_content,
                    children: [(0,
                    n.jsxs)("div", {
                        className: lg().block_country,
                        id: "tab-overview-section",
                        children: [(0,
                        n.jsx)("span", {
                            className: lg().location_title,
                            children: null == t ? void 0 : t.location
                        }), (0,
                        n.jsx)("span", {
                            className: lg().days_count,
                            children: t ? (0,
                            r.H3)(t, d) : ""
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        style: {
                            position: "relative"
                        },
                        children: [v && (u && !a ? (0,
                        n.jsx)("div", {
                            className: lg().overview,
                            children: v
                        }) : (0,
                        n.jsx)(n9.A, {
                            className: lg().overview,
                            readMoreClassName: lg().read_more,
                            maxLines: a ? 3 : 2,
                            content: [v],
                            defaultExpanded: !1
                        })), (0,
                        n.jsx)(lx, {
                            trip: s,
                            leg: t
                        })]
                    })]
                })]
            })
        }
        ;
        var lb = i(56686)
          , lj = i.n(lb);
        let lw = e => {
            let {videos: t, images: i, title: r, extraClass: a} = e
              , [,o] = (0,
            l.useState)(!1);
            if ((!t || 0 === t.length) && (!i || 0 === i.length))
                return null;
            let s = {
                id: Math.abs(r.split("").reduce( (e, t) => e + t.charCodeAt(0), 0)),
                name: r,
                title: r,
                videos: t || [],
                photos: i || [],
                imagesUrls: i || [],
                address: "",
                currency: "EUR",
                description: "",
                discountPercentage: 0,
                numberOfReviews: 0,
                priceInEuros: 0,
                reviewScore: 0,
                stars: 0,
                lat: 0,
                lng: 0,
                url: ""
            };
            return (0,
            n.jsx)("div", {
                className: lj().media_block,
                children: (0,
                n.jsx)(eq.U, {
                    extraClass: a || lj().image_wrapper,
                    item: s,
                    setPhotoModal: o,
                    popupState: !1,
                    setPopupState: () => {}
                    ,
                    onShareButtonClick: () => {}
                    ,
                    onOpenVideosPopup: () => {}
                    ,
                    forcedPlaceholderImage: "345",
                    onInitiateCheckout: () => {}
                })
            })
        }
        ;
        var lA = i(45094)
          , lI = i.n(lA);
        let lC = e => {
            var t, i;
            let {leg: l, extraClass: r} = e
              , a = (null === (t = l.destination) || void 0 === t ? void 0 : t.videos) || []
              , o = [];
            l.imageUrl && o.push(l.imageUrl),
            (null === (i = l.destination) || void 0 === i ? void 0 : i.imageUrl) && l.destination.imageUrl !== l.imageUrl && o.push(l.destination.imageUrl);
            let s = l.location;
            return (0,
            n.jsx)("div", {
                className: lI().leg_videos_block,
                children: (0,
                n.jsx)(lw, {
                    videos: a,
                    images: o,
                    title: s,
                    extraClass: r
                })
            })
        }
        ;
        var lN = i(54105);
        let lT = "trip-main-entity-data-content";
        var lk = i(81929)
          , lS = i(12535)
          , lR = i.n(lS);
        let lE = e => {
            let {selectedOption: t, index: i, trip: l, legs: o, leg: s} = e
              , d = (0,
            p.A)()
              , c = (0,
            r.mN)(l.legs)
              , {setLegTransportState: u} = (0,
            h.y)()
              , {updateTripNavState: v} = (0,
            a.Pd)();
            return c && 0 === i ? null : (0,
            n.jsx)("div", {
                onClick: e => {
                    var t, n, l, r, a, c;
                    d({
                        event: "OpenTripTransportOptions"
                    }),
                    e.stopPropagation();
                    let p = o[i - 1]
                      , _ = (null === (n = p.location) || void 0 === n ? void 0 : null === (t = n.split(", ")) || void 0 === t ? void 0 : t[0]) || (null === (l = p.destination) || void 0 === l ? void 0 : l.city) || ""
                      , m = (null === (a = s.location) || void 0 === a ? void 0 : null === (r = a.split(", ")) || void 0 === r ? void 0 : r[0]) || (null === (c = s.destination) || void 0 === c ? void 0 : c.city) || "";
                    u(e => ({
                        ...e,
                        from: p,
                        to: s,
                        legIndex: i,
                        departureDate: (p ? new Date(p.endDate) : new Date).toISOString().split("T")[0]
                    })),
                    v({
                        entity: "route-options",
                        fromCity: _,
                        toCity: m
                    })
                }
                ,
                className: lR().container,
                children: (0,
                n.jsx)("div", {
                    className: lR().icon_wrapper,
                    children: (0,
                    n.jsx)(el.A, {
                        option: t,
                        transportIconClass: lR().transport_icon,
                        sizeIcon: 12,
                        rotateAirplane: !0
                    })
                })
            })
        }
        ;
        var lP = i(5916)
          , lD = i.n(lP)
          , lM = i(4481)
          , lL = i(86265);
        let lO = {
            src: "/_next/static/media/chevron-left.7de8e5c0.svg",
            height: 16,
            width: 16,
            blurWidth: 0,
            blurHeight: 0
        }
          , lF = e => {
            let {activeTab: t, trimmedLegs: i, onNavTabChange: a, mapRef: o, trip: s, isRightPanelExpanded: d, isV2Design: c=!1} = e
              , u = (0,
            p.A)()
              , v = (0,
            l.useRef)(null)
              , _ = (0,
            l.useRef)(null)
              , {getSelectedLegRoute: m} = (0,
            h.y)() || {}
              , [g,f] = (0,
            l.useState)(!1)
              , [x,y] = (0,
            l.useState)(!1)
              , [b,j] = (0,
            l.useState)(!1)
              , w = (0,
            l.useCallback)( () => {
                if (v.current) {
                    let {scrollLeft: e, scrollWidth: t, clientWidth: i} = v.current;
                    f(e > 0),
                    y(e < t - i - 1)
                }
            }
            , []);
            (0,
            l.useEffect)( () => {
                if (v.current && t >= 0 && t < i.length) {
                    let e = v.current.querySelector('[data-tab-index="'.concat(t, '"]'));
                    if (e) {
                        let t = v.current.clientWidth
                          , i = e.offsetLeft
                          , n = e.clientWidth;
                        v.current.scrollTo({
                            left: Math.max(0, i - t / 2 + n / 2),
                            behavior: "smooth"
                        })
                    }
                }
            }
            , [t, i.length]),
            (0,
            l.useEffect)( () => {
                let e = v.current;
                if (e)
                    return w(),
                    window.addEventListener("resize", w),
                    e.addEventListener("scroll", w),
                    () => {
                        window.removeEventListener("resize", w),
                        e.removeEventListener("scroll", w)
                    }
            }
            , [i.length, w]),
            (0,
            l.useEffect)( () => {
                if (!c || !_.current)
                    return;
                let e = document.getElementById("chat-side-panel-wrapper") || document.querySelector('[class*="ChatSidePanelContent_content_wrapper"]')
                  , t = ( () => {
                    if (!_.current)
                        return 0;
                    let t = _.current.getBoundingClientRect()
                      , i = e ? e.scrollTop : window.pageYOffset || document.documentElement.scrollTop;
                    return t.top + i
                }
                )()
                  , i = e ? e.scrollTop : 0
                  , n = () => {
                    let n = e ? e.scrollTop : window.pageYOffset || document.documentElement.scrollTop;
                    n !== i && (i = n,
                    j(n >= t))
                }
                ;
                e ? e.addEventListener("scroll", n, {
                    passive: !0
                }) : window.addEventListener("scroll", n, {
                    passive: !0
                }),
                document.addEventListener("scroll", n, {
                    passive: !0
                });
                let l = setTimeout(n, 100);
                return () => {
                    e ? e.removeEventListener("scroll", n) : window.removeEventListener("scroll", n),
                    document.removeEventListener("scroll", n),
                    clearTimeout(l)
                }
            }
            , [c]);
            let A = (0,
            l.useCallback)( () => {
                if (v.current) {
                    let e = .7 * v.current.clientWidth;
                    v.current.scrollTo({
                        left: Math.max(0, v.current.scrollLeft - e),
                        behavior: "smooth"
                    })
                }
            }
            , [])
              , I = (0,
            l.useCallback)( () => {
                if (v.current) {
                    let e = .5 * v.current.clientWidth;
                    v.current.scrollTo({
                        left: v.current.scrollLeft + e,
                        behavior: "smooth"
                    })
                }
            }
            , [])
              , C = (0,
            l.useCallback)(e => {
                var t, i;
                u({
                    event: "ChangeTripDestinationTab"
                }),
                null == o || null === (i = o.current) || void 0 === i || null === (t = i.centerPlace) || void 0 === t || t.call(i, e),
                a(e)
            }
            , [u, o, a])
              , N = (0,
            l.useMemo)( () => ({
                background: "#000000",
                color: "white"
            }), [])
              , T = (0,
            l.useMemo)( () => (0,
            t5.A)(lD().navbar, {
                [lD().panel_expanded]: d,
                [lD().navbar_v2]: c && !b,
                [lD().navbar_v2_sticky]: c && b
            }), [d, c, b])
              , k = (0,
            l.useMemo)( () => (0,
            t5.A)(lD().tab_container, {
                [lD().panel_expanded]: d
            }), [d])
              , S = (0,
            l.useCallback)( () => {
                if (null == o ? void 0 : o.current) {
                    var e, t;
                    null == o || null === (e = (t = o.current).zoomIn) || void 0 === e || e.call(t)
                }
            }
            , [o]);
            return (0,
            n.jsx)("div", {
                ref: _,
                className: T,
                children: (0,
                n.jsxs)("div", {
                    className: lD().tabWrapper,
                    children: [g && (0,
                    n.jsx)("button", {
                        className: "".concat(lD().arrowButton, " ").concat(lD().leftArrow),
                        onClick: A,
                        "aria-label": "Scroll left",
                        type: "button",
                        children: (0,
                        n.jsx)(lM.M, {
                            src: lO,
                            alt: "Chevron left",
                            width: 14,
                            height: 14,
                            color: "#000000"
                        })
                    }), (0,
                    n.jsx)("div", {
                        ref: v,
                        className: k,
                        children: i.map( (e, l) => {
                            var a, o, d;
                            let c = null == s ? void 0 : null === (a = s.legs) || void 0 === a ? void 0 : a.findIndex(t => t === e)
                              , u = null == m ? void 0 : m(null != c ? c : 0)
                              , p = (0,
                            r.W4)(null == u ? void 0 : u.option);
                            return (0,
                            n.jsxs)("div", {
                                className: lD().navItem,
                                "data-tab-index": l,
                                onDoubleClick: S,
                                children: [u && p && s && (0,
                                n.jsx)(lE, {
                                    trip: s,
                                    index: l,
                                    selectedOption: u,
                                    legs: i,
                                    leg: e
                                }), (0,
                                n.jsxs)("div", {
                                    style: {
                                        whiteSpace: "nowrap",
                                        cursor: "pointer"
                                    },
                                    className: (0,
                                    t5.A)(lD().nav_tab, t === l && lD().active),
                                    onClick: e => {
                                        e.preventDefault(),
                                        C(l)
                                    }
                                    ,
                                    children: [(0,
                                    n.jsx)("span", {
                                        className: lD().navNumber,
                                        style: t === l ? N : void 0,
                                        children: l + 1
                                    }), (null == e ? void 0 : null === (d = e.location) || void 0 === d ? void 0 : null === (o = d.split(",")) || void 0 === o ? void 0 : o[0]) || ""]
                                })]
                            }, l)
                        }
                        )
                    }), x && (0,
                    n.jsx)("button", {
                        className: "".concat(lD().arrowButton, " ").concat(lD().rightArrow),
                        onClick: I,
                        "aria-label": "Scroll right",
                        type: "button",
                        children: (0,
                        n.jsx)(lM.M, {
                            src: lL.A,
                            alt: "Chevron right",
                            width: 14,
                            height: 14,
                            color: "#000000"
                        })
                    })]
                })
            })
        }
          , lB = e => {
            let {trip: t} = (0,
            v.f)()
              , i = (0,
            l.useRef)(null);
            (0,
            l.useEffect)( () => {
                let n = null == t ? void 0 : t.id;
                if (!n)
                    return;
                let l = sessionStorage.getItem("lastTripId");
                !i.current && l && (i.current = l);
                let r = i.current;
                r && r !== n && (0,
                to.ny)(n, e),
                i.current = n,
                sessionStorage.setItem("lastTripId", n)
            }
            , [null == t ? void 0 : t.id, e])
        }
          , lH = e => {
            let {isPreview: t, isV2Design: i=!1, showLegsBar: r=!1, activeTab: a=0, onNavTabChange: o} = e
              , {trip: s, trimmedLegs: d, isRightPanelExpanded: u, handleHotelHover: p, handleActivityHover: v} = (0,
            nv.e)()
              , {isMobile: _} = (0,
            c.U)()
              , [m,h] = (0,
            l.useState)(new Set(["0-0"]))
              , g = (e, t) => m.has("".concat(e, "-").concat(t))
              , f = (e, t) => {
                let i = "".concat(e, "-").concat(t);
                h(e => {
                    let t = new Set(e);
                    return t.has(i) ? t.delete(i) : t.add(i),
                    t
                }
                )
            }
            ;
            lB( (e, t) => {
                let i = "".concat(e, "-").concat(t);
                h(e => {
                    let t = new Set(e);
                    return t.add(i),
                    t
                }
                )
            }
            );
            let x = () => {
                let e = new Set;
                null == d || d.forEach( (t, i) => {
                    var n;
                    let l = (null === (n = t.days) || void 0 === n ? void 0 : n.length) || t.endDay - t.startDay + 1;
                    for (let t = 0; t < l; t++)
                        e.add("".concat(i, "-").concat(t))
                }
                ),
                h(e)
            }
              , y = () => {
                h(new Set)
            }
              , b = (null == d ? void 0 : d.reduce( (e, t) => {
                var i;
                return e + ((null === (i = t.days) || void 0 === i ? void 0 : i.length) || t.endDay - t.startDay + 1)
            }
            , 0)) || 0
              , j = m.size === b && b > 0
              , {stickyWeatherData: w, stickyWeatherRef: A, setWeatherWidgetRef: I} = (0,
            lk.p)(s, i)
              , C = !t
              , N = {
                tripDataContent: t ? "".concat(t0().trip_data_content, " ").concat(t0().trip_data_content_preview) : C && _ ? t0().trip_data_content_new_design : t0().trip_data_content,
                container: C ? t0().trip_data_overview_container_new_design : t0().trip_data_overview_container,
                legSection: C ? t0().trip_leg_section_new_design : t0().trip_leg_section,
                legSectionPreview: "".concat(t0().trip_leg_section, " ").concat(t0().trip_leg_section_preview)
            };
            return (0,
            n.jsx)("div", {
                className: N.tripDataContent,
                children: (0,
                n.jsxs)("div", {
                    style: {
                        width: "100%",
                        position: "relative"
                    },
                    className: N.container,
                    id: t ? lT : void 0,
                    children: [(null == w ? void 0 : w.isVisible) && (0,
                    n.jsx)("div", {
                        className: "fixed top-[72px] left-4 transform z-[9999] transition-all duration-300 mb-4 rounded-md",
                        style: {
                            width: w.containerWidth ? "".concat(w.containerWidth + 32, "px") : "auto"
                        },
                        children: (0,
                        n.jsx)("div", {
                            ref: A,
                            className: "px-4 relative",
                            children: (0,
                            n.jsx)("div", {
                                className: "w-full",
                                children: (0,
                                n.jsx)(nB, {
                                    date: w.date,
                                    city: w.city,
                                    temperature: w.temperature
                                })
                            })
                        })
                    }), r && d && o && (0,
                    n.jsx)(lF, {
                        activeTab: a,
                        trimmedLegs: d,
                        onNavTabChange: o,
                        trip: s,
                        isRightPanelExpanded: u || !1,
                        isV2Design: !0
                    }), null == d ? void 0 : d.map( (e, i) => {
                        let l = s.legs.findIndex(t => t === e);
                        return (0,
                        n.jsxs)("div", {
                            id: "leg-".concat(i, "-").concat(e.location),
                            className: t ? N.legSectionPreview : N.legSection,
                            style: lN.cA,
                            children: [t && (0,
                            n.jsx)(ly, {
                                leg: e,
                                index: i
                            }), t && (0,
                            n.jsx)(lC, {
                                leg: e,
                                extraClass: t0().image_wrapper
                            }), (0,
                            n.jsx)(l_, {
                                trip: s,
                                leg: e,
                                index: i,
                                originalLegIndex: l,
                                isRightPanelExpanded: u || !1,
                                isLastLeg: i === ((null == d ? void 0 : d.length) || 0) - 1,
                                onHotelHover: p,
                                onActivityHover: v,
                                isPreview: t,
                                setWeatherWidgetRef: I,
                                isDayOpen: g,
                                toggleDay: f,
                                expandAll: x,
                                collapseAll: y,
                                allDaysOpen: j,
                                totalDays: b
                            })]
                        }, "leg-".concat(i, "-").concat(e.location, "-").concat(e.startDay, "-").concat(e.endDay))
                    }
                    )]
                })
            })
        }
        ;
        var lU = i(24752);
        let lz = () => {
            var e, t;
            let {trip: i, trimmedLegs: l, formattedTrip: r, tab: a, setTabWithScroll: s, setShowDetailsModal: d, isPreview: c, isRightPanelExpanded: u, toggleExpandSidePanel: p, onItemSelect: v, onClose: _, recommendations: m, handleSaveHiddenItem: h, handleDeleteHiddenItem: g, handleZoomToRecommendation: f, showOrderSummary: x, setShowOrderSummary: y, abTestShowHighlightsAndSummary: b, wrapperRef: j, hideMap: w, hideTripHeader: A, viewMode: I, tripAuthor: N} = (0,
            nv.e)()
              , {tAsString: T} = (0,
            C.Ay)()
              , {selectedItem: k} = (0,
            tK.Y)()
              , {pathname: S} = (0,
            o.useRouter)()
              , R = S.includes("/chat") || (0,
            lU.o)() && window.location.pathname.includes("/chat")
              , E = S.startsWith("/trip") || (0,
            lU.o)() && window.location.pathname.startsWith("/trip")
              , P = null !== (t = null == k ? void 0 : k.preloadedRelatedTrips) && void 0 !== t ? t : [];
            return (0,
            n.jsxs)("div", {
                className: I ? t0().content_wrapper_view_mode : t0().content_wrapper,
                style: E && !R ? {
                    backgroundColor: "white",
                    padding: "0",
                    gap: "16px"
                } : void 0,
                children: [!A && (0,
                n.jsx)("div", {
                    ref: j,
                    id: "trip-scrollview-content",
                    className: t0().trip_hero_container,
                    children: (0,
                    n.jsx)("div", {
                        className: t0().title_wrapper,
                        children: (0,
                        n.jsxs)("div", {
                            className: t0().mobile_trip_header_card,
                            children: [(0,
                            n.jsx)(iv, {
                                trip: i,
                                setShowDetailsModal: d,
                                isRightPanelExpanded: u,
                                toggleExpandSidePanel: p,
                                showOrderSummary: x,
                                setShowOrderSummary: y,
                                onClose: _,
                                formattedTrip: r,
                                hideTripPhotos: b && (i.isSummary || !!i.summary),
                                isPreview: c
                            }), !c && (0,
                            n.jsx)("div", {
                                className: t0().edit_title_wrapper,
                                children: (0,
                                n.jsx)(ie, {
                                    trip: i
                                })
                            })]
                        })
                    })
                }), !w && !R && (0,
                n.jsx)("div", {
                    className: t0().mobile_trip_map_card_with_buttons,
                    children: (0,
                    n.jsx)(i_.A, {
                        trip: i,
                        tab: a,
                        setTab: s,
                        className: t0().trip_map,
                        onVideoFeatureClick: v,
                        isPreview: c,
                        recommendations: m,
                        onRecommendationClick: f
                    })
                }), !w && R && (0,
                n.jsx)("div", {
                    className: t0().mobile_trip_map_card,
                    children: (0,
                    n.jsx)(i_.A, {
                        trip: i,
                        tab: a,
                        setTab: s,
                        className: t0().trip_map,
                        onVideoFeatureClick: v,
                        isPreview: c,
                        recommendations: m,
                        onRecommendationClick: f
                    })
                }), N, (0,
                n.jsx)("div", {
                    children: (null === (e = null != l ? l : []) || void 0 === e ? void 0 : e.length) === 0 ? (0,
                    n.jsx)("div", {
                        className: "".concat(t0().no_destinations, " ").concat(t0().no_destinations_collapsed),
                        children: (0,
                        n.jsxs)("div", {
                            children: [(0,
                            n.jsx)("h4", {
                                children: T("trip.itinerary.noDestinationsMessage.oops")
                            }), (0,
                            n.jsx)("p", {
                                children: T("trip.itinerary.noDestinationsMessage.noDestinations")
                            })]
                        })
                    }) : (0,
                    n.jsx)(n.Fragment, {
                        children: (0,
                        n.jsx)("div", {
                            className: t0().trip_content_column,
                            children: (0,
                            n.jsxs)("div", {
                                className: t0().mobile_trip_itinerary_card,
                                children: [b && i.summary && (0,
                                n.jsx)(tP, {
                                    trip: i,
                                    isExpanded: i.isSummary
                                }), (0,
                                n.jsx)(no, {
                                    trip: i,
                                    recommendations: m,
                                    onSaveHiddenItem: h,
                                    onZoomToRecommendation: f,
                                    onDeleteHiddenItem: g
                                }), (!b || !i.isSummary) && (0,
                                n.jsxs)(n.Fragment, {
                                    children: [(0,
                                    n.jsx)(nS, {
                                        trip: i,
                                        trimmedLegs: null != l ? l : []
                                    }), (0,
                                    n.jsx)(lH, {
                                        isPreview: c,
                                        isV2Design: !0,
                                        showLegsBar: l && l.length > 1,
                                        activeTab: a,
                                        onNavTabChange: s
                                    })]
                                }), !R && (0,
                                n.jsxs)("div", {
                                    style: {
                                        marginTop: "20px"
                                    },
                                    children: [(0,
                                    n.jsx)(ns.A, {
                                        tripId: i.id,
                                        preloadedRelatedContent: P,
                                        relatedContentType: "trip",
                                        shouldLoad: !0,
                                        headerTitle: T("itinerary.relatedTripsForItineraries")
                                    }), (0,
                                    n.jsx)(np, {
                                        preloadedContent: [],
                                        shouldLoad: !0,
                                        headerTitle: T("homepage.footer.columnNames.plan")
                                    })]
                                })]
                            })
                        })
                    })
                })]
            })
        }
          , lq = (0,
        l.forwardRef)( (e, t) => {
            let {trip: i, tab: l, setTab: r, className: o, style: s, onVideoFeatureClick: d, hoveredHotelId: c, hoveredActivityId: u, isPreview: p=!1, recommendations: v=[], onRecommendationClick: _} = e
              , {isMainTripEntity: m, navigationState: h} = (0,
            a.Pd)();
            return m || h.entity === N.q.ROUTE_OPTIONS || h.entity === N.q.CARS && h.fromCity && h.toCity || h.entity === N.q.HIGHLIGHTS_SUMMARY ? (0,
            n.jsx)(i_.A, {
                ref: t,
                trip: i,
                tab: l,
                setTab: r,
                className: o,
                style: s,
                onVideoFeatureClick: d,
                hoveredHotelId: c,
                hoveredActivityId: u,
                showModifyRouteButton: !p,
                recommendations: v,
                onRecommendationClick: _
            }) : (0,
            n.jsx)("div", {
                id: "trip-entity-map-container",
                className: o,
                style: {
                    width: "100%",
                    height: "100%",
                    position: "relative",
                    ...s
                }
            })
        }
        );
        lq.displayName = "TripEntityMap";
        var lV = i(70313)
          , lW = i.n(lV);
        let lG = e => {
            let {trip: t, extraClass: i} = e;
            return (0,
            n.jsx)("div", {
                className: lW().trip_videos_block,
                children: (0,
                n.jsx)(lw, {
                    videos: t.videos,
                    images: t.imagesUrls,
                    title: t.title,
                    extraClass: i || lW().image_wrapper
                })
            })
        }
        ;
        var lY = i(17085)
          , lX = i.n(lY);
        let lJ = e => {
            let {trip: t, extraClass: i} = e
              , {videos: r, images: a} = (0,
            l.useMemo)( () => {
                var e;
                let i = []
                  , n = [];
                return null === (e = t.legs) || void 0 === e || e.forEach(e => {
                    var t, l;
                    (null === (t = e.destination) || void 0 === t ? void 0 : t.videos) && i.push(...e.destination.videos),
                    e.imageUrl && n.push(e.imageUrl),
                    (null === (l = e.destination) || void 0 === l ? void 0 : l.imageUrl) && e.destination.imageUrl !== e.imageUrl && n.push(e.destination.imageUrl)
                }
                ),
                {
                    videos: i,
                    images: n
                }
            }
            , [t.legs]);
            return 0 === r.length && 0 === a.length ? null : (0,
            n.jsx)("div", {
                className: lX().trip_legs_media_block,
                children: (0,
                n.jsx)(lw, {
                    videos: r,
                    images: a,
                    title: t.title,
                    extraClass: i
                })
            })
        }
        ;
        var lZ = i(46715)
          , lK = i(94909);
        let lQ = d()( () => i.e(3901).then(i.bind(i, 76282)), {
            loadableGenerated: {
                webpack: () => [76282]
            },
            ssr: !1
        })
          , l$ = d()( () => Promise.all([i.e(7533), i.e(8828), i.e(4191)]).then(i.bind(i, 78828)).then(e => e.default), {
            loadableGenerated: {
                webpack: () => [78828]
            },
            ssr: !1
        })
          , l0 = e => {
            var t, i, r, a, s, d, c, u, p, _;
            let {trip: m, onSearch: h, style: g} = e
              , {locale: f} = (0,
            o.useRouter)()
              , [x,y] = (0,
            l.useState)(!1)
              , {tAsString: b} = (0,
            C.Ay)()
              , {pendingTripDetails: j, setPendingTripDetails: w} = (0,
            v.f)()
              , A = null === (t = m.legs.find(e => "pointOfOrigin" !== e.type)) || void 0 === t ? void 0 : t.startDate
              , I = null === (i = m.legs[m.legs.length - 1]) || void 0 === i ? void 0 : i.endDate
              , N = e => e ? e.setLocale(f || "en").toFormat("MMM, d") : ""
              , T = (null === (r = j.dates) || void 0 === r ? void 0 : r.start) || (A ? tZ.c9.fromISO(A) : void 0)
              , k = (null === (a = j.dates) || void 0 === a ? void 0 : a.end) || (I ? tZ.c9.fromISO(I) : void 0)
              , S = N(T)
              , R = N(k)
              , E = j.roomsAndGuests ? (j.roomsAndGuests.adults || 0) + (j.roomsAndGuests.children || 0) : (null === (s = m.travelers) || void 0 === s ? void 0 : s.length) || 2
              , P = null == m ? void 0 : null === (d = m.legs[m.legs.length - 1]) || void 0 === d ? void 0 : d.endDate
              , D = j.dates || (m ? {
                start: tZ.c9.fromISO(m.startDate),
                end: P ? tZ.c9.fromISO(P) : tZ.c9.fromISO(m.endDate)
            } : void 0)
              , M = j.roomsAndGuests || (m ? {
                rooms: m.numberOfRooms || 1,
                adults: (null === (u = m.travelers) || void 0 === u ? void 0 : null === (c = u.filter(e => e.isAdult)) || void 0 === c ? void 0 : c.length) || 2,
                children: (null === (_ = m.travelers) || void 0 === _ ? void 0 : null === (p = _.filter(e => !e.isAdult)) || void 0 === p ? void 0 : p.length) || 0
            } : void 0);
            return S && R ? (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("div", {
                    className: "bg-white border border-input-dark-80 drop-shadow-lg rounded-xl p-6 w-full",
                    style: g,
                    children: (0,
                    n.jsxs)("div", {
                        className: "flex flex-col gap-6",
                        children: [(0,
                        n.jsxs)("div", {
                            className: "flex flex-row gap-3 w-full",
                            children: [(0,
                            n.jsxs)("div", {
                                className: "flex-1 flex flex-col gap-3",
                                children: [(0,
                                n.jsx)("div", {
                                    className: "text-xs font-medium text-foreground leading-1.25",
                                    children: b("trip.tripInfoButtons.tripStarts")
                                }), (0,
                                n.jsxs)("button", {
                                    className: "flex items-center gap-2 px-3 py-2.5 border border-width-border rounded-lg bg-white transition-all cursor-pointer",
                                    onClick: () => y(!0),
                                    children: [(0,
                                    n.jsx)(lZ.A, {
                                        className: "w-4 h-4 text-foreground flex-shrink-0"
                                    }), (0,
                                    n.jsx)("span", {
                                        className: "text-sm font-normal text-foreground leading-1.25",
                                        children: S
                                    })]
                                })]
                            }), (0,
                            n.jsxs)("div", {
                                className: "flex-1 flex flex-col gap-3",
                                children: [(0,
                                n.jsx)("div", {
                                    className: "text-xs font-medium text-foreground leading-1.25",
                                    children: b("trip.tripInfoButtons.tripEnds")
                                }), (0,
                                n.jsxs)("button", {
                                    className: "flex items-center gap-2 px-3 py-2.5 border border-width-border rounded-md bg-white transition-all cursor-pointer",
                                    onClick: () => y(!0),
                                    children: [(0,
                                    n.jsx)(lZ.A, {
                                        className: "w-4 h-4 text-foreground flex-shrink-0"
                                    }), (0,
                                    n.jsx)("span", {
                                        className: "text-sm font-normal text-foreground leading-1.25",
                                        children: R
                                    })]
                                })]
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: "flex flex-col gap-3",
                            children: [(0,
                            n.jsx)("div", {
                                className: "text-xs font-medium text-foreground leading-1.25",
                                children: b("trip.tripInfoButtons.numberOfTravelers")
                            }), (0,
                            n.jsxs)("button", {
                                className: "flex items-center gap-2 px-3 py-2.5 border border-whidth-border rounded-md bg-whitetransition-all cursor-pointer",
                                onClick: () => y(!0),
                                children: [(0,
                                n.jsx)(lK.A, {
                                    className: "w-4 h-4 text-foreground flex-shrink-0"
                                }), (0,
                                n.jsx)("span", {
                                    className: "text-sm font-normal text-foreground leading-1.25",
                                    children: E
                                })]
                            })]
                        }), h && (0,
                        n.jsx)("button", {
                            className: "w-full bg-primary text-white border-none rounded-lg px-5 py-3 text-sm font-medium cursor-pointer transition-colors whitespace-nowrap",
                            onClick: () => {
                                var e, t, i, n, l, r, a, o, s, d, c;
                                if (!m)
                                    return;
                                if (j.dates || j.roomsAndGuests) {
                                    let e = {
                                        dates: j.dates ? {
                                            start: j.dates.start ? tZ.c9.utc(j.dates.start.year, j.dates.start.month, j.dates.start.day).toISO() : void 0,
                                            end: j.dates.end ? tZ.c9.utc(j.dates.end.year, j.dates.end.month, j.dates.end.day).toISO() : void 0
                                        } : void 0,
                                        roomsAndGuests: j.roomsAndGuests,
                                        tripId: m.id
                                    };
                                    sessionStorage.setItem("pendingTripDetails", JSON.stringify(e))
                                }
                                let u = []
                                  , p = null === (e = m.legs[m.legs.length - 1]) || void 0 === e ? void 0 : e.endDate
                                  , v = j.dates || {
                                    start: tZ.c9.fromISO(m.startDate),
                                    end: p ? tZ.c9.fromISO(p) : tZ.c9.fromISO(m.endDate)
                                }
                                  , _ = j.roomsAndGuests || {
                                    rooms: m.numberOfRooms || 1,
                                    adults: (null === (i = m.travelers) || void 0 === i ? void 0 : null === (t = i.filter(e => e.isAdult)) || void 0 === t ? void 0 : t.length) || 2,
                                    children: (null === (l = m.travelers) || void 0 === l ? void 0 : null === (n = l.filter(e => !e.isAdult)) || void 0 === n ? void 0 : n.length) || 0
                                }
                                  , g = tZ.c9.fromISO(m.startDate)
                                  , x = p ? tZ.c9.fromISO(p) : tZ.c9.fromISO(m.endDate);
                                if (((null === (r = v.start) || void 0 === r ? void 0 : r.toISODate()) !== g.toISODate() || (null === (a = v.end) || void 0 === a ? void 0 : a.toISODate()) !== x.toISODate()) && v.start && v.end) {
                                    let e = Math.floor(v.end.diff(v.start, "days").days)
                                      , t = v.start.setLocale(f || "en").toLocaleString(tZ.c9.DATE_SHORT)
                                      , i = v.end.setLocale(f || "en").toLocaleString(tZ.c9.DATE_SHORT);
                                    u.push("Change trip dates to starting from ".concat(t, " until ").concat(i, " (").concat(e, " nights)"))
                                }
                                let y = m.numberOfRooms || 1
                                  , w = (null === (s = m.travelers) || void 0 === s ? void 0 : null === (o = s.filter(e => e.isAdult)) || void 0 === o ? void 0 : o.length) || 2
                                  , A = (null === (c = m.travelers) || void 0 === c ? void 0 : null === (d = c.filter(e => !e.isAdult)) || void 0 === d ? void 0 : d.length) || 0
                                  , I = _.rooms !== y
                                  , C = _.adults !== w
                                  , N = _.children || 0
                                  , T = [];
                                I && T.push("".concat(_.rooms, " room").concat(1 === _.rooms ? "" : "s")),
                                C && T.push("".concat(_.adults, " adult").concat(1 === _.adults ? "" : "s")),
                                N !== A && T.push(1 === N ? "1 child" : "".concat(N, " children")),
                                T.length > 0 && u.push("Change number of travelers to ".concat(T.join(", ")));
                                let k = u.length > 0 ? u.join(". ") : b("trip.author.modifyThisTripPrompt");
                                null == h || h(k)
                            }
                            ,
                            children: b("trip.tripInfoButtons.makeThisTripYours")
                        })]
                    })
                }), x && m && (0,
                n.jsx)(lQ, {
                    open: x,
                    onClose: () => y(!1),
                    children: (0,
                    n.jsx)(l.Suspense, {
                        children: (0,
                        n.jsx)(l$, {
                            initialDates: D,
                            initialRoomsAndGuests: M,
                            onSave: (e, t) => {
                                m && e.start && e.end && (w({
                                    dates: e,
                                    roomsAndGuests: t
                                }),
                                y(!1))
                            }
                            ,
                            onClose: () => y(!1)
                        })
                    })
                })]
            }) : null
        }
          , l1 = e => {
            var t, i, r, s, d, c, u, p, v, _;
            let {isPreview: m, isMapFixed: h, tripColumnRef: g, mapRef: f} = e
              , {trip: x, trimmedLegs: y, viewMode: b, isRightPanelExpanded: j, handleHotelHover: w, handleActivityHover: A, tab: I, setTabWithScroll: C, onItemSelect: N, hoveredHotelId: T, hoveredActivityId: k, recommendations: S, handleZoomToRecommendation: R, onSearch: E} = (0,
            nv.e)()
              , [P,D] = (0,
            l.useState)(new Set(["0-0"]))
              , M = (e, t) => P.has("".concat(e, "-").concat(t))
              , L = (e, t) => {
                let i = "".concat(e, "-").concat(t);
                D(e => {
                    let t = new Set(e);
                    return t.has(i) ? t.delete(i) : t.add(i),
                    t
                }
                )
            }
              , O = (e, t) => {
                let i = "".concat(e, "-").concat(t);
                D(e => new Set(e).add(i))
            }
            ;
            lB(O);
            let F = e => {
                var t;
                if (!y)
                    return;
                let i = y[e]
                  , n = (null === (t = i.days) || void 0 === t ? void 0 : t.length) || i.endDay - i.startDay + 1;
                D(t => {
                    let i = new Set(t);
                    for (let t = 0; t < n; t++)
                        i.add("".concat(e, "-").concat(t));
                    return i
                }
                )
            }
              , B = e => {
                var t;
                if (!y)
                    return;
                let i = y[e]
                  , n = (null === (t = i.days) || void 0 === t ? void 0 : t.length) || i.endDay - i.startDay + 1;
                D(t => {
                    let i = new Set(t);
                    for (let t = 0; t < n; t++)
                        i.delete("".concat(e, "-").concat(t));
                    return i
                }
                )
            }
              , H = e => {
                var t;
                if (!y)
                    return !1;
                let i = y[e]
                  , n = (null === (t = i.days) || void 0 === t ? void 0 : t.length) || i.endDay - i.startDay + 1;
                for (let t = 0; t < n; t++)
                    if (!M(e, t))
                        return !1;
                return !0
            }
              , U = (null == y ? void 0 : y.reduce( (e, t) => {
                var i;
                return e + ((null === (i = t.days) || void 0 === i ? void 0 : i.length) || t.endDay - t.startDay + 1)
            }
            , 0)) || 0
              , {stickyWeatherData: z, stickyWeatherRef: q, setWeatherWidgetRef: V} = (0,
            lk.p)(x, !0)
              , {isMainTripEntity: W} = (0,
            a.Pd)()
              , {chat: G} = (0,
            tK.Y)()
              , {asPath: Y, query: X} = (0,
            o.useRouter)()
              , J = {
                tripDataContent: m ? "".concat(t0().trip_data_content, " ").concat(t0().trip_data_content_preview) : t0().trip_data_content_new_design,
                container: t0().trip_data_overview_container_new_design,
                legSection: t0().trip_leg_section_new_design,
                legSectionPreview: "".concat(t0().trip_leg_section, " ").concat(t0().trip_leg_section_preview)
            }
              , Z = Y.includes("/chat") || !!G && !!X.ask;
            return (0,
            n.jsxs)("div", {
                className: J.tripDataContent,
                id: m ? lT : void 0,
                style: {
                    position: "relative"
                },
                children: [(0,
                n.jsxs)("div", {
                    style: {
                        width: b && m ? "".concat((null !== (c = null == g ? void 0 : null === (t = g.current) || void 0 === t ? void 0 : t.getBoundingClientRect().width) && void 0 !== c ? c : 0) * .7 - 8, "px") : "100%",
                        position: "relative"
                    },
                    className: J.container,
                    children: [(null == z ? void 0 : z.isVisible) && (0,
                    n.jsx)("div", {
                        className: "fixed top-4 left-4 transform  z-[9999] transition-all duration-300 mb-4 rounded-md",
                        style: {
                            width: z.containerWidth ? "".concat(z.containerWidth + 32, "px") : "auto"
                        },
                        children: (0,
                        n.jsx)("div", {
                            ref: q,
                            className: "px-4 relative",
                            children: (0,
                            n.jsx)("div", {
                                className: "w-full",
                                children: (0,
                                n.jsx)(nB, {
                                    date: z.date,
                                    city: z.city,
                                    temperature: z.temperature
                                })
                            })
                        })
                    }), y && y.length > 1 && (0,
                    n.jsx)(lF, {
                        activeTab: I,
                        trimmedLegs: y,
                        onNavTabChange: e => {
                            if (e < 0 || !y || e >= y.length)
                                return;
                            let t = y[e];
                            C(e),
                            O(e, 0),
                            setTimeout( () => {
                                let i = "leg-".concat(e, "-").concat(t.location)
                                  , n = document.getElementById(i);
                                n && n.scrollIntoView({
                                    behavior: "smooth",
                                    block: "start",
                                    inline: "nearest"
                                })
                            }
                            , 300)
                        }
                        ,
                        mapRef: f,
                        trip: x,
                        isRightPanelExpanded: j || !1
                    }), null == y ? void 0 : y.map( (e, t) => {
                        let i = x.legs.findIndex(t => t === e);
                        return (0,
                        n.jsxs)("div", {
                            id: "leg-".concat(t, "-").concat(e.location),
                            className: m ? J.legSectionPreview : J.legSection,
                            style: lN.cA,
                            children: [m && (0,
                            n.jsx)(ly, {
                                leg: e,
                                index: t
                            }), (0,
                            n.jsx)(l_, {
                                trip: x,
                                leg: e,
                                index: t,
                                originalLegIndex: i,
                                isRightPanelExpanded: j || !1,
                                isLastLeg: t === y.length - 1,
                                onHotelHover: w,
                                onActivityHover: A,
                                isPreview: m,
                                hideMap: b || !1,
                                setWeatherWidgetRef: V,
                                isDayOpen: M,
                                toggleDay: L,
                                expandAll: () => F(t),
                                collapseAll: () => B(t),
                                allDaysOpen: H(t),
                                totalDays: U
                            })]
                        }, "leg-".concat(t, "-").concat(e.location, "-").concat(e.startDay, "-").concat(e.endDay))
                    }
                    )]
                }), b && (0,
                n.jsxs)("div", {
                    style: {
                        position: h ? "fixed" : "relative",
                        right: h ? "calc((100vw - 88px - ".concat(null !== (u = null == g ? void 0 : null === (i = g.current) || void 0 === i ? void 0 : i.getBoundingClientRect().width) && void 0 !== u ? u : 0, "px) / 2)") : "0",
                        top: h ? "80px" : "0",
                        width: "".concat((null !== (p = null == g ? void 0 : null === (r = g.current) || void 0 === r ? void 0 : r.getBoundingClientRect().width) && void 0 !== p ? p : 0) * .3 - 8, "px"),
                        minWidth: "".concat((null !== (v = null == g ? void 0 : null === (s = g.current) || void 0 === s ? void 0 : s.getBoundingClientRect().width) && void 0 !== v ? v : 0) * .3 - 8, "px"),
                        maxWidth: "".concat((null !== (_ = null == g ? void 0 : null === (d = g.current) || void 0 === d ? void 0 : d.getBoundingClientRect().width) && void 0 !== _ ? _ : 0) * .3 - 8, "px"),
                        height: "calc(100vh - 250px)",
                        display: "flex",
                        flexDirection: "column"
                    },
                    children: [W && x && !Z && (0,
                    n.jsx)(l0, {
                        trip: x,
                        onSearch: E,
                        style: {
                            marginTop: "25px"
                        }
                    }), (0,
                    n.jsx)(lq, {
                        ref: f,
                        trip: x,
                        tab: I,
                        setTab: C,
                        className: t0().trip_map,
                        style: Z ? void 0 : {
                            marginTop: "37px"
                        },
                        onVideoFeatureClick: N,
                        hoveredHotelId: T,
                        hoveredActivityId: k,
                        isPreview: m,
                        recommendations: S,
                        onRecommendationClick: R
                    })]
                })]
            })
        }
        ;
        var l2 = i(75132)
          , l4 = i.n(l2);
        let l5 = e => {
            var t;
            let {trip: i, formattedTrip: a, onShowOrderSummary: s, toggleExpandSidePanel: d, isRightPanelExpanded: u, onDetailsClick: p, isPreview: v=!1, isVisible: _=!0} = e
              , {isMobile: m} = (0,
            c.U)()
              , h = (0,
            o.useRouter)()
              , {locale: g} = h
              , {tAsString: f} = (0,
            C.Ay)()
              , [x,y] = (0,
            l.useState)(!1)
              , [b,j] = (0,
            l.useState)(_)
              , w = h.pathname.startsWith("/trip");
            if ((0,
            l.useEffect)( () => {
                _ || x ? _ && !b && (j(!0),
                y(!1)) : (y(!0),
                setTimeout( () => {
                    j(!1)
                }
                , 300))
            }
            , [_, x, b]),
            !i || m || w || !b)
                return null;
            let A = null == i ? void 0 : null === (t = i.legs[(null == i ? void 0 : i.legs.length) - 1]) || void 0 === t ? void 0 : t.endDate
              , I = A ? (0,
            r.OA)(new Date(i.startDate), new Date(A), g, !0) : "";
            return (0,
            n.jsxs)("div", {
                className: "".concat(l4().bottom_bar, " ").concat(x ? l4().sliding_out : ""),
                children: [(0,
                n.jsxs)("div", {
                    className: l4().left_section,
                    children: [(0,
                    n.jsx)("h3", {
                        className: l4().trip_title,
                        children: i.title
                    }), (0,
                    n.jsxs)("div", {
                        className: l4().info_row,
                        children: [(null == a ? void 0 : a.formattedTotalPrice) && (0,
                        n.jsxs)("span", {
                            className: l4().total_price,
                            children: [f("trip.bottomBar.total"), " ", a.formattedTotalPrice]
                        }), (null == a ? void 0 : a.formattedTotalPrice) && I && (0,
                        n.jsx)("span", {
                            className: l4().separator,
                            children: "•"
                        }), I && (0,
                        n.jsx)("button", {
                            className: l4().dates_button,
                            onClick: () => {
                                v || null == p || p()
                            }
                            ,
                            disabled: v,
                            children: I
                        })]
                    })]
                }), (0,
                n.jsx)("div", {
                    className: l4().right_section,
                    children: (0,
                    n.jsx)(id, {
                        trip: i,
                        formattedTrip: a,
                        onShowOrderSummary: s,
                        toggleExpandSidePanel: d,
                        isRightPanelExpanded: u,
                        variant: "bottom-bar"
                    })
                })]
            })
        }
          , l8 = () => {
            var e;
            let {trip: t, trimmedLegs: i, formattedTrip: r, tab: s, setTabWithScroll: d, setShowDetailsModal: p, isPreview: v, isRightPanelExpanded: _, toggleExpandSidePanel: m, onItemSelect: h, hoveredHotelId: g, hoveredActivityId: f, recommendations: x, handleSaveHiddenItem: y, handleDeleteHiddenItem: b, handleZoomToRecommendation: j, showOrderSummary: w, setShowOrderSummary: A, abTestShowHighlightsAndSummary: I, isCreatorRoute: T, hideTripHeader: k, viewMode: S, onSearch: R} = (0,
            nv.e)()
              , {isMainTripEntity: E, navigationState: P} = (0,
            a.Pd)()
              , {isMobile: D} = (0,
            c.U)()
              , {tAsString: M} = (0,
            C.Ay)()
              , {showPaywall: L} = (0,
            u.M)()
              , {selectedItem: O, chat: F} = (0,
            tK.Y)()
              , {asPath: B, query: H} = (0,
            o.useRouter)()
              , U = B.includes("/chat") || !!F && !!H.ask
              , z = null !== (e = null == O ? void 0 : O.preloadedRelatedTrips) && void 0 !== e ? e : []
              , q = E && !D && !v && !L
              , [V,W] = (0,
            l.useState)(!1)
              , [G,Y] = (0,
            l.useState)(!1)
              , X = (0,
            l.useRef)(null)
              , J = (0,
            l.useRef)(null);
            (0,
            l.useEffect)( () => {
                let e = ( () => {
                    if (!X.current)
                        return window;
                    let e = X.current.parentElement;
                    for (; e; ) {
                        let t = window.getComputedStyle(e).overflowY;
                        if ("scroll" === t || "auto" === t)
                            return e;
                        e = e.parentElement
                    }
                    return window
                }
                )()
                  , t = () => {
                    if (!X.current)
                        return;
                    let t = X.current.getBoundingClientRect()
                      , i = t.top
                      , n = t.bottom;
                    W(i < 0 && n > 1120),
                    Y((e === window ? window.scrollY : e.scrollTop) > 200)
                }
                ;
                return e.addEventListener("scroll", t, {
                    passive: !0
                }),
                t(),
                () => e.removeEventListener("scroll", t)
            }
            , [X]);
            let Z = P.entity === N.q.FLIGHTS;
            return (0,
            n.jsxs)("div", {
                id: "desktop-content-row",
                className: t0().desktop_content_row,
                style: q ? {
                    marginBottom: "100px"
                } : {},
                children: [(0,
                n.jsxs)("div", {
                    className: t0().two_column_wrapper,
                    children: [(0,
                    n.jsxs)("div", {
                        className: t0().desktop_left_column,
                        style: Z || S ? {
                            width: "100%",
                            maxWidth: "100%",
                            minWidth: "100%"
                        } : {},
                        ref: X,
                        children: [E && !k && (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsxs)("div", {
                                className: t0().trip_title_block,
                                children: [(0,
                                n.jsx)(iv, {
                                    trip: t,
                                    setShowDetailsModal: p,
                                    isRightPanelExpanded: _,
                                    toggleExpandSidePanel: m,
                                    showOrderSummary: w,
                                    setShowOrderSummary: A,
                                    formattedTrip: r,
                                    isPreview: v
                                }), !v && (0,
                                n.jsx)("div", {
                                    className: t0().edit_title_wrapper,
                                    children: (0,
                                    n.jsx)(ie, {
                                        trip: t
                                    })
                                })]
                            }), I && t.summary && (0,
                            n.jsx)(tP, {
                                trip: t,
                                isExpanded: t.isSummary
                            }), (0,
                            n.jsx)(lJ, {
                                trip: t,
                                extraClass: t0().image_wrapper
                            })]
                        }), (!I || !t.isSummary) && (0,
                        n.jsxs)("div", {
                            className: t0().trip_entity_block,
                            id: "trip-page-entity-id",
                            children: [(0,
                            n.jsx)(tO, {
                                trip: t
                            }), E && (0,
                            n.jsx)(no, {
                                trip: t,
                                recommendations: x,
                                onSaveHiddenItem: y,
                                onZoomToRecommendation: j,
                                onDeleteHiddenItem: b
                            })]
                        })]
                    }), !S && !D && (0,
                    n.jsxs)("div", {
                        className: t0().trip_map_column,
                        children: [T && E && (0,
                        n.jsx)(lG, {
                            trip: t,
                            extraClass: t0().image_wrapper
                        }), E && t && !U && (0,
                        n.jsx)(l0, {
                            trip: t,
                            onSearch: R,
                            style: {
                                marginTop: "25px"
                            }
                        }), (0,
                        n.jsx)(lq, {
                            ref: J,
                            trip: t,
                            tab: s,
                            setTab: d,
                            className: t0().trip_map,
                            style: U ? void 0 : {
                                marginTop: "37px"
                            },
                            onVideoFeatureClick: h,
                            hoveredHotelId: g,
                            hoveredActivityId: f,
                            isPreview: v,
                            recommendations: x,
                            onRecommendationClick: j
                        })]
                    })]
                }), E && (!I || !t.isSummary) && (0,
                n.jsxs)("div", {
                    className: t0().full_width_itinerary,
                    children: [(0,
                    n.jsx)(nS, {
                        trip: t,
                        trimmedLegs: null != i ? i : []
                    }), (0,
                    n.jsx)(l1, {
                        isPreview: v,
                        isMapFixed: V,
                        tripColumnRef: X,
                        mapRef: J
                    })]
                }), !U && (0,
                n.jsxs)("div", {
                    style: {
                        marginTop: "40px"
                    },
                    children: [(0,
                    n.jsx)(ns.A, {
                        tripId: t.id,
                        preloadedRelatedContent: z,
                        relatedContentType: "trip",
                        shouldLoad: !0,
                        headerTitle: M("itinerary.relatedTripsForItineraries")
                    }), (0,
                    n.jsx)(np, {
                        preloadedContent: [],
                        shouldLoad: !0,
                        headerTitle: M("homepage.footer.columnNames.plan")
                    })]
                }), q && (0,
                n.jsx)(l5, {
                    trip: t,
                    formattedTrip: r,
                    onShowOrderSummary: A,
                    toggleExpandSidePanel: m,
                    isRightPanelExpanded: _,
                    onDetailsClick: () => null == p ? void 0 : p(!0),
                    isPreview: v,
                    isVisible: G
                })]
            })
        }
          , l6 = d()( () => Promise.all([i.e(7533), i.e(8828), i.e(4191)]).then(i.bind(i, 78828)).then(e => e.default), {
            loadableGenerated: {
                webpack: () => [78828]
            },
            ssr: !1
        })
          , l9 = d()( () => Promise.all([i.e(9556), i.e(6850)]).then(i.bind(i, 16850)).then(e => e.default), {
            loadableGenerated: {
                webpack: () => [16850]
            },
            ssr: !1
        })
          , l3 = e => {
            let {toggleExpandSidePanel: t, isRightPanelExpanded: i, trip: r, onClose: s, showDetailsModal: d, setShowDetailsModal: g, onItemSelect: f, trimmedLegs: x, isPreview: y=!1, hideMap: b=!1, hideTripHeader: j=!1, viewMode: w=!1, onSearch: A, tripAuthor: I} = e
              , {isMainTripEntity: C, navigationState: N, executeAndClearReturnCallback: T} = (0,
            a.Pd)()
              , {isMobile: k} = (0,
            c.U)()
              , {pseudoUserId: S} = (0,
            m.A)()
              , {setPaywallOpenReason: R} = (0,
            u.M)()
              , E = (0,
            l.useRef)(null)
              , P = (0,
            p.A)()
              , [D,M] = (0,
            l.useState)(!1)
              , [L,O] = (0,
            l.useState)()
              , [F,B] = (0,
            l.useState)()
              , {abTestValue: H} = (0,
            tY.k)()
              , U = H(tG.tW.PROMPT_VERSION) === tG.K_.VERSION_8
              , z = e => {
                O(e)
            }
              , q = e => {
                B(e)
            }
              , {tab: V, setTab: W} = (0,
            v.f)()
              , {legTransportState: G, closeRouteModal: Y} = (0,
            h.y)()
              , {formattedTrip: X} = (0,
            _.A)(r)
              , J = (0,
            o.useRouter)().pathname.includes("/creator")
              , {onNavTabChange: Z, setTabWithScroll: K} = tJ({
                trimmedLegs: x,
                tab: V,
                setTab: W,
                isMobile: k
            });
            (0,
            l.useEffect)( () => {
                if (!y && (null == r ? void 0 : r.legs) && r.legs.length > 0) {
                    let o = r.legs.find(e => !e.skipHotel);
                    if (o) {
                        var e, t, i, n, l, a;
                        let s = {
                            number_of_adults: (null === (t = r.travelers) || void 0 === t ? void 0 : null === (e = t.filter(e => e.isAdult)) || void 0 === e ? void 0 : e.length) || 2,
                            number_of_rooms: r.numberOfRooms || 1,
                            children: (null === (n = r.travelers) || void 0 === n ? void 0 : null === (i = n.filter(e => !e.isAdult)) || void 0 === i ? void 0 : i.map(e => e.age || 8)) || []
                        };
                        R(JSON.stringify({
                            type: "trip_hotel_search",
                            location: (null === (l = o.destination) || void 0 === l ? void 0 : l.city) || (null === (a = o.destination) || void 0 === a ? void 0 : a.parentCity) || o.location,
                            checkIn: o.startDate,
                            checkOut: o.endDate !== o.startDate ? o.endDate : r.endDate,
                            guests: s
                        }))
                    }
                }
            }
            , [r, R, y]),
            (0,
            l.useEffect)( () => {
                (null == r ? void 0 : r.id) && S && !y && P({
                    event: "OpenTrip",
                    data: {
                        tripId: r.id
                    }
                })
            }
            , [null == r ? void 0 : r.id, S, y]),
            (0,
            l.useEffect)( () => {
                C && N.onReturnCallback && T()
            }
            , [C, N, T]);
            let {dates: Q, roomsAndGuests: $, onChangeTripDetails: ee} = tQ({
                trip: r,
                toggleExpandSidePanel: t,
                isPreview: y,
                isMobile: k,
                isRightPanelExpanded: i
            });
            return (0,
            n.jsx)(tX.D, {
                trip: r,
                children: e => {
                    var a;
                    let {recommendations: o, handleSaveHiddenItem: c, handleDeleteHiddenItem: u, handleZoomToRecommendation: p} = e;
                    return (0,
                    n.jsx)(nv.z, {
                        value: {
                            trip: r,
                            trimmedLegs: x,
                            formattedTrip: X,
                            tab: V,
                            setTabWithScroll: K,
                            onNavTabChange: Z,
                            setShowDetailsModal: g,
                            isPreview: y,
                            isRightPanelExpanded: i,
                            toggleExpandSidePanel: t,
                            onItemSelect: f,
                            onClose: s,
                            hoveredHotelId: L,
                            hoveredActivityId: F,
                            handleHotelHover: z,
                            handleActivityHover: q,
                            recommendations: o,
                            handleSaveHiddenItem: c,
                            handleDeleteHiddenItem: u,
                            handleZoomToRecommendation: p,
                            showOrderSummary: D,
                            setShowOrderSummary: M,
                            abTestShowHighlightsAndSummary: U,
                            isCreatorRoute: J,
                            wrapperRef: E,
                            hideMap: b,
                            hideTripHeader: j,
                            viewMode: w,
                            onSearch: A,
                            tripAuthor: I
                        },
                        children: (0,
                        n.jsxs)(n.Fragment, {
                            children: [(w || !y) && (0,
                            n.jsx)(l.Suspense, {
                                children: (0,
                                n.jsx)(l6, {
                                    initialDates: Q,
                                    initialRoomsAndGuests: $,
                                    onSave: ee,
                                    onClose: () => null == g ? void 0 : g(!1),
                                    open: d
                                })
                            }), (null == G ? void 0 : G.showModal) && !y && (0,
                            n.jsx)(l9, {
                                open: G.showModal,
                                legs: null !== (a = null == r ? void 0 : r.legs) && void 0 !== a ? a : [],
                                trimmedLegs: x,
                                onCloseTransportOptionsModal: Y,
                                trip: r
                            }), k && (0,
                            n.jsx)(lz, {}), k && (0,
                            n.jsx)(tW, {
                                trip: r
                            }), !k && (0,
                            n.jsx)(l8, {})]
                        })
                    })
                }
            })
        }
        ;
        var l7 = i(21738);
        let re = e => {
            let {trip: t, ...i} = e
              , o = (0,
            l.useMemo)( () => (0,
            r.FG)(t) || [], [t]);
            return t ? (0,
            n.jsx)(a.RY, {
                trip: t,
                trimmedLegs: o,
                children: (0,
                n.jsx)(l3, {
                    ...i,
                    trip: t,
                    trimmedLegs: o
                })
            }) : (0,
            n.jsx)(l7.A, {})
        }
    }
    ,
    11233: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848);
        i(96540);
        var l = i(86715)
          , r = i(83819)
          , a = i(98935)
          , o = i(18584)
          , s = i(88023);
        let d = e => {
            let {className: t, classNameTooltip: i, tripId: d, tripSlug: c, buttonText: u} = e
              , {isMobile: p} = (0,
            o.U)()
              , {tAsString: v} = (0,
            a.Ay)()
              , {asPath: _} = (0,
            l.useRouter)()
              , m = (0,
            s.A)()
              , h = () => {
                if (d && c)
                    return "/trip/".concat(c, "/").concat(d);
                let e = _.match(/\/trip\/([^/]+)\/([^/]+)\/view/);
                if (e) {
                    let[,t,i] = e;
                    return "/trip/".concat(t, "/").concat(i)
                }
                return _.match(/\/trip\/([^/]+)\/([^/]+)/) && !_.includes("/view") ? _ : _.replace("/view", "")
            }
            ;
            return (0,
            n.jsx)(r.A, {
                tooltip: v("chatPage.trip.editTrip") || "Edit Trip",
                position: "bottom-center",
                style: {
                    width: "fit-content"
                },
                classNameTooltip: i,
                children: (0,
                n.jsxs)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        m({
                            event: "TripPreviewExited",
                            data: {
                                tripId: d || "",
                                tripSlug: c || "",
                                source: "edit_button"
                            }
                        }),
                        window.location.href = h()
                    }
                    ,
                    className: t,
                    style: {
                        display: "flex",
                        boxSizing: "border-box",
                        alignItems: "center",
                        justifyContent: "center",
                        gap: "4px",
                        borderRadius: "9px",
                        padding: "8px 12px",
                        fontWeight: 500,
                        background: "#F2F2F2",
                        fontSize: "14px",
                        lineHeight: "20px",
                        letterSpacing: "0.2%",
                        textAlign: "center",
                        minWidth: "auto",
                        width: "auto",
                        textTransform: "none",
                        whiteSpace: "nowrap",
                        color: "#000",
                        marginRight: "0px",
                        border: "none",
                        cursor: "pointer"
                    },
                    children: [u === (v("trip.closePreview") || "Close Preview") ? (0,
                    n.jsxs)("svg", {
                        width: "16",
                        height: "16",
                        viewBox: "0 0 16 16",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: [(0,
                        n.jsx)("path", {
                            d: "M12 4L4 12",
                            stroke: "currentColor",
                            strokeWidth: "2",
                            strokeLinecap: "round",
                            strokeLinejoin: "round"
                        }), (0,
                        n.jsx)("path", {
                            d: "M4 4L12 12",
                            stroke: "currentColor",
                            strokeWidth: "2",
                            strokeLinecap: "round",
                            strokeLinejoin: "round"
                        })]
                    }) : (0,
                    n.jsxs)("svg", {
                        width: "16",
                        height: "16",
                        viewBox: "0 0 24 24",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: [(0,
                        n.jsx)("path", {
                            d: "M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",
                            stroke: "currentColor",
                            strokeWidth: "2",
                            strokeLinecap: "round",
                            strokeLinejoin: "round"
                        }), (0,
                        n.jsx)("path", {
                            d: "M18.5 2.49998C18.8978 2.10216 19.4374 1.87866 20 1.87866C20.5626 1.87866 21.1022 2.10216 21.5 2.49998C21.8978 2.89781 22.1213 3.43737 22.1213 3.99998C22.1213 4.56259 21.8978 5.10216 21.5 5.49998L12 15L8 16L9 12L18.5 2.49998Z",
                            stroke: "currentColor",
                            strokeWidth: "2",
                            strokeLinecap: "round",
                            strokeLinejoin: "round"
                        })]
                    }), !p && (u || v("chatPage.trip.editTrip") || "Edit Trip")]
                })
            })
        }
    }
    ,
    66814: (e, t, i) => {
        "use strict";
        i.d(t, {
            c: () => c,
            A: () => u
        });
        var n = i(74848)
          , l = i(17868)
          , r = i.n(l)
          , a = i(13725);
        let o = {
            src: "/_next/static/media/shopping-cart-white.dffc7672.svg",
            height: 24,
            width: 24,
            blurWidth: 0,
            blurHeight: 0
        };
        var s = i(98935)
          , d = i(88023);
        let c = "trip-basket-button"
          , u = e => {
            let {onClick: t, iconOnly: i=!1, className: l, copy: u, totalAmount: p, useMobileText: v=!1} = e
              , {tAsString: _} = (0,
            s.Ay)()
              , m = (0,
            d.A)()
              , h = u || (p ? "".concat(_(v ? "trip.tripBasketButton.book" : "trip.tripBasketButton.reviewAndBook"), " (").concat(p, ")") : _("trip.tripPopups.tripCart"));
            return (0,
            n.jsxs)("button", {
                id: c,
                onClick: () => {
                    m({
                        event: "OpenTripBasketBottom"
                    }),
                    t()
                }
                ,
                className: "".concat(i ? r().checkout_button : r().purchase_button, " ").concat(l || ""),
                children: [(0,
                n.jsx)(a.A, {
                    src: o,
                    alt: "basket-icon-button",
                    width: i ? 24 : 16,
                    height: i ? 24 : 16
                }), !i && (0,
                n.jsx)("span", {
                    children: h
                })]
            })
        }
    }
    ,
    65068: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => y
        });
        var n = i(74848)
          , l = i(91106)
          , r = i.n(l)
          , a = i(96540)
          , o = i(22472)
          , s = i(25508)
          , d = i(80731)
          , c = i(85610)
          , u = i(46575);
        let p = async (e, t, i, n, l) => {
            let {results: r} = await (0,
            u.ol)("trip", t, "trip", i, null != n ? n : "", null != l ? l : "", (0,
            c.cL)(e));
            return r
        }
          , v = () => {
            let e = (0,
            s.Sm)()
              , t = (0,
            d.b)();
            return async (i, n) => {
                var l;
                let r = await (null === (l = o.auth.currentUser) || void 0 === l ? void 0 : l.getIdToken());
                return await p(i, n, t, r, e)
            }
        }
        ;
        var _ = i(86715)
          , m = i(71975)
          , h = i(5104)
          , g = i(88023)
          , f = i(20831)
          , x = i.n(f);
        let y = e => {
            var t;
            let {tripId: i, headerTitle: l, preloadedRelatedContent: o, relatedContentType: s, shouldLoad: d} = e
              , {locale: u} = (0,
            _.useRouter)()
              , p = (0,
            g.A)()
              , f = v()
              , {user: y} = (0,
            m.A)()
              , [b,j] = (0,
            a.useState)([])
              , w = (null !== (t = null == o ? void 0 : o.length) && void 0 !== t ? t : 0) > 0 ? o : b
              , A = (e, t, i) => {
                p({
                    event: e,
                    data: {
                        id: t,
                        query: (0,
                        c.ON)(i, !1)
                    }
                })
            }
              , I = (e, t, i) => {
                let n;
                if ("trip" === s)
                    n = "RelatedTripForTripClick";
                else {
                    console.warn("Related Content Type is not supported yet: ".concat(s));
                    return
                }
                A(n, t, i)
            }
            ;
            return ((0,
            a.useEffect)( () => {
                (null == y ? void 0 : y.uid) && !(o.length > 0) && d && setTimeout( () => {
                    "trip" === s && f((0,
                    h.Xe)(u || "en"), i).then(e => {
                        e && j(e)
                    }
                    )
                }
                , 1e3)
            }
            , [o, d, i, null == y ? void 0 : y.uid, s]),
            (null == w ? void 0 : w.length) === 0) ? null : (null == w ? void 0 : w.length) > 0 && (0,
            n.jsxs)("div", {
                className: x().container,
                children: [(0,
                n.jsx)("h2", {
                    children: l
                }), (0,
                n.jsx)("div", {
                    className: x().links_wrapper,
                    children: w.map( (e, t) => {
                        let {title: i, url: l, entityId: a} = e;
                        return (0,
                        n.jsxs)("div", {
                            className: x().link_inline,
                            children: [(0,
                            n.jsx)(r(), {
                                onClick: e => I(e, a, i),
                                href: l,
                                "aria-label": i,
                                prefetch: !1,
                                children: i
                            }), t + 1 < w.length && (0,
                            n.jsx)("div", {
                                className: x().dot
                            })]
                        }, a)
                    }
                    )
                })]
            })
        }
    }
    ,
    31882: (e, t, i) => {
        "use strict";
        i.d(t, {
            D: () => o
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(28450);
        let a = e => {
            let {trip: t} = e
              , [i,n] = (0,
            l.useState)([]);
            (0,
            l.useEffect)( () => {
                (null == t ? void 0 : t.hiddenRecommendations) && n(t.hiddenRecommendations)
            }
            , [null == t ? void 0 : t.hiddenRecommendations]);
            let a = async e => {
                let l = i.find(t => t.id === e);
                if (l) {
                    n(t => t.filter(t => t.id !== e));
                    try {
                        await (0,
                        r.M)(t.id, e)
                    } catch (e) {
                        throw n(e => [...e, l]),
                        e
                    }
                }
            }
            ;
            return {
                recommendations: i,
                handleSaveHiddenItem: async (e, i, l, a) => {
                    let o;
                    let s = !!a;
                    s ? (o = {
                        ...a,
                        ...e
                    },
                    n(e => e.map(e => e.id === a.id ? o : e))) : (o = {
                        id: Date.now().toString(),
                        ...e
                    },
                    n(e => [...e, o]));
                    try {
                        await (0,
                        r.f)(t.id, e, i, l, s ? a.id : void 0)
                    } catch (e) {
                        throw s ? n(e => e.map(e => e.id === a.id ? a : e)) : n(e => e.filter(e => e.id !== o.id)),
                        e
                    }
                }
                ,
                handleDeleteHiddenItem: a,
                handleZoomToRecommendation: e => {
                    if (e.latitude && e.longitude) {
                        let t = new CustomEvent("zoomToRecommendation",{
                            detail: {
                                id: e.id,
                                lat: e.latitude,
                                lng: e.longitude,
                                recommendation: e
                            }
                        });
                        window.dispatchEvent(t)
                    }
                }
            }
        }
          , o = e => {
            let {trip: t, children: i} = e
              , l = a({
                trip: t
            });
            return (0,
            n.jsx)(n.Fragment, {
                children: i(l)
            })
        }
    }
    ,
    10146: (e, t, i) => {
        "use strict";
        i.d(t, {
            e: () => a,
            z: () => o
        });
        var n = i(74848)
          , l = i(96540);
        let r = (0,
        l.createContext)(void 0)
          , a = () => {
            let e = (0,
            l.useContext)(r);
            if (void 0 === e)
                throw Error("useTripLayoutContext must be used within a TripLayoutProvider");
            return e
        }
          , o = e => {
            let {children: t, value: i} = e;
            return (0,
            n.jsx)(r.Provider, {
                value: i,
                children: t
            })
        }
    }
    ,
    81929: (e, t, i) => {
        "use strict";
        i.d(t, {
            p: () => a
        });
        var n = i(96540)
          , l = i(97025)
          , r = i(3935);
        let a = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
              , i = (0,
            n.useRef)({})
              , a = (0,
            n.useRef)(null)
              , [o,s] = (0,
            n.useState)(null)
              , d = !t
              , c = (0,
            n.useCallback)(e => t => {
                i.current[e] = t
            }
            , [])
              , u = (0,
            n.useCallback)( () => {
                let t = document.getElementById(r.L);
                t || (t = document.querySelector('[class*="ChatSidePanelContent_content_wrapper"]'));
                let n = t ? t.scrollTop : window.pageYOffset || document.documentElement.scrollTop
                  , a = [];
                Object.entries(i.current).forEach(t => {
                    let[i,r] = t;
                    if (r) {
                        let t = r.getBoundingClientRect().top + n
                          , d = i.split("-");
                        if (d.length >= 5) {
                            var o, s;
                            let n = parseInt(d[2])
                              , c = parseInt(d[4])
                              , u = new Date((null === (o = e.legs[n]) || void 0 === o ? void 0 : o.startDate) || e.legs[0].startDate);
                            u.setDate(u.getDate() + c);
                            let p = u.toISOString().split("T")[0]
                              , v = null === (s = e.legs[n]) || void 0 === s ? void 0 : s.location
                              , _ = (null == v ? void 0 : v.split(", ")[0]) || v || "";
                            a.push({
                                key: i,
                                element: r,
                                date: (0,
                                l.bO)(p),
                                temperature: 28,
                                city: _,
                                top: t,
                                legIndex: n,
                                dayIndex: c
                            })
                        }
                    }
                }
                ),
                a.sort( (e, t) => e.top - t.top);
                let o = null;
                for (let e = a.length - 1; e >= 0; e--) {
                    let t = a[e];
                    if (t.top - n <= 72) {
                        o = t;
                        break
                    }
                }
                let d = 0
                  , c = Object.values(i.current).find(e => null !== e);
                c && (d = c.getBoundingClientRect().width),
                o ? s({
                    date: o.date,
                    temperature: o.temperature,
                    city: o.city,
                    isVisible: !0,
                    containerWidth: d,
                    legIndex: o.legIndex,
                    dayIndex: o.dayIndex
                }) : s(null)
            }
            , [e.legs]);
            return (0,
            n.useEffect)( () => {
                if (!d)
                    return;
                let e = document.getElementById(r.L);
                e || (e = document.querySelector('[class*="ChatSidePanelContent_content_wrapper"]'));
                let t = e ? e.scrollTop : 0
                  , i = () => {
                    let i = e || document.querySelector('[class*="ChatSidePanelContent_content_wrapper"]')
                      , n = i ? i.scrollTop : window.pageYOffset || document.documentElement.scrollTop;
                    n !== t && (t = n,
                    u())
                }
                ;
                e ? e.addEventListener("scroll", i, {
                    passive: !0
                }) : window.addEventListener("scroll", i, {
                    passive: !0
                }),
                document.addEventListener("scroll", i, {
                    passive: !0
                });
                let n = setTimeout(u, 100);
                return () => {
                    e ? e.removeEventListener("scroll", i) : window.removeEventListener("scroll", i),
                    document.removeEventListener("scroll", i),
                    clearTimeout(n)
                }
            }
            , [u, d]),
            {
                stickyWeatherData: o,
                stickyWeatherRef: a,
                setWeatherWidgetRef: c
            }
        }
    }
    ,
    54105: (e, t, i) => {
        "use strict";
        i.d(t, {
            cA: () => n
        });
        let n = {
            position: "relative",
            zIndex: 1
        }
    }
    ,
    45138: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => I
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(29965)
          , a = i.n(r)
          , o = i(72111)
          , s = i(47785)
          , d = i(58001)
          , c = i(38663)
          , u = i.n(c)
          , p = i(89906)
          , v = i(84584)
          , _ = i.n(v);
        let m = e => {
            let {activity: t, big: i, inMap: r, moreClass: a, forceCompactLayout: o=!1, reviewScoreString: s, tAsString: d} = e
              , c = (0,
            l.useMemo)( () => (0,
            p.A)(r ? _().score_in_map : i ? _().score_big : a ? _().score_in_map_more : _().score, {
                [_().compact_score]: o && !r && !i && !a
            }), [r, i, a, o])
              , u = (0,
            l.useMemo)( () => (0,
            p.A)(r ? _().score_text_in_map : i ? _().score_text_big : a ? _().score_text_more : _().score_text, {
                [_().compact_score_text]: o && !r && !i && !a
            }), [r, i, a, o])
              , v = (0,
            l.useMemo)( () => (0,
            p.A)(r ? _().score_review_in_map : i ? _().reviews_big : a ? _().reviews_more : _().reviews, {
                [_().compact_reviews]: o && !r && !i && !a
            }), [r, i, a, o])
              , m = (0,
            l.useMemo)( () => d("topicPage.chatSection.cards.review_title.".concat(s)), [d, s])
              , h = (0,
            l.useMemo)( () => {
                let e = d("topicPage.chatSection.cards.hotelRating", {
                    numberOfReviews: null == t ? void 0 : t.numberOfRatings
                });
                return r ? e.replace(/\s/g, "").slice(1, -1) : e
            }
            , [d, null == t ? void 0 : t.numberOfRatings, r]);
            return (null == t ? void 0 : t.rating) ? (0,
            n.jsxs)("div", {
                className: _().container,
                style: {
                    gap: r ? "4px" : void 0
                },
                children: [(0,
                n.jsx)("div", {
                    className: c,
                    children: t.rating.toFixed(1)
                }), (0,
                n.jsxs)("div", {
                    className: _().info,
                    children: [(0,
                    n.jsx)("span", {
                        className: u,
                        children: m
                    }), (0,
                    n.jsx)("span", {
                        className: v,
                        children: h
                    })]
                })]
            }) : null
        }
        ;
        var h = i(13084)
          , g = i(97917)
          , f = i(13725)
          , x = i(31638)
          , y = i.n(x);
        let b = e => {
            let {activity: t} = e
              , i = (0,
            l.useMemo)( () => (function(e) {
                let t = Math.min(5, Math.max(0, e || 0))
                  , i = Math.floor(t)
                  , n = t - i
                  , l = 0
                  , r = 0;
                n >= .75 ? r = 1 : n >= .25 && (l = 1);
                let a = [];
                for (let e = 0; e < i + r; e++)
                    a.push("full");
                return l && a.length < 5 && a.push("half"),
                a.slice(0, 5)
            }
            )(t.rating), [t.rating]);
            return i.length ? (0,
            n.jsx)("div", {
                className: y().stars,
                children: i.map( (e, t) => "full" === e ? (0,
                n.jsx)(f.A, {
                    src: h.A,
                    alt: "star",
                    width: 16,
                    height: 16
                }, t) : (0,
                n.jsx)(f.A, {
                    src: g.A,
                    alt: "half-star",
                    width: 16,
                    height: 16
                }, t))
            }) : null
        }
        ;
        var j = i(7143)
          , w = i(85610)
          , A = i(97025);
        let I = e => {
            var t, i, r;
            let {activity: c, tAsString: p, formattedPrice: v, validImageSrc: _, showCTAButton: h=!1, destination: g, onCTAClick: f} = e
              , x = (0,
            l.useMemo)( () => (0,
            j.t)(null == c ? void 0 : c.rating), [null == c ? void 0 : c.rating])
              , y = !!(null == c ? void 0 : null === (t = c.duration) || void 0 === t ? void 0 : t.value) && !!(null == c ? void 0 : null === (i = c.duration) || void 0 === i ? void 0 : i.unit)
              , I = (0,
            l.useMemo)( () => {
                var e;
                return (0,
                n.jsx)("div", {
                    className: u().marker_header,
                    children: (0,
                    n.jsxs)("div", {
                        className: u().hotel_panel_info,
                        children: [(null == c ? void 0 : null === (e = c.location) || void 0 === e ? void 0 : e.place) && (0,
                        n.jsxs)("div", {
                            className: u().hotel_panel_location,
                            children: [(0,
                            n.jsx)(a(), {
                                src: s.A,
                                alt: "location",
                                width: 12,
                                height: 12
                            }), (0,
                            n.jsx)("span", {
                                children: c.location.place
                            })]
                        }), (0,
                        n.jsxs)("div", {
                            className: u().hotel_panel_name_and_stars,
                            children: [(null == c ? void 0 : c.name) && (0,
                            n.jsx)("div", {
                                className: u().hotel_panel_name,
                                children: c.name
                            }), (null == c ? void 0 : c.rating) && (0,
                            n.jsx)(b, {
                                activity: c
                            })]
                        })]
                    })
                })
            }
            , [c]);
            return (0,
            n.jsxs)("div", {
                children: [(0,
                n.jsx)("button", {
                    className: u().hotel_panel_close_button,
                    children: (0,
                    n.jsx)(a(), {
                        src: d.A,
                        alt: "close",
                        width: 12,
                        height: 12
                    })
                }), (0,
                n.jsxs)("div", {
                    className: u().hotel_panel,
                    children: [(0,
                    n.jsxs)("div", {
                        className: u().hotel_panel_image,
                        children: [(null == c ? void 0 : null === (r = c.images) || void 0 === r ? void 0 : r.length) > 0 && (0,
                        n.jsx)(a(), {
                            src: _ || (0,
                            A.jK)(c),
                            className: u().hotel_panel_image_image,
                            alt: "activity",
                            width: 60,
                            height: 60,
                            "data-img-activity-id": c.id
                        }), y && (0,
                        n.jsxs)("div", {
                            className: u().match,
                            children: [c.duration.value, (0,
                            w.zG)(c.duration.value, c.duration.unit, p)]
                        })]
                    }), I, (0,
                    n.jsxs)("div", {
                        className: u().hotel_panel_all_info,
                        children: [(0,
                        n.jsx)("div", {
                            className: u().hotel_panel_info
                        }), c && (0,
                        n.jsx)(m, {
                            activity: c,
                            inMap: !0,
                            reviewScoreString: x,
                            tAsString: p
                        }), v && (0,
                        n.jsx)("div", {
                            className: u().hotel_panel_price,
                            children: (0,
                            n.jsxs)("div", {
                                className: u().hotel_panel_price_night,
                                children: [(0,
                                n.jsx)("span", {
                                    className: u().hotel_panel_price_night_count,
                                    children: v
                                }), (0,
                                n.jsxs)("span", {
                                    className: u().hotel_panel_price_night_text,
                                    children: ["/", p("trip.tripPopups.person")]
                                })]
                            })
                        }), (0,
                        n.jsx)("button", {
                            "data-btn-activity-id": null == c ? void 0 : c.id,
                            className: u().purchase_button,
                            children: p("checkout.viewDetails")
                        })]
                    })]
                }), h && g && f && (0,
                n.jsx)("div", {
                    className: u().cta_button_wrapper,
                    "data-cta-destination": g,
                    children: (0,
                    n.jsx)(o.$, {
                        size: "lg",
                        className: u().cta_button,
                        onClick: f,
                        children: p("trip.share.popup.ctaButton", {
                            destination: g
                        })
                    })
                })]
            })
        }
    }
    ,
    24624: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(74848);
        i(96540);
        var l = i(13725)
          , r = i(5104);
        let a = e => {
            let {size: t, displayName: i, photoUrl: a, containerStyle: o} = e
              , s = i || ""
              , d = s.length > 0 ? (0,
            r.i3)(s) : "lightgray"
              , c = s.length > 0 ? s[0].toUpperCase() : "";
            return (0,
            n.jsx)("div", {
                style: {
                    width: t,
                    height: t,
                    borderRadius: "50%",
                    backgroundColor: d,
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    color: "#fff",
                    fontSize: .4 * t,
                    fontWeight: 500,
                    overflow: "hidden",
                    ...o
                },
                children: a ? (0,
                n.jsx)(l.A, {
                    src: a,
                    alt: "user-image",
                    width: t,
                    height: t,
                    style: {
                        objectFit: "cover",
                        borderRadius: "50%"
                    }
                }) : c || (0,
                n.jsx)(l.A, {
                    src: "/user.svg",
                    alt: "user",
                    width: .5 * t,
                    height: .5 * t
                })
            })
        }
    }
    ,
    77222: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848)
          , l = i(58001)
          , r = i(13725)
          , a = i(81441)
          , o = i(99771)
          , s = i.n(o);
        let d = e => {
            let {id: t, onClick: i, position: o="left", customStyles: d="", ...c} = e
              , u = (0,
            a.V)(s().chat_close_button, "left" === o ? s().chat_close_button_left : s().chat_close_button_right, d)
              , p = {
                width: 32,
                height: 32,
                minWidth: 32,
                maxWidth: 32,
                minHeight: 32,
                maxHeight: 32,
                boxSizing: "border-box",
                ..."closeRightSidebarButton" !== t && {
                    backgroundColor: "#f2f2f2"
                },
                ...c.style
            };
            return (0,
            n.jsx)("button", {
                id: t,
                className: u,
                onClick: i,
                style: p,
                "aria-label": c["aria-label"] || "Close",
                type: "button",
                ...c,
                children: (0,
                n.jsx)(r.A, {
                    src: l.A,
                    alt: "close-icon-button",
                    width: 18,
                    height: 18,
                    style: {
                        width: 18,
                        height: 18
                    }
                })
            })
        }
    }
    ,
    89722: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848)
          , l = i(45703)
          , r = i.n(l)
          , a = i(41917)
          , o = i(98935)
          , s = i(13725);
        let d = e => {
            let {onClick: t, sx: i, className: l, showIcon: d} = e
              , {tAsString: c} = (0,
            o.Ay)();
            return (0,
            n.jsxs)(a.A, {
                sx: {
                    display: "flex",
                    boxSizing: "border-box",
                    alignItems: "center",
                    justifyContent: "center",
                    gap: "4px",
                    borderRadius: "9px",
                    padding: "8px 12px",
                    fontWeight: 500,
                    background: "#F2F2F2",
                    fontSize: "14px",
                    lineHeight: "20px",
                    letterSpacing: "0.2%",
                    textAlign: "center",
                    minWidth: "auto !important",
                    width: "auto",
                    textTransform: "none",
                    whiteSpace: "nowrap",
                    color: "#000",
                    marginRight: "0px",
                    "&:hover": {
                        background: "#e5e5e5"
                    },
                    ...i
                },
                className: l,
                onClick: () => t(),
                children: [d && (0,
                n.jsx)(s.A, {
                    src: "/share-icon.svg",
                    alt: c("trip.sharingTrip"),
                    width: 16,
                    height: 16,
                    style: {
                        width: "16px",
                        height: "16px",
                        minWidth: "16px",
                        minHeight: "16px",
                        maxWidth: "16px",
                        maxHeight: "16px"
                    }
                }), (0,
                n.jsx)(r(), {
                    id: "11e02268c1e53544",
                    children: ".text.jsx-11e02268c1e53544{display:block}@media(max-width:1366px){.text.jsx-11e02268c1e53544{display:none}}"
                }), (0,
                n.jsx)("div", {
                    className: "jsx-11e02268c1e53544 text",
                    children: c("videoDestinationPage.buttons.share")
                })]
            })
        }
    }
    ,
    30570: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => c
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(63297)
          , a = i(67185)
          , o = i(3552);
        let s = ["height", "borderRadius", "barStyle", "colorPrimaryStyle"]
          , d = (0,
        o.Ay)(r.A, {
            shouldForwardProp: e => !s.includes(e.toString())
        })(e => {
            let {theme: t, height: i, borderRadius: n, barStyle: l, colorPrimaryStyle: r} = e;
            return {
                height: i || 3,
                minHeight: i || 3,
                borderRadius: n || 3,
                ["&.".concat(a.A.colorPrimary)]: {
                    backgroundColor: (null == r ? void 0 : r.backgroundColor) || t.palette.grey[300],
                    ...r
                },
                ["& .".concat(a.A.bar)]: {
                    borderRadius: n || 5,
                    backgroundColor: (null == l ? void 0 : l.backgroundColor) || "#9b8df1",
                    ...l
                }
            }
        }
        );
        function c(e) {
            let {height: t, borderRadius: i, barStyle: r, colorPrimaryStyle: a, simulateProgress: o, isLoading: s, ...c} = e
              , [u,p] = (0,
            l.useState)(0)
              , [v,_] = (0,
            l.useState)(!1);
            if ((0,
            l.useEffect)( () => {
                let e;
                if (!o)
                    return;
                _(!0),
                p(0);
                let t = () => {
                    p(e => {
                        let t = e + 10;
                        return t >= 90 ? 90 : t
                    }
                    ),
                    e = setTimeout(t, 1e3 + 500 * Math.random())
                }
                ;
                return e = setTimeout(t, 1e3 + 500 * Math.random()),
                () => {
                    e && clearTimeout(e)
                }
            }
            , [o]),
            (0,
            l.useEffect)( () => {
                if (!o && u > 0) {
                    p(100);
                    let e = setTimeout( () => {
                        _(!1),
                        p(0)
                    }
                    , 500);
                    return () => clearTimeout(e)
                }
            }
            , [o, u]),
            (0,
            l.useEffect)( () => {
                void 0 !== s && _(s)
            }
            , [s]),
            !v)
                return null;
            let m = o || u > 0 ? {
                ...c,
                variant: "determinate",
                value: u
            } : c;
            return (0,
            n.jsx)(d, {
                ...m,
                height: t,
                borderRadius: i,
                barStyle: r,
                colorPrimaryStyle: a
            })
        }
    }
    ,
    39327: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => _
        });
        var n = i(74848)
          , l = i(29965)
          , r = i.n(l)
          , a = i(72111)
          , o = i(47785)
          , s = i(58001)
          , d = i(13171)
          , c = i(83061)
          , u = i(7143)
          , p = i(38663)
          , v = i.n(p);
        let _ = e => {
            var t;
            let {hotel: i, tAsString: l, formattedPrice: p, validImageSrc: _, hideCloseButton: m=!1, onClose: h, showCTAButton: g=!1, destination: f, onCTAClick: x} = e
              , y = null !== (t = null == i ? void 0 : i.matchScore) && void 0 !== t ? t : 0
              , b = (0,
            u.t)(i.reviewScore)
              , j = (0,
            n.jsx)("div", {
                className: v().marker_header,
                children: (0,
                n.jsxs)("div", {
                    className: v().hotel_panel_info,
                    children: [(null == i ? void 0 : i.address) && (0,
                    n.jsxs)("div", {
                        className: v().hotel_panel_location,
                        children: [(0,
                        n.jsx)(r(), {
                            src: o.A,
                            alt: "location",
                            width: 12,
                            height: 12
                        }), (0,
                        n.jsx)("span", {
                            children: i.address
                        })]
                    }), (0,
                    n.jsxs)("div", {
                        className: v().hotel_panel_name_and_stars,
                        children: [(null == i ? void 0 : i.name) && (0,
                        n.jsx)("div", {
                            className: v().hotel_panel_name,
                            children: i.name
                        }), (null == i ? void 0 : i.stars) && (0,
                        n.jsx)(d.A, {
                            hotel: i
                        })]
                    })]
                })
            });
            return (0,
            n.jsxs)("div", {
                children: [!m && (0,
                n.jsx)("button", {
                    className: v().hotel_panel_close_button,
                    onClick: e => {
                        e.preventDefault(),
                        e.stopPropagation(),
                        null == h || h()
                    }
                    ,
                    children: (0,
                    n.jsx)(r(), {
                        src: s.A,
                        alt: "close",
                        width: 12,
                        height: 12
                    })
                }), (0,
                n.jsxs)("div", {
                    className: v().hotel_panel,
                    children: [(0,
                    n.jsxs)("div", {
                        className: v().hotel_panel_image,
                        children: [i && i.photos.length > 0 ? (0,
                        n.jsx)(r(), {
                            src: _ || i.photos[0],
                            className: v().hotel_panel_image_image,
                            alt: "hotel",
                            width: 60,
                            height: 60,
                            "data-img-hotel-id": i.id
                        }) : null, i && y > 0 && (0,
                        n.jsx)("div", {
                            className: v().match,
                            children: "".concat(y, "% ").concat(l("hotels.match"))
                        })]
                    }), j, (0,
                    n.jsxs)("div", {
                        className: v().hotel_panel_all_info,
                        children: [(0,
                        n.jsx)("div", {
                            className: v().hotel_panel_info
                        }), i && (0,
                        n.jsx)(c.A, {
                            hotel: i,
                            inMap: !0,
                            reviewScoreString: b,
                            tAsString: l
                        }), (0,
                        n.jsx)("div", {
                            className: v().hotel_panel_price,
                            children: (0,
                            n.jsxs)("div", {
                                className: v().hotel_panel_price_night,
                                children: [(0,
                                n.jsx)("span", {
                                    className: v().hotel_panel_price_night_count,
                                    children: p
                                }), (0,
                                n.jsx)("span", {
                                    className: v().hotel_panel_price_night_text,
                                    children: "/".concat(l("hotels.card.night"))
                                })]
                            })
                        }), (0,
                        n.jsx)("button", {
                            "data-btn-hotel-id": i.id,
                            className: v().purchase_button,
                            children: l("hotels.card.viewHotel")
                        })]
                    })]
                }), g && f && x && (0,
                n.jsx)("div", {
                    className: v().cta_button_wrapper,
                    "data-cta-destination": f,
                    children: (0,
                    n.jsx)(a.$, {
                        size: "lg",
                        className: v().cta_button,
                        onClick: x,
                        children: l("trip.share.popup.ctaButton", {
                            destination: f
                        })
                    })
                })]
            })
        }
    }
    ,
    29793: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => o
        });
        var n = i(74848)
          , l = i(29965)
          , r = i.n(l)
          , a = i(85436);
        function o(e) {
            var t, i;
            let {dummyImage: l=a.A, ...o} = e;
            return (0,
            n.jsx)(r(), {
                ...o,
                alt: null !== (t = o.alt) && void 0 !== t ? t : "Image with fallback",
                onError: null !== (i = o.onError) && void 0 !== i ? i : e => {
                    let {currentTarget: t} = e;
                    t.onerror = null,
                    t.src = l.src
                }
            })
        }
    }
    ,
    73404: (e, t, i) => {
        "use strict";
        i.d(t, {
            Dh: () => r,
            Eq: () => o,
            bp: () => l,
            e2: () => a,
            jJ: () => n
        });
        let n = "mapbox://styles/mapbox/streets-v12"
          , l = "mapbox://emirpasicbd.dknmf2dh"
          , r = "videos-accepted-4853gs"
          , a = {
            top: 50,
            bottom: 50,
            left: 50,
            right: 50
        }
          , o = {
            ACTIVE: {
                zIndex: 1e3
            },
            INACTIVE: {
                zIndex: 2
            }
        }
    }
    ,
    49720: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(74848)
          , l = i(96540);
        let r = (e, t, i) => {
            (0,
            l.useEffect)( () => {
                let n = new IntersectionObserver(e => {
                    t(e.some(e => e.isIntersecting))
                }
                ,i);
                return e.current && n.observe(e.current),
                () => {
                    e.current && n.unobserve(e.current)
                }
            }
            , [e, t, i])
        }
          , a = e => {
            let {onInView: t, onVisibleChange: i, id: a, forceLoad: o=!1} = e
              , s = (0,
            l.useRef)(null);
            return r(s, e => {
                e && t(),
                null == i || i(e)
            }
            ),
            (0,
            l.useEffect)( () => {
                o && t()
            }
            , [o, t]),
            (0,
            n.jsx)("div", {
                id: a,
                ref: s,
                style: {
                    width: "100%",
                    height: "1px",
                    border: "none"
                }
            })
        }
    }
    ,
    96806: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(98935)
          , a = i(72652)
          , o = i.n(a)
          , s = i(81445);
        let d = e => {
            let {content: t, className: i, readMoreClassName: a, style: d, defaultExpanded: c=!1, maxLines: u} = e
              , {tAsString: p} = (0,
            r.Ay)()
              , [v,_] = (0,
            l.useState)(c)
              , [m,h] = (0,
            l.useState)(!1)
              , [g,f] = (0,
            l.useState)(24)
              , x = (0,
            l.useRef)(null);
            (0,
            l.useEffect)( () => {
                if (!i)
                    return;
                let e = document.querySelector(".".concat(i));
                if (!e)
                    return;
                let t = parseInt(window.getComputedStyle(e).lineHeight);
                isNaN(t) || t === g || f(t)
            }
            , [i, g]);
            let y = (0,
            l.useMemo)( () => u ? u * g : 48, [u, g]);
            return (0,
            l.useEffect)( () => {
                let e;
                let t = () => {
                    x.current && h(x.current.scrollHeight > y)
                }
                ;
                t();
                let i = (0,
                s.A)(t, 100)
                  , n = 0
                  , l = -1;
                return x.current && "ResizeObserver"in window && (e = new ResizeObserver( () => {
                    var e;
                    let t = (null === (e = x.current) || void 0 === e ? void 0 : e.scrollHeight) || 0;
                    t !== l && (l = t,
                    cancelAnimationFrame(n),
                    n = requestAnimationFrame( () => i()))
                }
                )).observe(x.current),
                () => {
                    e && (cancelAnimationFrame(n),
                    e.disconnect())
                }
            }
            , [t, v, y]),
            (0,
            n.jsxs)("div", {
                className: "".concat(o().readMoreContainer, " ").concat(i || ""),
                style: d,
                children: [(0,
                n.jsx)("div", {
                    ref: x,
                    className: "".concat(o().content, " ").concat(v ? o().expanded : o().collapsed),
                    style: {
                        maxHeight: v ? void 0 : y,
                        overflow: v ? void 0 : "hidden",
                        lineHeight: "".concat(g, "px")
                    },
                    children: t.map( (e, t) => (0,
                    n.jsx)(l.Fragment, {
                        children: e
                    }, t))
                }), m && !v && (0,
                n.jsxs)("span", {
                    role: "button",
                    tabIndex: 0,
                    onClick: () => _(!0),
                    onKeyDown: e => {
                        ("Enter" === e.key || " " === e.key) && _(!0)
                    }
                    ,
                    className: "".concat(o().readMoreButton, " ").concat(a || ""),
                    children: ["... ", p("hotels.card.readMore")]
                }), v && m && (0,
                n.jsx)("span", {
                    role: "button",
                    tabIndex: 0,
                    onClick: () => _(!1),
                    onKeyDown: e => {
                        ("Enter" === e.key || " " === e.key) && _(!1)
                    }
                    ,
                    className: "".concat(o().readMoreButton, " ").concat(a || ""),
                    children: p("hotels.card.readLess")
                })]
            })
        }
    }
    ,
    56635: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => s
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(29210)
          , a = i(60023)
          , o = i(10900);
        let s = e => {
            let {content: t, maxLines: i=9999, readMoreText: s="Read more", readLessText: d="Read less", readMoreClassName: c, textClassName: u, preventClick: p=!1} = e
              , [v,_] = (0,
            l.useState)(!1)
              , m = (0,
            l.useMemo)( () => (0,
            a.qg)(t, {
                async: !1
            }), [t])
              , h = (0,
            l.useMemo)( () => m.replace(/^<p>/, "").replace(/<\/p>\s*$/, ""), [m])
              , g = (0,
            l.useMemo)( () => (0,
            o.Ay)(h), [h]);
            return (0,
            n.jsxs)("div", {
                className: u,
                style: {
                    width: "100%"
                },
                children: [(0,
                n.jsx)(r.A, {
                    lines: v ? 9999 : i,
                    ellipsis: (0,
                    n.jsxs)("span", {
                        children: ["...", " ", (0,
                        n.jsx)("span", {
                            className: c,
                            role: "button",
                            tabIndex: 0,
                            onClick: () => {
                                p || _(!0)
                            }
                            ,
                            onKeyDown: e => {
                                "Enter" !== e.key && " " !== e.key || p || _(!0)
                            }
                            ,
                            style: {
                                cursor: "pointer"
                            },
                            children: s
                        })]
                    }),
                    children: (0,
                    n.jsx)("span", {
                        children: g
                    })
                }), v && (0,
                n.jsxs)("span", {
                    className: c,
                    role: "button",
                    tabIndex: 0,
                    onClick: () => {
                        p || _(!1)
                    }
                    ,
                    onKeyDown: e => {
                        "Enter" !== e.key && " " !== e.key || p || _(!1)
                    }
                    ,
                    style: {
                        cursor: "pointer",
                        display: "inline"
                    },
                    children: [" ", d]
                })]
            })
        }
    }
    ,
    87009: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => r
        });
        var n = i(74848)
          , l = i(96540);
        let r = e => {
            let {customRef: t, value: i, placeholderDependency: r, initialHeight: a="35px", enableAutoFocus: o=!0, deps: s=[], resize: d=!0, ...c} = e
              , u = (0,
            l.useRef)(null)
              , p = t || u
              , v = () => {
                if (p.current) {
                    let e = p.current;
                    e.style.height = a,
                    e.style.height !== "".concat(e.scrollHeight, "px") && (e.style.height = "".concat(e.scrollHeight + 4, "px"))
                }
            }
            ;
            return (0,
            l.useEffect)( () => {
                v()
            }
            , [i, r, ...s]),
            (0,
            l.useEffect)( () => {
                if (p.current && (o && p.current.focus(),
                p.current.value)) {
                    let {length: e} = p.current.value;
                    p.current.setSelectionRange(e, e)
                }
            }
            , []),
            (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)("label", {
                    htmlFor: c.className,
                    style: {
                        width: 0,
                        height: 0,
                        position: "absolute",
                        opacity: 0,
                        top: -9999,
                        left: -9999,
                        pointerEvents: "none"
                    },
                    children: c.placeholder
                }), (0,
                n.jsx)("textarea", {
                    ref: p,
                    value: i,
                    id: c.className,
                    style: {
                        resize: d ? "both" : "none"
                    },
                    ...c
                })]
            })
        }
    }
    ,
    50211: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => c
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(13725)
          , a = i(35338)
          , o = i(7334)
          , s = i.n(o);
        let d = (0,
        l.memo)(e => {
            let {children: t, controlsPosition: i="center", controlsPositionClass: o, controlsStyle: d="light", onItemChange: c, sizeArrowButton: u, removeDots: p=!1, setActiveCard: v, chevronSize: _=14, arrowButtonMargin: m, ref: h, initialSlide: g=0, hideButtons: f, canScrollToItem: x=!1} = e
              , y = (0,
            l.useRef)(null)
              , b = null != h ? h : y
              , [j,w] = (0,
            l.useState)(0)
              , [A,I] = (0,
            l.useState)(!1)
              , C = (0,
            a.A)(b, .99)
              , N = (0,
            l.useRef)(C);
            (0,
            l.useEffect)( () => {
                N.current = C
            }
            , [C]);
            let T = (0,
            l.useMemo)( () => ({
                width: "".concat(u, "px"),
                height: "".concat(u, "px"),
                margin: "".concat(m, "px")
            }), [u, m])
              , k = (0,
            l.useMemo)( () => ({
                width: "".concat(u, "px"),
                height: "".concat(u, "px")
            }), [u])
              , S = (0,
            l.useMemo)( () => ({
                transform: "rotate(180deg)"
            }), [])
              , R = t ? t.length - 1 : 0
              , E = t && t.length > 1
              , P = (0,
            l.useId)()
              , D = function(e) {
                let t = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1]
                  , i = document.getElementById("".concat(P, "-item-").concat(e));
                i && i.scrollIntoView({
                    behavior: t ? "smooth" : "instant",
                    block: "nearest",
                    inline: "start"
                })
            };
            (0,
            l.useEffect)( () => {
                if (!t || 0 === t.length)
                    return;
                let e = Math.max(0, Math.min(g, t.length - 1));
                A ? (w(e),
                v && v(e),
                requestAnimationFrame( () => {
                    x && D(e)
                }
                )) : (w(e),
                I(!0),
                v && v(e),
                requestAnimationFrame( () => {
                    x && D(e, !1)
                }
                ))
            }
            , [g, t, A, v, x]);
            let M = (0,
            l.useCallback)(e => {
                e.stopPropagation();
                let t = 0 === j ? R : j - 1
                  , i = document.getElementById("".concat(P, "-item-").concat(t));
                i && i.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "start"
                }),
                w(t),
                v && v(t),
                c && c(t)
            }
            , [j, R, v, c])
              , L = (0,
            l.useCallback)(e => {
                e.stopPropagation();
                let t = j === R ? 0 : j + 1
                  , i = document.getElementById("".concat(P, "-item-").concat(t));
                i && i.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "start"
                }),
                w(t),
                v && v(t),
                c && c(t)
            }
            , [j, R, v, c]);
            (0,
            l.useEffect)( () => {
                let e = e => {
                    var t, i;
                    b.current && N.current && (null === (t = document.activeElement) || void 0 === t ? void 0 : t.tagName.toUpperCase()) !== "INPUT" && (null === (i = document.activeElement) || void 0 === i ? void 0 : i.tagName.toUpperCase()) !== "TEXTAREA" && ("ArrowLeft" === e.key ? (e.preventDefault(),
                    M(e)) : "ArrowRight" === e.key && (e.preventDefault(),
                    L(e)))
                }
                ;
                return document.addEventListener("keydown", e),
                () => {
                    document.removeEventListener("keydown", e)
                }
            }
            , [M, L]);
            let O = (0,
            l.useCallback)( () => {
                if (!b.current || !t)
                    return;
                let e = b.current
                  , i = e.scrollWidth / t.length
                  , n = Math.round(e.scrollLeft / i);
                n !== j && (w(n),
                v && v(n),
                c && c(n))
            }
            , [j, t, c, v, b]);
            return (0,
            l.useEffect)( () => {
                let e = b.current;
                if (e)
                    return e.addEventListener("scroll", O, {
                        passive: !0
                    }),
                    () => {
                        e.removeEventListener("scroll", O)
                    }
            }
            , [O, b]),
            (0,
            n.jsxs)("div", {
                className: s().container,
                children: [(0,
                n.jsx)("div", {
                    ref: b,
                    className: s().carousel,
                    children: null == t ? void 0 : t.map( (e, t) => (0,
                    n.jsx)("div", {
                        id: "".concat(P, "-item-").concat(t),
                        className: s().carousel_item,
                        children: e
                    }, "carousel-item-".concat(t)))
                }), !p && (0,
                n.jsx)("div", {
                    className: s().dots_container,
                    children: null == t ? void 0 : t.map( (e, t) => (0,
                    n.jsx)("a", {
                        href: "#".concat(P, "-item-").concat(t),
                        className: "".concat(s().dot, " ").concat(j === t ? s().active_dot : ""),
                        onClick: e => {
                            e.preventDefault();
                            let i = document.getElementById("".concat(P, "-item-").concat(t));
                            i && i.scrollIntoView({
                                behavior: "smooth",
                                block: "nearest",
                                inline: "start"
                            }),
                            w(t),
                            v && v(t),
                            c && c(t)
                        }
                    }, "dot-".concat(t)))
                }), (0,
                n.jsxs)("div", {
                    className: o || ("top" === i ? s().controls_top : "bottom" === i ? s().controls_bottom : s().controls_center),
                    children: [E && !f && (0,
                    n.jsx)("button", {
                        className: "dark" === d ? s().control_btn_dark : "white" === d ? s().control_btn_white : "white_outline" === d ? s().control_btn_white_outline : "transparent" === d ? s().control_btn_trnsp : s().control_btn_light,
                        onClick: M,
                        style: T,
                        children: (0,
                        n.jsx)(r.A, {
                            style: S,
                            src: "/buttons/chevron-right.svg",
                            alt: "chevron",
                            width: u ? _ : 24,
                            height: u ? _ : 24
                        })
                    }, "button_left_arrow_prev"), E && !f && (0,
                    n.jsx)("button", {
                        className: "dark" === d ? s().control_btn_dark : "white" === d ? s().control_btn_white : "white_outline" === d ? s().control_btn_white_outline : "transparent" === d ? s().control_btn_trnsp : s().control_btn_light,
                        onClick: L,
                        style: k,
                        children: (0,
                        n.jsx)(r.A, {
                            src: "/buttons/chevron-right.svg",
                            alt: "chevron",
                            width: u ? _ : 24,
                            height: u ? _ : 24
                        })
                    }, "button_right_arrow_next")]
                })]
            })
        }
        );
        d.displayName = "SimpleCarousel";
        let c = d
    }
    ,
    97577: (e, t, i) => {
        "use strict";
        i.d(t, {
            H: () => d,
            _: () => c
        });
        var n = i(74848)
          , l = i(13725)
          , r = i(56244)
          , a = i.n(r)
          , o = i(98935)
          , s = i(18584);
        let d = {
            ACCOMMODATION: "accommodation",
            TRIP: "trip",
            ACTIVITY: "activity"
        }
          , c = e => {
            let {img: t, itemName: i, removed: r=!1, customStyles: c, creator: u, entity: p=d.ACCOMMODATION} = e
              , {tAsString: v} = (0,
            o.Ay)()
              , {isMobile: _} = (0,
            s.U)()
              , m = e => {
                switch (p) {
                case d.ACCOMMODATION:
                    if (e)
                        return v("trip.itinerary.removedFromYourAccommodation");
                    return v("trip.itinerary.addedToYourAccommodation");
                case d.ACTIVITY:
                default:
                    if (e)
                        return v("creator.tripCreator.removedFromYourTrip");
                    return v("creator.tripCreator.addedToYourTrip")
                }
            }
            ;
            return (0,
            n.jsx)("div", {
                className: a().container,
                style: c,
                children: (0,
                n.jsxs)("div", {
                    className: a().wrapper,
                    children: [(0,
                    n.jsx)("div", {
                        className: a().imageContainer,
                        children: (0,
                        n.jsx)(l.A, {
                            src: t || "/dummy-image.jpg",
                            alt: "toast",
                            width: 56,
                            height: 56
                        })
                    }), (0,
                    n.jsx)("p", {
                        className: _ ? void 0 : a().singleRowText,
                        children: r ? r ? "".concat(i, " ").concat(m(!0)) : u ? "".concat(i, " ").concat(v("creator.tripCreator.addedToYourTrip")) : i : "".concat(i, " ").concat(m(!1))
                    })]
                })
            })
        }
    }
    ,
    83819: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => c
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(18584)
          , a = i(69235);
        let o = (e, t, i) => {
            let n = 0
              , l = e.left + e.width / 2
              , r = (null == i ? void 0 : i.extraOffset) || 0;
            switch (t) {
            case "top-center":
            case "top-left":
            case "top-right":
            default:
                n = e.top - 8 - r;
                break;
            case "bottom-center":
            case "bottom-left":
            case "bottom-right":
                n = e.bottom + 8;
                break;
            case "left-center":
                n = e.top + e.height / 2,
                l = e.left - 8;
                break;
            case "right-center":
                n = e.top + e.height / 2,
                l = e.right + 8
            }
            return (null == t ? void 0 : t.includes("left")) && !(null == t ? void 0 : t.includes("center")) ? l = e.left : (null == t ? void 0 : t.includes("right")) && !(null == t ? void 0 : t.includes("center")) && (l = e.right),
            {
                top: n,
                left: l
            }
        }
        ;
        var s = i(96332)
          , d = i.n(s);
        let c = e => {
            let {children: t, tooltip: i, position: s="top-center", className: c="", style: u, classNameTooltip: p="", forceShow: v=!1, showInMobile: _=!1, usePortal: m=!1, extraOffset: h=0, classNameTriangle: g=""} = e
              , [f,x] = (0,
            l.useState)(!1)
              , [y,b] = (0,
            l.useState)({
                top: 0,
                left: 0
            })
              , j = (0,
            l.useRef)(null)
              , {isMobile: w} = (0,
            r.U)()
              , A = !!i && (v || f || _ && w);
            (0,
            l.useEffect)( () => {
                m && A && j.current && b(o(j.current.getBoundingClientRect(), s, {
                    extraOffset: h
                }))
            }
            , [m, A, s, h]);
            let I = (0,
            l.useCallback)( () => x(!0), [])
              , C = (0,
            l.useCallback)( () => x(!1), [])
              , N = (0,
            l.useMemo)( () => (0,
            n.jsxs)("div", {
                style: {
                    position: "fixed",
                    top: y.top,
                    left: y.left,
                    transform: s.includes("center") ? "translateX(-50%)" : void 0,
                    zIndex: 0x3b9ac9ff
                },
                className: "".concat(d().tooltip, " ").concat(p),
                children: [i, (0,
                n.jsx)("div", {
                    className: "".concat(d().triangle, " ").concat(d()["triangle-".concat(s)], " ").concat(g)
                })]
            }), [y, i, s, p, g])
              , T = (0,
            a.A)(N, "tooltip-portal-".concat(s));
            return (0,
            n.jsxs)("div", {
                ref: j,
                className: "".concat(d().tooltipContainer, " ").concat(c),
                onMouseEnter: I,
                onMouseLeave: C,
                style: u,
                children: [t, !m && A && (0,
                n.jsxs)("div", {
                    className: "".concat(d().tooltip, " ").concat(d()[s], " ").concat(p),
                    children: [i, (0,
                    n.jsx)("div", {
                        className: "".concat(d().triangle, " ").concat(d()["triangle-".concat(s)], " ").concat(g)
                    })]
                }), m && A && T]
            })
        }
    }
    ,
    44697: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            HLSVideoPlayer: () => c
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(64945)
          , a = i(29306)
          , o = i(13725)
          , s = i(13816)
          , d = i(98935);
        let c = e => {
            let {id: t, videoUrl: i, className: c, width: u, height: p, styles: v, autoPlay: _=!0, poster: m, preload: h, onClick: g, dependency: f, muted: x=!0, video: y} = e
              , {tAsString: b} = (0,
            d.Ay)()
              , j = (0,
            l.useRef)(null)
              , w = (0,
            l.useRef)(null)
              , {currentPlayingVideo: A} = (0,
            s.T8)()
              , {contextId: I} = (0,
            s.Zn)()
              , C = (0,
            l.useRef)(!1)
              , N = (0,
            l.useId)()
              , T = (0,
            l.useMemo)( () => I || t || N, [t, I, N])
              , k = !!i && _ && (null == A ? void 0 : A.videoId) === T
              , S = (0,
            l.useRef)(k)
              , R = e => !!e && e.endsWith(".m3u8");
            (0,
            l.useEffect)( () => {
                S.current = k
            }
            , [k]),
            (0,
            l.useEffect)( () => {
                C.current = !1
            }
            , [f, k]),
            (0,
            l.useEffect)( () => {
                if (!k) {
                    let e = j.current;
                    e && (e.pause(),
                    e.src = "",
                    e.load());
                    return
                }
                if (C.current)
                    return;
                let e = j.current;
                if (e) {
                    if (R(i)) {
                        if (r.Ay.isSupported() && R(i)) {
                            w.current && (w.current.destroy(),
                            w.current = null);
                            let t = new r.Ay({
                                startLevel: -1
                            });
                            w.current = t;
                            try {
                                t.attachMedia(e),
                                t.on(r.Ay.Events.MEDIA_ATTACHED, () => {
                                    t.loadSource(i)
                                }
                                )
                            } catch (e) {
                                (null == e ? void 0 : e.name) !== "AbortError" && console.error("Error attaching HLS media:", e)
                            }
                        } else
                            e.canPlayType("application/vnd.apple.mpegurl") && (e.src = i,
                            e.load())
                    } else
                        e.src = i,
                        e.load();
                    return () => {
                        w.current && (w.current.destroy(),
                        w.current = null)
                    }
                }
            }
            , [k, i, f]),
            (0,
            l.useEffect)( () => {
                let e = j.current;
                if (!e)
                    return;
                let t = () => {
                    C.current = !0,
                    E(e, S.current)
                }
                ;
                return e.addEventListener("loadeddata", t),
                e.addEventListener("progress", t, {
                    once: !0
                }),
                () => {
                    e.removeEventListener("loadeddata", t),
                    e.removeEventListener("progress", t)
                }
            }
            , []);
            let E = (e, t) => {
                t && document.body.contains(e) ? (0,
                a.sQ)(e) || e.play().catch(e => {
                    console.warn("Could not play the video automatically:", e)
                }
                ) : (0,
                a.sQ)(e) || e.pause()
            }
            ;
            return (0,
            l.useEffect)( () => {
                if (!C.current)
                    return;
                let e = j.current;
                e && E(e, k)
            }
            , [k, f]),
            (0,
            n.jsxs)("div", {
                className: c,
                style: {
                    ...v,
                    width: u,
                    height: p,
                    position: "relative",
                    display: "flex"
                },
                onClick: g,
                children: [(0,
                n.jsx)("video", {
                    id: T,
                    ref: j,
                    loop: !0,
                    muted: x,
                    playsInline: !0,
                    controls: !1,
                    style: {
                        position: "absolute",
                        top: 0,
                        left: 0,
                        width: "100%",
                        height: "100%",
                        zIndex: 2,
                        background: "transparent",
                        objectFit: (null == v ? void 0 : v.objectFit) || "cover"
                    },
                    preload: h
                }, T), m && (0,
                n.jsx)(o.A, {
                    width: u || 0,
                    height: p || 0,
                    style: {
                        position: "absolute",
                        top: 0,
                        left: 0,
                        width: "100%",
                        height: "100%",
                        zIndex: 1,
                        background: "transparent",
                        objectFit: (null == v ? void 0 : v.objectFit) || "cover"
                    },
                    src: m || "",
                    alt: ( () => {
                        var e;
                        return (null == y ? void 0 : null === (e = y.seo) || void 0 === e ? void 0 : e.title) ? y.seo.title : (null == y ? void 0 : y.caption) ? y.caption : b("common.videoPosterAlt")
                    }
                    )()
                }, "poster-".concat(T))]
            })
        }
    }
    ,
    70921: (e, t, i) => {
        "use strict";
        i.d(t, {
            W: () => o
        });
        var n = i(74848)
          , l = i(13816)
          , r = i(96540)
          , a = i(44697);
        let o = e => {
            let {id: t, videoUrl: i, className: o, width: s, height: d, styles: c, autoPlay: u=!0, poster: p, preload: v, onClick: _, dependency: m, hoverClassName: h, video: g} = e
              , {currentPlayingVideo: f, requestVideoPlay: x, requestVideoPause: y} = (0,
            l.T8)()
              , b = (0,
            r.useId)()
              , j = (0,
            r.useMemo)( () => t || b, [t, b])
              , w = (0,
            r.useMemo)( () => (null == f ? void 0 : f.videoId) === j, [null == f ? void 0 : f.videoId, j]);
            return (0,
            n.jsx)("div", {
                style: {
                    display: "contents"
                },
                onMouseEnter: () => x(j),
                onMouseLeave: () => y(j),
                children: (0,
                n.jsx)(a.HLSVideoPlayer, {
                    id: j,
                    videoUrl: i,
                    className: w && h || o,
                    width: s,
                    height: d,
                    styles: c,
                    autoPlay: u,
                    poster: p,
                    preload: v,
                    onClick: _,
                    dependency: m,
                    video: g
                }, "hover-video-".concat(j))
            })
        }
    }
    ,
    80450: (e, t, i) => {
        "use strict";
        i.r(t),
        i.d(t, {
            default: () => ec
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(14953)
          , a = i.n(r)
          , o = i(13725)
          , s = i(58001)
          , d = i(6025)
          , c = i.n(d)
          , u = i(47950)
          , p = i(45552)
          , v = i(1935)
          , _ = i(18113)
          , m = i.n(_)
          , h = i(67154)
          , g = i(97025)
          , f = i(36909)
          , x = i(64669);
        let y = e => {
            let {handleClickMarker: t, currentSelectedLeg: i, allLegs: l} = e
              , {getPositionsForMap: r} = (0,
            h.y)() || {}
              , a = (null == r ? void 0 : r(l)) || []
              , o = (0,
            g.mN)(l)
              , s = (0,
            x.q)(a)
              , d = new Map;
            l.forEach( (e, t) => {
                if (e.location) {
                    let i = d.get(e.location) || [];
                    i.push(t),
                    d.set(e.location, i)
                }
            }
            );
            let c = s.filter(e => "place" !== e.subType).map(e => (0,
            n.jsx)(v.pH, {
                longitude: e.longitude,
                latitude: e.latitude,
                style: {
                    zIndex: 3
                },
                children: (0,
                n.jsx)("div", {
                    className: "".concat(m().sub_marker),
                    style: {
                        position: "relative",
                        transform: "translate(-50%, -50%)",
                        zIndex: 100,
                        left: "50%",
                        right: "50%",
                        top: "5px"
                    }
                })
            }, "".concat(e.latitude, ",").concat(e.longitude).concat(e.location)))
              , u = s.filter(e => "place" === e.subType).map(e => {
                let r;
                let a = (null == i ? void 0 : i.location) === (null == e ? void 0 : e.location)
                  , s = o && e.location === l[0].location
                  , c = d.get(e.location || "") || []
                  , u = l.findIndex(e => e === i);
                if (a && c.includes(u))
                    r = o ? u : u + 1;
                else {
                    let e = c[0] || 0;
                    r = o ? e : e + 1
                }
                return (0,
                n.jsx)(v.pH, {
                    longitude: e.longitude,
                    latitude: e.latitude,
                    style: {
                        zIndex: 4
                    },
                    children: (0,
                    n.jsx)("div", {
                        className: "".concat(m().main_marker, " ").concat(a ? m().main_marker_active : ""),
                        style: {
                            position: "relative",
                            top: "10px",
                            left: "50%",
                            right: "50%",
                            transform: "translate(-50%, -50%)",
                            zIndex: a ? 110 : 105,
                            cursor: s ? "default" : "pointer"
                        },
                        onClick: () => {
                            s || t(e.location, {
                                lat: e.latitude,
                                lng: e.longitude
                            })
                        }
                        ,
                        children: s ? (0,
                        n.jsx)(f.A, {
                            fillColor: "#000",
                            width: 16,
                            height: 16
                        }) : (0,
                        n.jsx)("span", {
                            style: {
                                fontSize: "16px",
                                fontWeight: "500"
                            },
                            children: r
                        })
                    })
                }, "".concat(e.latitude, ",").concat(e.longitude).concat(e.location))
            }
            );
            return (0,
            n.jsxs)(n.Fragment, {
                children: [c, u]
            })
        }
        ;
        var b = i(95753)
          , j = i(88058)
          , w = i(22802)
          , A = i(77756)
          , I = i(92612);
        let C = e => {
            var t, i, r, a;
            let {legs: s, currentZoom: d, visible: c=!0} = e
              , {colors: u} = (0,
            b.o)()
              , {getPositionsForMap: p, setLegTransportState: _} = (0,
            h.y)() || {}
              , {updateTripNavState: m} = (0,
            I.Pd)()
              , f = (0,
            l.useMemo)( () => (null == p ? void 0 : p(s)) || [], [s, p])
              , x = null == s ? void 0 : s[1]
              , y = null == x ? void 0 : null === (a = x.routing) || void 0 === a ? void 0 : null === (r = a.options) || void 0 === r ? void 0 : null === (i = r[0]) || void 0 === i ? void 0 : null === (t = i.option) || void 0 === t ? void 0 : t[0]
              , C = (0,
            g.mN)(s) ? y : null
              , [N,T] = (0,
            l.useState)({})
              , [k,S] = (0,
            l.useState)(!1)
              , R = (0,
            l.useRef)(!1)
              , E = function(e) {
                let[t,i] = (0,
                l.useState)(!1)
                  , {current: n} = (0,
                v.ko)()
                  , r = e => {
                    if (!n || !e)
                        return !1;
                    let {lat: t, lng: i} = e;
                    if ("number" != typeof t || "number" != typeof i)
                        return !1;
                    let l = n.getBounds();
                    return !!l && l.contains({
                        lat: e.lat,
                        lng: e.lng
                    })
                }
                ;
                return (0,
                l.useEffect)( () => {
                    if (!n || !e)
                        return;
                    let t = () => {
                        i(r(e))
                    }
                    ;
                    return n.on("idle", t),
                    t(),
                    () => {
                        n.off("idle", t)
                    }
                }
                , [n, e]),
                t
            }(C ? {
                lat: null == C ? void 0 : C.latitude,
                lng: null == C ? void 0 : C.longitude
            } : null) || d <= 5;
            return ((0,
            l.useEffect)( () => {
                R.current = !1,
                T({}),
                S(!1)
            }
            , [s]),
            (0,
            l.useEffect)( () => {
                let e = async () => {
                    R.current || (S(!0),
                    T(await (0,
                    j.BF)(f, "route")),
                    S(!1),
                    R.current = !0)
                }
                ;
                f.length > 0 && !R.current && e()
            }
            , [f]),
            f.some(e => {
                var t;
                let {options: i} = e;
                return (null !== (t = null == i ? void 0 : i.option) && void 0 !== t ? t : []).some(e => {
                    var t;
                    return null === (t = e.details) || void 0 === t ? void 0 : t.geoJsonUrl
                }
                )
            }
            ) && k) ? null : (0,
            n.jsx)("div", {
                style: {
                    opacity: c ? 1 : 0,
                    pointerEvents: c ? "auto" : "none",
                    visibility: c ? "visible" : "hidden"
                },
                children: f.map( (e, t) => {
                    var i, l, r;
                    let {options: a, leg: d} = e
                      , c = null !== (l = null == a ? void 0 : a.option) && void 0 !== l ? l : []
                      , p = (0,
                    A.bS)(c)
                      , {firstPoint: h, lastPoint: g, transportType: f} = p;
                    if (!h || !g)
                        return null;
                    let {isPointOfOrigin: x} = (0,
                    A.Wi)(d, s)
                      , y = "route-".concat(t, "-").concat(null == f ? void 0 : null === (i = f.details) || void 0 === i ? void 0 : i.geoJsonUrl)
                      , {midPoint: b, geoJsonLineSegments: j, routeCoordinates: I} = (0,
                    A.A2)(p, N, y)
                      , C = (null == f ? void 0 : f.subType) === "flight" || (null == f ? void 0 : f.subType) === "airport"
                      , T = 0;
                    C && (null == h ? void 0 : h.latitude) && (null == h ? void 0 : h.longitude) && (null == g ? void 0 : g.latitude) && (null == g ? void 0 : g.longitude) && (T = (0,
                    A.vA)(h.latitude, h.longitude, g.latitude, g.longitude) - 45);
                    let k = (0,
                    w.u$)(null == f ? void 0 : f.subType, u.primary, !0)
                      , S = {
                        "line-join": "round",
                        "line-cap": "round"
                    }
                      , R = {
                        "line-color": x ? E ? k : "transparent" : k,
                        "line-width": 3,
                        "line-opacity": 1,
                        ...x ? {
                            "line-dasharray": [2, 2]
                        } : {}
                    };
                    return (0,
                    n.jsxs)("div", {
                        children: [f && (0,
                        n.jsx)(v.pH, {
                            longitude: b.lng,
                            latitude: b.lat,
                            children: (0,
                            n.jsx)("div", {
                                style: {
                                    position: "relative",
                                    ...x ? {
                                        top: "10px",
                                        bottom: "auto"
                                    } : {
                                        left: "50%",
                                        right: "50%",
                                        top: "10px"
                                    },
                                    padding: "5px",
                                    backgroundColor: "white",
                                    borderRadius: "8px",
                                    display: "flex",
                                    justifyContent: "center",
                                    alignItems: "center",
                                    boxShadow: "rgb(0 0 0 / 51%) 0px 5px 15px",
                                    opacity: x && !E ? 0 : 1,
                                    cursor: x && !E ? "grab" : "pointer",
                                    transform: "translate(-50%, -50%)"
                                },
                                onClick: () => {
                                    if (x && !E)
                                        return;
                                    let e = s.findIndex(e => e === d)
                                      , t = e > 0 ? s[e - 1] : null;
                                    if (t && -1 !== e) {
                                        var i, n, l, r, a, o;
                                        let s = (null === (n = t.location) || void 0 === n ? void 0 : null === (i = n.split(", ")) || void 0 === i ? void 0 : i[0]) || (null === (l = t.destination) || void 0 === l ? void 0 : l.city) || ""
                                          , c = (null === (a = d.location) || void 0 === a ? void 0 : null === (r = a.split(", ")) || void 0 === r ? void 0 : r[0]) || (null === (o = d.destination) || void 0 === o ? void 0 : o.city) || "";
                                        _(i => ({
                                            ...i,
                                            from: t,
                                            to: d,
                                            legIndex: e
                                        })),
                                        m({
                                            entity: "route-options",
                                            fromCity: s,
                                            toCity: c
                                        })
                                    }
                                }
                                ,
                                children: (0,
                                n.jsx)(o.A, {
                                    src: "/TripBooking/transportOptionsIcons/".concat((null == f ? void 0 : f.subType) === "airport" ? "flight" : null == f ? void 0 : f.subType, ".svg"),
                                    width: 17,
                                    height: 17,
                                    alt: null !== (r = null == f ? void 0 : f.subType) && void 0 !== r ? r : "",
                                    style: C ? {
                                        transform: "rotate(".concat(T, "deg)")
                                    } : {}
                                })
                            })
                        }, "transport-".concat(t)), j ? j.map( (e, i) => (0,
                        n.jsx)(v.kL, {
                            id: "route-segment-".concat(t, "-").concat(i),
                            type: "geojson",
                            data: {
                                type: "Feature",
                                properties: {},
                                geometry: {
                                    type: "LineString",
                                    coordinates: e
                                }
                            },
                            children: (0,
                            n.jsx)(v.Wd, {
                                id: "route-line-segment-".concat(t, "-").concat(i),
                                type: "line",
                                layout: S,
                                paint: R
                            })
                        }, "route-segment-".concat(t, "-").concat(i))) : (0,
                        n.jsx)(v.kL, {
                            id: "route-".concat(t),
                            type: "geojson",
                            data: {
                                type: "Feature",
                                properties: {},
                                geometry: {
                                    type: "LineString",
                                    coordinates: I
                                }
                            },
                            children: (0,
                            n.jsx)(v.Wd, {
                                id: "route-line-".concat(t),
                                type: "line",
                                layout: S,
                                paint: R
                            })
                        })]
                    }, t)
                }
                )
            })
        }
        ;
        var N = i(18584)
          , T = i(29965)
          , k = i.n(T)
          , S = i(13454)
          , R = i.n(S)
          , E = i(38663)
          , P = i.n(E)
          , D = i(60842)
          , M = i.n(D)
          , L = i(65848)
          , O = i(45138)
          , F = i(88023)
          , B = i(65018)
          , H = i(98935)
          , U = i(53905);
        let z = e => {
            let {activity: t, visible: i=!0, currentSelectedLeg: r, isHovered: a=!1} = e
              , o = (0,
            l.useRef)(null)
              , [s,d] = (0,
            l.useState)(!1)
              , [c,u] = (0,
            l.useState)((0,
            g.jK)(t) || null)
              , {tAsString: _} = (0,
            H.Ay)()
              , m = (0,
            F.A)()
              , {formattedPrice: f} = (0,
            B.A)(t.priceInEurosPerPerson, "EUR")
              , {updateTripNavState: x} = (0,
            I.Pd)()
              , {setAlternateActivitiesState: y, canEditAttractions: b} = (0,
            h.y)()
              , j = t.type === p.Mr.ATTRACTION && b
              , w = (0,
            l.useCallback)( () => {
                m({
                    event: "TripMapActivityClick",
                    data: {
                        source: "trip_map_popup"
                    }
                }),
                y(e => ({
                    ...e,
                    activityDetail: t
                })),
                x({
                    entity: j ? U.q.ATTRACTION : U.q.ACTIVITY,
                    ...j ? {
                        attractionId: t.id.toString()
                    } : {
                        activityId: t.id.toString()
                    },
                    leg: r
                })
            }
            , [m, y, x, j, t, r])
              , A = (0,
            l.useCallback)( () => {
                let e = (0,
                L.qV)((0,
                n.jsx)(O.A, {
                    activity: t,
                    tAsString: _,
                    formattedPrice: f || "",
                    validImageSrc: c
                }));
                return new (M()).Popup({
                    className: "activity-marker-popup",
                    closeButton: !1,
                    maxWidth: "none"
                }).setHTML(e)
            }
            , [t, _, f, c]);
            (0,
            l.useEffect)( () => {
                if (!s)
                    return;
                let e = o.current
                  , i = null == e ? void 0 : e.getPopup();
                if (i) {
                    let e = () => {
                        let e = document.querySelector('[data-img-activity-id="'.concat(t.id, '"]'))
                          , i = null == e ? void 0 : e.src;
                        d(!1),
                        i && u(i)
                    }
                    ;
                    return i.on("close", e),
                    () => {
                        i.off("close", e)
                    }
                }
            }
            , [s, t.id]);
            let C = (0,
            l.useCallback)( () => {
                let e = o.current;
                if (!e)
                    return;
                let i = e.getPopup();
                if (i && i.isOpen()) {
                    i.remove(),
                    d(!1);
                    return
                }
                e.togglePopup(),
                d(!0),
                setTimeout( () => {
                    let e = document.querySelector('[data-img-activity-id="'.concat(t.id, '"]'));
                    if (e) {
                        let i = function() {
                            let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                              , l = (0,
                            g.eg)(t);
                            if (n < l.length - 1) {
                                let t = n + 1;
                                e.src = l[t],
                                e.onerror = () => i(t)
                            } else
                                e.src = "/ItineraryPage/nature-scene.webp",
                                e.onerror = null
                        };
                        e.complete && 0 === e.naturalWidth ? i() : e.onerror = () => i()
                    }
                    let n = document.querySelector(".activity-marker-popup .".concat(P().hotel_panel_close_button));
                    n && n.addEventListener("click", () => {
                        null == i || i.remove(),
                        d(!1)
                    }
                    );
                    let l = document.querySelector('[data-btn-activity-id="'.concat(t.id, '"]'));
                    l && l.addEventListener("click", w)
                }
                , 100)
            }
            , [w, t]);
            return (0,
            n.jsx)(v.pH, {
                ref: o,
                longitude: t.location.lng,
                latitude: t.location.lat,
                style: {
                    zIndex: a ? 1e3 : 2
                },
                className: R().mapboxgl_marker,
                anchor: "center",
                onClick: C,
                popup: A(),
                children: (0,
                n.jsxs)("div", {
                    className: "".concat(R().activity_marker, " ").concat(a ? R().hover : ""),
                    style: {
                        opacity: i ? 1 : 0,
                        pointerEvents: i ? "auto" : "none",
                        visibility: i ? "visible" : "hidden"
                    },
                    children: [(0,
                    n.jsx)("div", {
                        className: R().activity_icon,
                        children: (0,
                        n.jsx)(k(), {
                            src: "/TripBooking/markers/attraction-marker.svg",
                            alt: "Attraction",
                            width: "18",
                            height: "18"
                        })
                    }), !s && (0,
                    n.jsx)("div", {
                        className: R().marker_label,
                        children: t.name
                    })]
                })
            })
        }
        ;
        var q = i(39327)
          , V = i(62790);
        let W = e => {
            let {hotel: t, visible: i=!0, currentSelectedLeg: r, isHovered: a=!1} = e
              , o = (0,
            l.useRef)(null)
              , [s,d] = (0,
            l.useState)(!1)
              , [c,u] = (0,
            l.useState)(t.photos[0])
              , {tAsString: p} = (0,
            H.Ay)()
              , _ = (0,
            F.A)()
              , {currentHotelPricePerNight: m} = (0,
            V.v)(r, t)
              , {updateTripNavState: h} = (0,
            I.Pd)()
              , g = (0,
            l.useCallback)( () => {
                _({
                    event: "TripMapHotelClick",
                    data: {
                        source: "trip_map_popup"
                    }
                }),
                h({
                    entity: "hotel",
                    hotelId: t.id.toString(),
                    leg: r
                })
            }
            , [_, h, t, r])
              , f = (0,
            l.useCallback)( () => {
                let e = (0,
                L.qV)((0,
                n.jsx)(q.A, {
                    hotel: t,
                    tAsString: p,
                    formattedPrice: m || "",
                    validImageSrc: c
                }));
                return new (M()).Popup({
                    className: "hotel-marker-popup",
                    closeButton: !1
                }).setHTML(e)
            }
            , [t, p, m, c]);
            (0,
            l.useEffect)( () => {
                if (!s)
                    return;
                let e = o.current
                  , i = null == e ? void 0 : e.getPopup();
                if (i) {
                    let e = () => {
                        let e = document.querySelector('[data-img-hotel-id="'.concat(t.id, '"]'))
                          , i = null == e ? void 0 : e.src;
                        d(!1),
                        i && u(i)
                    }
                    ;
                    return i.on("close", e),
                    () => {
                        i.off("close", e)
                    }
                }
            }
            , [s, t.id]);
            let x = (0,
            l.useCallback)( () => {
                let e = o.current;
                if (!e)
                    return;
                let i = e.getPopup();
                if (i && i.isOpen()) {
                    i.remove(),
                    d(!1);
                    return
                }
                e.togglePopup(),
                d(!0),
                setTimeout( () => {
                    let e = document.querySelector('[data-img-hotel-id="'.concat(t.id, '"]'));
                    if (e) {
                        let i = function() {
                            let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                              , l = t.photos || [];
                            if (n < l.length - 1) {
                                let t = n + 1;
                                e.src = l[t],
                                e.onerror = () => i(t)
                            } else
                                e.src = "/ItineraryPage/nature-scene.webp",
                                e.onerror = null
                        };
                        e.complete && 0 === e.naturalWidth ? i() : e.onerror = () => i()
                    }
                    let n = document.querySelector(".hotel-marker-popup .".concat(P().hotel_panel_close_button));
                    n && n.addEventListener("click", () => {
                        null == i || i.remove(),
                        d(!1)
                    }
                    );
                    let l = document.querySelector('[data-btn-hotel-id="'.concat(t.id, '"]'));
                    l && l.addEventListener("click", g)
                }
                , 100)
            }
            , [g, t]);
            return (0,
            n.jsx)(v.pH, {
                ref: o,
                longitude: t.lng,
                latitude: t.lat,
                style: {
                    zIndex: a ? 1e3 : 3
                },
                className: R().mapboxgl_marker,
                anchor: "center",
                onClick: x,
                popup: f(),
                children: (0,
                n.jsxs)("div", {
                    className: "".concat(R().hotel_marker, " ").concat(a ? R().hover : ""),
                    style: {
                        opacity: i ? 1 : 0,
                        pointerEvents: i ? "auto" : "none",
                        visibility: i ? "visible" : "hidden"
                    },
                    children: [(0,
                    n.jsx)("div", {
                        className: R().hotel_icon,
                        children: (0,
                        n.jsx)(k(), {
                            src: "/TripBooking/markers/hotel-marker.svg",
                            alt: "Hotel",
                            width: "18",
                            height: "18"
                        })
                    }), !s && (0,
                    n.jsx)("div", {
                        className: R().marker_label,
                        children: t.name
                    })]
                })
            })
        }
        ;
        var G = i(257)
          , Y = i.n(G)
          , X = i(82872);
        let J = e => {
            let {mapRef: t, recommendation: i, visible: r=!0, isHovered: a=!1} = e
              , o = (0,
            l.useRef)(null)
              , [s,d] = (0,
            l.useState)(!1)
              , [c,u] = (0,
            l.useState)(0);
            (0,
            l.useRef)(0).current = c,
            (0,
            l.useEffect)( () => {
                let e = e => {
                    let {id: t, lat: n, lng: l} = e.detail;
                    if (t === i.id && i.latitude === n && i.longitude === l) {
                        let e = o.current;
                        if (e)
                            try {
                                let t = e._map;
                                t && t.flyTo({
                                    center: [l, n],
                                    zoom: 15,
                                    duration: 1e3
                                })
                            } catch (e) {
                                console.error("Error zooming to marker:", e)
                            }
                    }
                }
                ;
                return window.addEventListener("zoomToRecommendation", e),
                () => {
                    window.removeEventListener("zoomToRecommendation", e)
                }
            }
            , [i.id, i.latitude, i.longitude]);
            let p = [...[...(i.imageUrls || []).map(e => ({
                url: e,
                type: "image"
            }))].filter(e => e.url && "" !== e.url.trim()), ...[...(i.videoUrls || []).map(e => ({
                url: e,
                type: "video"
            }))].filter(e => e.url && "" !== e.url.trim())]
              , _ = p.length
              , m = (0,
            l.useRef)(null)
              , h = (0,
            l.useCallback)(async e => {
                var l;
                let r = null === (l = t.current) || void 0 === l ? void 0 : l.getMap();
                if (!r)
                    return;
                m.current && m.current.remove(),
                u(e);
                let a = () => {
                    m.current && (m.current.remove(),
                    m.current = null),
                    d(!1)
                }
                  , o = () => {
                    h((e - 1 + _) % _)
                }
                  , s = () => {
                    h((e + 1) % _)
                }
                  , c = p[e] || {
                    url: "/ItineraryPage/nature-scene.webp",
                    type: "image"
                }
                  , v = (0,
                L.qV)((0,
                n.jsx)("div", {
                    className: Y().video_panel,
                    children: (0,
                    n.jsxs)("div", {
                        className: Y().video_container,
                        children: ["video" === c.type ? (0,
                        n.jsx)("video", {
                            src: c.url,
                            className: Y().video_player,
                            autoPlay: !0,
                            muted: !0,
                            loop: !0,
                            playsInline: !0
                        }) : (0,
                        n.jsx)(k(), {
                            src: c.url,
                            alt: i.title,
                            className: Y().video_player,
                            width: 300,
                            height: 200,
                            style: {
                                objectFit: "cover"
                            }
                        }), (0,
                        n.jsx)("button", {
                            className: Y().video_panel_close_button,
                            children: (0,
                            n.jsx)(k(), {
                                src: "/buttons/cross.svg",
                                alt: "close",
                                width: 12,
                                height: 12
                            })
                        }), _ > 1 && (0,
                        n.jsxs)("div", {
                            className: Y().video_counter,
                            children: [e + 1, " / ", _]
                        }), _ > 1 && (0,
                        n.jsxs)(n.Fragment, {
                            children: [(0,
                            n.jsx)("button", {
                                className: Y().nav_button_left,
                                children: (0,
                                n.jsx)(k(), {
                                    src: "/chevron_left.svg",
                                    alt: "previous",
                                    width: 16,
                                    height: 16
                                })
                            }), (0,
                            n.jsx)("button", {
                                className: Y().nav_button_right,
                                children: (0,
                                n.jsx)(k(), {
                                    src: "/chevron_right.svg",
                                    alt: "next",
                                    width: 16,
                                    height: 16
                                })
                            })]
                        })]
                    })
                }))
                  , g = new (await (0,
                X.XV)())({
                    className: "video-marker-popup",
                    closeButton: !1,
                    offset: [0, -10]
                }).setLngLat([i.longitude, i.latitude]).setHTML(v).addTo(r)
                  , f = g.getElement();
                if (f) {
                    f.style.zIndex = "10000";
                    let e = f.querySelector(".mapboxgl-popup-content");
                    e && (e.style.padding = "0",
                    e.style.borderRadius = "8px",
                    e.style.overflow = "visible")
                }
                m.current = g,
                d(!0),
                g.on("close", () => {
                    m.current = null,
                    d(!1)
                }
                ),
                setTimeout( () => {
                    let e = g.getElement();
                    if (!e)
                        return;
                    let t = e.querySelector('button[class*="close_button"]');
                    t && t.addEventListener("click", a);
                    let i = e.querySelector('button[class*="nav_button_left"]');
                    i && i.addEventListener("click", o);
                    let n = e.querySelector('button[class*="nav_button_right"]');
                    n && n.addEventListener("click", s)
                }
                , 100)
            }
            , [t, p, i.title, i.longitude, i.latitude, _])
              , g = (0,
            l.useCallback)( () => {
                if (m.current && m.current.isOpen()) {
                    m.current.remove(),
                    m.current = null,
                    d(!1);
                    return
                }
                m.current && !m.current.isOpen() && (m.current = null,
                d(!1)),
                h(c)
            }
            , [h, c]);
            return i.latitude && i.longitude ? (0,
            n.jsx)(v.pH, {
                ref: o,
                longitude: i.longitude,
                latitude: i.latitude,
                style: {
                    zIndex: a ? 1e3 : 3
                },
                className: R().mapboxgl_marker,
                anchor: "center",
                onClick: e => {
                    e.originalEvent.stopPropagation(),
                    g()
                }
                ,
                children: (0,
                n.jsxs)("div", {
                    className: "".concat(R().recommendation_marker, " ").concat(a ? R().hover : ""),
                    style: {
                        opacity: r ? 1 : 0,
                        pointerEvents: r ? "auto" : "none",
                        visibility: r ? "visible" : "hidden"
                    },
                    children: [(0,
                    n.jsx)("div", {
                        className: R().recommendation_icon,
                        children: "\uD83D\uDCCD"
                    }), !s && (0,
                    n.jsx)("div", {
                        className: R().marker_label,
                        children: i.title
                    }), _ > 1 && (0,
                    n.jsx)("div", {
                        style: {
                            position: "absolute",
                            top: "-5px",
                            right: "-5px",
                            backgroundColor: "rgb(255, 75, 125)",
                            color: "white",
                            borderRadius: "12px",
                            fontSize: "10px",
                            fontWeight: "bold",
                            padding: "2px 6px",
                            minWidth: "16px",
                            textAlign: "center",
                            lineHeight: "12px",
                            border: "2px solid white",
                            boxShadow: "rgba(0, 0, 0, 0.3) 0px 1px 3px"
                        },
                        children: _
                    })]
                })
            }) : null
        }
        ;
        var Z = i(49502);
        let K = e => {
            let {mapRef: t, currentZoom: i, trimmedLegs: r, initialZoom: a, onCapturedZoomChange: o, currentSelectedLeg: s, hoveredActivityId: d, hoveredHotelId: c, recommendations: u=[], onRecommendationClick: v, trip: _} = e
              , {selectedHotels: m, tripActivities: f} = (0,
            h.y)()
              , {isMobile: x} = (0,
            N.U)()
              , [y,b] = (0,
            l.useState)(null)
              , j = (0,
            l.useRef)(!1)
              , w = (0,
            l.useRef)(null);
            (0,
            l.useEffect)( () => (w.current && clearTimeout(w.current),
            w.current = setTimeout( () => {
                j.current || null !== y || (b(i),
                j.current = !0,
                null == o || o(i))
            }
            , 2500),
            () => {
                w.current && clearTimeout(w.current)
            }
            ), [i, a, y, o]);
            let A = null != y ? y : a
              , I = 1 === r.length
              , C = (0,
            l.useMemo)( () => !!I || i > 15 || i >= 8 || (x ? i >= 1.5 * A : null === y ? i > 1.6 * a : i > 1.6 * A), [i, A, y, x, I])
              , T = (0,
            l.useMemo)( () => !!I || i > 15 || i >= 8 || (x ? i >= 1.5 * A : null === y ? i > 1.6 * a : i > 1.6 * A), [i, A, y, x, I])
              , k = (0,
            l.useMemo)( () => f ? f.flat(2) : [], [f])
              , S = (0,
            l.useMemo)( () => {
                if (!_)
                    return [];
                if ((null == _ ? void 0 : _.version) === p.sG.V2)
                    return r.flatMap(e => {
                        var t, i;
                        return null !== (i = null === (t = e.days) || void 0 === t ? void 0 : t.flatMap(e => e.items)) && void 0 !== i ? i : []
                    }
                    ).filter(e => e.type === p.VY.ATTRACTION || e.type === p.Mr.ATTRACTION).filter( (e, t, i) => {
                        let n = e.id;
                        return t === i.findIndex(e => e.id && n && e.id === n)
                    }
                    ).map(e => {
                        var t, i, n, l;
                        let r = null
                          , a = (0,
                        g.jD)(e);
                        return (a && (r = {
                            lat: a.lat,
                            lng: a.lng,
                            city: (null === (t = e.location) || void 0 === t ? void 0 : t.city) || e.city || "",
                            place: (null === (i = e.location) || void 0 === i ? void 0 : i.place) || e.name || ""
                        }),
                        r) ? {
                            id: String(e.id || e.id || ""),
                            location: r,
                            abstract: e.abstract || e.description || "",
                            description: e.description || e.description || "",
                            images: e.images || (e.imageUrl ? [e.imageUrl] : [""]),
                            name: e.name || e.name || "",
                            photos: [],
                            tags: [],
                            type: "attraction",
                            duration: "half_day",
                            metadata: {
                                price: (null === (n = e.metadata) || void 0 === n ? void 0 : n.price) || 0
                            },
                            priceInEurosPerPerson: e.priceInEurosPerPerson || 0,
                            provider: e.provider || "",
                            reason: "",
                            rating: e.rating || (null === (l = e.viator) || void 0 === l ? void 0 : l.averageRating) || 0,
                            webUrl: e.webUrl || e.url || ""
                        } : null
                    }
                    ).filter(e => null !== e);
                {
                    let e = r.flatMap(e => {
                        var t;
                        return null !== (t = e.attractions) && void 0 !== t ? t : []
                    }
                    );
                    return r.flatMap(e => {
                        var t;
                        return null !== (t = e.itinerary) && void 0 !== t ? t : []
                    }
                    ).map(e => {
                        var t;
                        return null !== (t = null == e ? void 0 : e.description) && void 0 !== t ? t : ""
                    }
                    ).map(t => (0,
                    Z.Zl)(t, e)).flat().filter( (e, t, i) => t === i.findIndex(t => t.id === e.id))
                }
            }
            , [r, _])
              , R = (0,
            l.useMemo)( () => [...k, ...S], [k, S])
              , E = (0,
            l.useMemo)( () => m ? m.map(e => null == e ? void 0 : e.currentHotel).filter(e => e && "number" == typeof e.lat && "number" == typeof e.lng).filter(e => !!e) : [], [m])
              , P = (0,
            l.useMemo)( () => u.filter(e => e.latitude && e.longitude && e.title && "" !== e.title.trim()), [u])
              , D = (0,
            l.useMemo)( () => !!I || i > 15 || i >= 8 || (x ? i >= 1.5 * A : null === y ? i > 1.6 * a : i > 1.6 * A), [i, A, y, x, I]);
            return (0,
            n.jsxs)(n.Fragment, {
                children: [R.map( (e, t) => {
                    var i;
                    return (0,
                    n.jsx)(z, {
                        activity: e,
                        visible: T,
                        currentSelectedLeg: s,
                        isHovered: d === (null === (i = e.id) || void 0 === i ? void 0 : i.toString())
                    }, "activity-".concat(e.id, "-").concat(t))
                }
                ), E.map( (e, t) => {
                    var i;
                    return (0,
                    n.jsx)(W, {
                        hotel: e,
                        visible: C,
                        currentSelectedLeg: s,
                        isHovered: c === (null === (i = e.id) || void 0 === i ? void 0 : i.toString())
                    }, "hotel-".concat(e.id, "-").concat(t))
                }
                ), P.map( (e, i) => (0,
                n.jsx)(J, {
                    mapRef: t,
                    recommendation: e,
                    visible: D,
                    onItemClick: v
                }, "recommendation-".concat(e.id, "-").concat(i)))]
            })
        }
        ;
        var Q = i(8299);
        let $ = (e, t, i) => {
            let n = t(i).flatMap(e => {
                var t;
                let {options: i} = e;
                return null !== (t = null == i ? void 0 : i.option) && void 0 !== t ? t : []
            }
            ).find(t => (null == t ? void 0 : t.subType) === "place" && (null == t ? void 0 : t.location) === e.location && "number" == typeof (null == t ? void 0 : t.latitude) && "number" == typeof (null == t ? void 0 : t.longitude));
            return n && "number" == typeof n.latitude && "number" == typeof n.longitude ? {
                latitude: n.latitude,
                longitude: n.longitude
            } : null
        }
          , ee = (e, t, i, n, l, r) => {
            let a = [];
            if (t && t[l]) {
                var o;
                let e = null === (o = t[l]) || void 0 === o ? void 0 : o.currentHotel;
                e && "number" == typeof e.lat && "number" == typeof e.lng && a.push({
                    lat: e.lat,
                    lng: e.lng
                })
            }
            if (i && i[l] && i[l].flat().forEach(e => {
                e && e.location && "number" == typeof e.location.lat && "number" == typeof e.location.lng && a.push({
                    lat: e.location.lat,
                    lng: e.location.lng
                })
            }
            ),
            (null == r ? void 0 : r.version) === p.sG.V2)
                e.days && e.days.flatMap(e => e.items).filter(e => e.type === p.VY.ATTRACTION || e.type === p.Mr.ATTRACTION).filter( (e, t, i) => {
                    let n = e.id;
                    return t === i.findIndex(e => e.id && n && e.id === n)
                }
                ).forEach(e => {
                    let t = (0,
                    g.jD)(e);
                    t && a.push(t)
                }
                );
            else if (e.itinerary) {
                let t = n.flatMap(e => {
                    var t;
                    return null !== (t = e.attractions) && void 0 !== t ? t : []
                }
                );
                e.itinerary.map(e => {
                    var t;
                    return null !== (t = null == e ? void 0 : e.description) && void 0 !== t ? t : ""
                }
                ).map(e => (0,
                Z.Zl)(e, t)).flat().filter( (e, t, i) => t === i.findIndex(t => t.id === e.id)).forEach(e => {
                    e && e.location && a.push({
                        lat: e.location.lat,
                        lng: e.location.lng
                    })
                }
                )
            }
            return a
        }
          , et = e => {
            let {mapRef: t, trip: i, activeTab: r, setActiveTab: a, trimmedLegs: o, allLegs: s, currentZoom: d, initialZoom: c, hoveredActivityId: u, hoveredHotelId: p, recommendations: v=[], onRecommendationClick: _, onCenterPlace: m} = e
              , g = t.current
              , {getPositionsForMap: f, selectedHotels: x, tripActivities: b} = (0,
            h.y)()
              , {isMobile: j} = (0,
            N.U)()
              , w = (0,
            l.useRef)(!1)
              , A = (0,
            l.useRef)(!1)
              , I = (0,
            Q.A)(r)
              , T = (0,
            l.useCallback)(function(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e3;
                if (!g)
                    return;
                let n = o[e];
                if (!n)
                    return;
                let l = $(n, f, s);
                if (l)
                    g.flyTo({
                        center: [l.longitude, l.latitude],
                        zoom: 12,
                        duration: t
                    });
                else {
                    let l = ee(n, x, b, o, e, i);
                    l.length > 0 && (async () => {
                        let e = await (0,
                        X.YF)();
                        l.forEach(t => {
                            e.extend([t.lng, t.lat])
                        }
                        ),
                        g.getMap().fitBounds(e, {
                            padding: 30,
                            duration: t,
                            maxZoom: 14,
                            linear: !1
                        })
                    }
                    )()
                }
            }, [g, o, x, b, f, s])
              , [k,S] = (0,
            l.useState)(null)
              , R = o[r];
            (0,
            l.useEffect)( () => {
                if (!w.current) {
                    w.current = !0;
                    return
                }
                if (A.current) {
                    setTimeout( () => {
                        A.current = !1
                    }
                    , 3e3);
                    return
                }
                g && R && I !== r && T(r, 1200)
            }
            , [r, I, T, g, R]);
            let E = null != k ? k : c;
            return (0,
            l.useEffect)( () => {
                m && m(e => T(e))
            }
            , [m, T]),
            (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)(K, {
                    mapRef: t,
                    currentZoom: d,
                    trimmedLegs: o,
                    initialZoom: c,
                    onCapturedZoomChange: S,
                    currentSelectedLeg: R,
                    hoveredActivityId: u,
                    hoveredHotelId: p,
                    recommendations: v,
                    onRecommendationClick: _,
                    trip: i
                }), (0,
                n.jsx)(C, {
                    legs: s,
                    currentZoom: d,
                    visible: d >= 1.1 * E && d <= 1.4 * E
                }), (0,
                n.jsx)(y, {
                    currentSelectedLeg: R,
                    handleClickMarker: e => {
                        let t = o.find(t => t.location === e);
                        if (!t)
                            return;
                        let i = o.indexOf(t);
                        j && (A.current = !0,
                        a(i)),
                        T(i, 1e3)
                    }
                    ,
                    allLegs: s
                })]
            })
        }
          , ei = (e, t) => {
            let i = (0,
            u.vf)(e, t);
            if (!i.length)
                return null;
            let n = new (M()).LngLatBounds;
            return (i.filter(e => (null == e ? void 0 : e.latitude) && (null == e ? void 0 : e.longitude)).forEach(e => {
                n.extend([e.longitude, e.latitude])
            }
            ),
            n.isEmpty()) ? null : n
        }
          , en = e => ({
            lat: e.getCenter().lat,
            lng: e.getCenter().lng
        })
          , el = function(e, t) {
            let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 21;
            function n(e) {
                let t = Math.sin(e * Math.PI / 180);
                return Math.max(Math.min(Math.log((1 + t) / (1 - t)) / 2, Math.PI), -Math.PI) / 2
            }
            function l(e, t, i) {
                return Math.floor(Math.log(e / t / i) / Math.LN2)
            }
            let r = (n(e.getNorthEast().lat) - n(e.getSouthWest().lat)) / Math.PI
              , a = e.getNorthEast().lng - e.getSouthWest().lng;
            return Math.min(l(t.height, 256, r), l(t.width, 256, (a < 0 ? a + 360 : a) / 360), i)
        }
          , er = a()( () => Promise.all([i.e(8098), i.e(9806), i.e(8250)]).then(i.bind(i, 5869)).then(e => ({
            default: e.Map
        })), {
            loadableGenerated: {
                webpack: () => [5869]
            },
            ssr: !1,
            loading: () => null
        })
          , ea = e => ({
            id: e[0].cityId,
            city: e[0].city,
            country: e[0].country,
            displayName: e[0].city,
            parentCity: e[0].city,
            countryCode: "",
            videos: e.map(e => ({
                id: e.videoId.toString(),
                mp4Url: "https://cdn.dev.beautifuldestinations.app/".concat(e.mp4Url),
                thumbnailUrl: "https://cdn.dev.beautifuldestinations.app/".concat(e.thumbnailUrl),
                duration: 0,
                categories: [],
                subcategories: [],
                creator: {
                    username: e.creator,
                    profilePicUrl: "https://storage.googleapis.com/bd-app-dev-job-processor/instagram/profile/".concat(e.instagramId, "/profilePicUrlHD.jpg")
                }
            }))
        })
          , eo = e => {
            let {trip: t, openModal: i, bounds: r, center: a, zoom: d, setZoom: u, activeTab: p, setActiveTab: v, setOpenModal: _, style: m, showExpandButton: g, showModifyRouteButton: f, hasPointOfOrigin: x, trimmedLegs: y, hideCloseButton: b, legs: j, onVideoFeatureClick: w, initialZoom: A, hoveredActivityId: I, hoveredHotelId: C, recommendations: T=[], onRecommendationClick: k, onCenterPlace: S} = e
              , {tAsString: R} = (0,
            H.Ay)()
              , {openRouteModal: E} = (0,
            h.y)()
              , {isMobile: P} = (0,
            N.U)()
              , D = (0,
            l.useRef)(null)
              , M = (0,
            F.A)()
              , L = (0,
            l.useCallback)( () => {
                M({
                    event: "ShowTripModifyRouteFromMap"
                }),
                E()
            }
            , [M, E])
              , O = (0,
            l.useCallback)( () => {
                M({
                    event: "ExpanTripMap"
                }),
                null == _ || _(!0)
            }
            , [M, _])
              , B = (0,
            l.useCallback)(e => {
                e && e.length > 0 && (null == w || w(ea(e)))
            }
            , [w])
              , U = (0,
            l.useCallback)( () => {
                if (d !== A && r) {
                    var e, t;
                    null === (t = D.current) || void 0 === t || null === (e = t.getMap()) || void 0 === e || e.fitBounds(r, {
                        padding: 50,
                        duration: 1e3
                    })
                }
            }
            , [d, A, r, D]);
            return (0,
            l.useEffect)( () => {
                let e = e => {
                    let {latitude: t, longitude: i, zoom: n} = e.detail;
                    D.current && void 0 !== t && void 0 !== i && (D.current.getMap().easeTo({
                        center: [i, t],
                        zoom: n || 15,
                        duration: 1e3
                    }),
                    u(n || 15))
                }
                ;
                return window.addEventListener("triggerMapZoom", e),
                () => {
                    window.removeEventListener("triggerMapZoom", e)
                }
            }
            , [u]),
            (0,
            l.useEffect)( () => {
                let e = () => {
                    D.current && r && (D.current.getMap().fitBounds(r, {
                        padding: 50,
                        duration: 1e3
                    }),
                    u(A))
                }
                ;
                return window.addEventListener("restoreMapBounds", e),
                () => {
                    window.removeEventListener("restoreMapBounds", e)
                }
            }
            , [r, A, u]),
            (0,
            n.jsxs)(er, {
                mapRef: D,
                center: a,
                bounds: r || void 0,
                zoom: d,
                forceBoundsFitting: y.length > 1,
                initialViewState: {
                    longitude: a.lng,
                    latitude: a.lat,
                    zoom: A
                },
                showVideoFeatures: !0,
                videoFeaturesMinZoom: 14,
                onVideoFeatureClick: B,
                onMapClick: U,
                onZoomEnd: e => u(e.target.getZoom()),
                scrollZoom: i || !P,
                doubleClickZoom: i || !P,
                dragPan: i || !P,
                dragRotate: i || !P,
                touchZoomRotate: i || !P,
                style: m,
                children: [i && !b && (0,
                n.jsx)("button", {
                    onClick: () => null == _ ? void 0 : _(!1),
                    className: c().close_modal_button,
                    children: (0,
                    n.jsx)(o.A, {
                        src: s.A,
                        alt: "close",
                        width: 24,
                        height: 24
                    })
                }), g && (0,
                n.jsx)("button", {
                    onClick: () => O(),
                    className: c().open_modal_button,
                    children: (0,
                    n.jsx)(o.A, {
                        src: "/maximize-2.svg",
                        alt: "expand",
                        width: 16,
                        height: 16
                    })
                }), f && (0,
                n.jsx)("button", {
                    onClick: () => L(),
                    className: c().open_transport_option_button,
                    children: R("modals.modifyRoutes.button")
                }), (null == y ? void 0 : y.length) && t && (0,
                n.jsx)(et, {
                    mapRef: D,
                    trip: t,
                    activeTab: p,
                    setActiveTab: v,
                    hasPointOfOrigin: x,
                    trimmedLegs: y,
                    allLegs: j,
                    currentZoom: d,
                    initialZoom: A,
                    hoveredActivityId: I,
                    hoveredHotelId: C,
                    recommendations: T,
                    onRecommendationClick: k,
                    onCenterPlace: S
                })]
            })
        }
          , es = a()( () => i.e(3901).then(i.bind(i, 76282)), {
            loadableGenerated: {
                webpack: () => [76282]
            },
            ssr: !1
        })
          , ed = (0,
        l.forwardRef)( (e, t) => {
            let {trip: i, activeTab: r, setActiveTab: a, hasPointOfOrigin: o=!1, trimmedLegs: s, showModifyRouteButton: d, showExpandButton: c, legs: u, onVideoFeatureClick: p, hoveredActivityId: v, hoveredHotelId: _, recommendations: m=[], onRecommendationClick: h} = e
              , {isMobile: g} = (0,
            N.U)()
              , f = (0,
            l.useMemo)( () => (null == s ? void 0 : s.length) ? s.map(e => "".concat(e.location, "-").concat(e.type)).join("|") + "|".concat(o) : "no-legs", [s, o])
              , x = (0,
            l.useMemo)( () => ei(null != s ? s : [], o), [s, o])
              , y = (0,
            l.useMemo)( () => x ? en(x) : {
                lat: 37.7749,
                lng: -122.4194
            }, [x])
              , [b,j] = (0,
            l.useState)(!1)
              , w = (0,
            l.useRef)(null)
              , A = x ? el(x, g ? {
                width: 300,
                height: 200
            } : {
                width: 400,
                height: 250
            }, 12) : 4
              , [I,C] = (0,
            l.useState)(A);
            return ((0,
            l.useImperativeHandle)(t, () => ({
                centerPlace: e => {
                    w.current && w.current(e)
                }
                ,
                zoomIn: () => {
                    C(e => Math.min(e + 1, 18))
                }
            }), []),
            null == s ? void 0 : s.length) ? b ? (0,
            n.jsx)(es, {
                open: b,
                onClose: () => j(!1),
                sx: {
                    padding: "5rem",
                    "@media (max-width: 768px)": {
                        padding: "0"
                    }
                },
                children: (0,
                n.jsx)("div", {
                    children: (0,
                    n.jsx)(eo, {
                        trip: i,
                        style: {
                            width: "100%",
                            height: g ? "100vh" : "calc(100vh - 10rem)",
                            position: "relative"
                        },
                        bounds: x,
                        setOpenModal: j,
                        openModal: b,
                        center: y,
                        zoom: I,
                        setZoom: C,
                        activeTab: r,
                        setActiveTab: a,
                        hasPointOfOrigin: o,
                        legs: u,
                        trimmedLegs: s,
                        showModifyRouteButton: !0,
                        onVideoFeatureClick: p,
                        initialZoom: A,
                        hoveredActivityId: v,
                        hoveredHotelId: _,
                        recommendations: m,
                        onRecommendationClick: h,
                        onCenterPlace: e => {
                            w.current = e
                        }
                    }, f)
                })
            }) : (0,
            n.jsx)(eo, {
                trip: i,
                openModal: b,
                setOpenModal: j,
                center: y,
                zoom: I,
                setZoom: C,
                bounds: x,
                activeTab: r,
                setActiveTab: a,
                hasPointOfOrigin: o,
                trimmedLegs: s,
                showModifyRouteButton: d,
                showExpandButton: c,
                hideCloseButton: !0,
                legs: u,
                onVideoFeatureClick: p,
                initialZoom: A,
                hoveredActivityId: v,
                hoveredHotelId: _,
                recommendations: m,
                onRecommendationClick: h,
                onCenterPlace: e => {
                    w.current = e
                }
            }, f) : null
        }
        );
        ed.displayName = "ItineraryMap";
        let ec = l.memo(ed)
    }
    ,
    61004: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => p
        });
        var n = i(74848)
          , l = i(13725)
          , r = i(47950)
          , a = i(433)
          , o = i.n(a)
          , s = i(62266)
          , d = i(57236);
        let c = {
            src: "/_next/static/media/plus.242916eb.svg",
            height: 12,
            width: 12,
            blurWidth: 0,
            blurHeight: 0
        };
        var u = i(98935);
        function p(e) {
            var t, i, a, p, v, _, m, h, g;
            let {legRoute: f, transports: x, details: y, onClickRoute: b, showArrow: j=!0, fromLocation: w, toLocation: A} = e
              , {tAsString: I} = (0,
            u.Ay)()
              , C = w || (null == f ? void 0 : null === (p = f.option) || void 0 === p ? void 0 : null === (a = p.find(e => "place" === e.subType)) || void 0 === a ? void 0 : null === (i = a.location) || void 0 === i ? void 0 : null === (t = i.split(",")) || void 0 === t ? void 0 : t[0])
              , N = A || (null === (h = [...null !== (g = null == f ? void 0 : f.option) && void 0 !== g ? g : []].reverse()) || void 0 === h ? void 0 : null === (m = h.find(e => (null == e ? void 0 : e.subType) === "place")) || void 0 === m ? void 0 : null === (_ = m.location) || void 0 === _ ? void 0 : null === (v = _.split(",")) || void 0 === v ? void 0 : v[0])
              , T = C && N ? " (".concat(C, " → ").concat(N, ")") : "";
            return (0,
            n.jsxs)("div", {
                className: "".concat(o().route__options, " ").concat(b ? "" : o().route__options_not_clickable),
                onClick: b ? () => {
                    b && b()
                }
                : void 0,
                children: [(0,
                n.jsxs)("div", {
                    className: o().route__options_info,
                    children: [(0,
                    n.jsxs)("div", {
                        className: o().route__options_transport,
                        children: [f && (0,
                        n.jsx)(d.A, {
                            option: f,
                            transportIconClass: o().router__transport_icon
                        }), (0,
                        n.jsxs)("span", {
                            children: [(0,
                            r.Ay)(x, I), T]
                        })]
                    }), (null == y ? void 0 : y.details) && (0,
                    n.jsx)(s.A, {
                        details: null == y ? void 0 : y.details
                    })]
                }), f && j ? (0,
                n.jsx)("div", {
                    style: {
                        display: "flex"
                    },
                    children: (0,
                    n.jsx)(l.A, {
                        src: "/buttons/chevron-right.svg",
                        alt: "arrow-right",
                        width: 24,
                        height: 24
                    })
                }) : f ? (0,
                n.jsx)("div", {
                    style: {
                        display: "flex",
                        width: 24,
                        height: 24
                    }
                }) : (0,
                n.jsxs)("button", {
                    className: o().route__options_add,
                    children: [(0,
                    n.jsx)(l.A, {
                        src: c,
                        alt: "plus",
                        width: 16,
                        height: 16
                    }), I("trip.edit.tags.add")]
                })]
            })
        }
    }
    ,
    62266: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => u
        });
        var n = i(74848)
          , l = i(65018)
          , r = i(28001)
          , a = i(98935)
          , o = i(85610)
          , s = i(47950)
          , d = i(69339)
          , c = i.n(d);
        function u(e) {
            var t, i, d, u;
            let {details: p, showDuration: v=!0, showPrice: _=!0, showStops: m=!0, className: h, travelers: g, cabinClass: f} = e
              , {tAsString: x} = (0,
            a.Ay)()
              , {defaultServerCurrency: y} = (0,
            r.c)()
              , b = null == p ? void 0 : p.durationInMinutes
              , j = null != b ? b : null == p ? void 0 : null === (t = p.duration) || void 0 === t ? void 0 : t.value
              , w = p && "price"in p ? null == p ? void 0 : p.price : null == p ? void 0 : p.priceInEuros
              , A = p && "price"in p ? (null == p ? void 0 : p.currency) || y : "EUR"
              , {formattedPrice: I} = (0,
            l.A)(w, A, void 0, !0);
            return (0,
            n.jsxs)("p", {
                className: "".concat(h, " ").concat(c().info),
                children: [j && v && (0,
                n.jsxs)(n.Fragment, {
                    children: [b ? (0,
                    n.jsx)("span", {
                        children: (0,
                        s.t)(b)
                    }) : (0,
                    n.jsxs)("span", {
                        children: [j, " ", (0,
                        o.zG)(j, null !== (d = null == p ? void 0 : null === (i = p.duration) || void 0 === i ? void 0 : i.unit) && void 0 !== d ? d : "minutes", x)]
                    }), !!w && _ && (0,
                    n.jsx)("span", {
                        children: "•"
                    })]
                }), !!w && _ && (0,
                n.jsxs)(n.Fragment, {
                    children: [(0,
                    n.jsxs)("span", {
                        children: [x("modals.modifyRoutes.routeOptionInfo.from"), " ", I]
                    }), !!(null == p ? void 0 : p.stops) && m && (0,
                    n.jsx)("span", {
                        children: "•"
                    })]
                }), !!(null == p ? void 0 : p.stops) && m && (0,
                n.jsxs)(n.Fragment, {
                    children: [!_ && (0,
                    n.jsx)("span", {
                        children: "•"
                    }), (0,
                    n.jsxs)("span", {
                        children: [null == p ? void 0 : p.stops, " ", x((null !== (u = null == p ? void 0 : p.stops) && void 0 !== u ? u : 0) > 1 ? "modals.modifyRoutes.routeOptionInfo.stops" : "modals.modifyRoutes.routeOptionInfo.stop")]
                    })]
                }), g && (0,
                n.jsx)("span", {
                    children: "•"
                }), g && (0,
                n.jsx)("span", {
                    children: "".concat(g, " ").concat(x(g > 1 ? "trip.tripPopups.people" : "trip.tripPopups.person"))
                }), f && (0,
                n.jsx)("span", {
                    children: "•"
                }), f && (0,
                n.jsx)("span", {
                    children: f
                })]
            })
        }
    }
    ,
    57236: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => s
        });
        var n = i(74848)
          , l = i(47950)
          , r = i(13725)
          , a = i(24109)
          , o = i.n(a);
        function s(e) {
            let {option: t, transportIconClass: i="", sizeIcon: a=20} = e
              , s = (0,
            l.Di)(t);
            return (0,
            n.jsx)("div", {
                className: o().container,
                children: s.map( (e, t) => {
                    var l;
                    return (0,
                    n.jsx)(r.A, {
                        className: i,
                        src: "/TripBooking/transportOptionsIcons/".concat(null == e ? void 0 : e.subType, ".svg"),
                        alt: null !== (l = null == e ? void 0 : e.subType) && void 0 !== l ? l : "",
                        width: a,
                        height: a
                    }, t)
                }
                )
            })
        }
    }
    ,
    57984: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => d
        });
        var n = i(74848)
          , l = i(88023)
          , r = i(74977)
          , a = i.n(r)
          , o = i(91106)
          , s = i.n(o);
        let d = e => {
            let {text: t, poi: i, className: r, tripLeg: o, updateTripNavState: d, disableLink: c} = e
              , u = null == i ? void 0 : i.webUrl
              , p = (0,
            l.A)()
              , v = d && (null == i ? void 0 : i.id) && "other" !== i.type && o
              , _ = (e, t, n) => {
                !c && (v && (e.stopPropagation(),
                e.preventDefault()),
                p({
                    event: "ItineraryPoiLink",
                    data: {
                        poi: t,
                        itineraryPoiLink: n
                    }
                }),
                v && d(i))
            }
            ;
            return !u || c ? (0,
            n.jsx)("span", {
                children: t
            }) : (0,
            n.jsx)(s(), {
                className: null != r ? r : a().poi_link,
                href: u,
                target: "_blank",
                onClick: e => {
                    _(e, t, u)
                }
                ,
                prefetch: !1,
                children: t
            })
        }
    }
    ,
    20144: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => l
        });
        var n = i(74848);
        let l = e => {
            let {color: t, width: i="auto", height: l="auto", className: r, alt: a} = e;
            return (0,
            n.jsx)("svg", {
                width: i,
                height: l,
                viewBox: "0 0 14 14",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                className: r,
                "aria-label": a,
                children: (0,
                n.jsx)("path", {
                    fillRule: "evenodd",
                    clipRule: "evenodd",
                    d: "M4.66797 0.581055C4.99014 0.581055 5.2513 0.842222 5.2513 1.16439V1.74772H8.7513V1.16439C8.7513 0.842222 9.01247 0.581055 9.33464 0.581055C9.6568 0.581055 9.91797 0.842222 9.91797 1.16439V1.74772H11.0846C12.0511 1.74772 12.8346 2.53122 12.8346 3.49772V11.6644C12.8346 12.6309 12.0511 13.4144 11.0846 13.4144H2.91797C1.95147 13.4144 1.16797 12.6309 1.16797 11.6644V3.49772C1.16797 2.53122 1.95147 1.74772 2.91797 1.74772H4.08464V1.16439C4.08464 0.842222 4.3458 0.581055 4.66797 0.581055ZM4.08464 2.91439H2.91797C2.5958 2.91439 2.33464 3.17556 2.33464 3.49772V5.24772H11.668V3.49772C11.668 3.17555 11.4068 2.91439 11.0846 2.91439H9.91797V3.49772C9.91797 3.81989 9.6568 4.08105 9.33464 4.08105C9.01247 4.08105 8.7513 3.81989 8.7513 3.49772V2.91439H5.2513V3.49772C5.2513 3.81989 4.99014 4.08105 4.66797 4.08105C4.3458 4.08105 4.08464 3.81989 4.08464 3.49772V2.91439ZM11.668 6.41439H2.33464V11.6644C2.33464 11.9866 2.5958 12.2477 2.91797 12.2477H11.0846C11.4068 12.2477 11.668 11.9866 11.668 11.6644V6.41439Z",
                    fill: t
                })
            })
        }
    }
    ,
    68796: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => l
        });
        var n = i(74848);
        let l = e => {
            let {color: t, width: i="auto", height: l="auto", className: r, alt: a} = e;
            return (0,
            n.jsx)("svg", {
                width: i,
                height: l,
                viewBox: "0 0 24 24",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                className: r,
                "aria-label": a,
                children: (0,
                n.jsx)("path", {
                    d: "M20 6L9 17L4 12",
                    stroke: t,
                    strokeWidth: "2",
                    strokeLinecap: "round",
                    strokeLinejoin: "round"
                })
            })
        }
    }
    ,
    5117: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(74848)
          , l = i(50620)
          , r = i(98935);
        function a(e) {
            let {title: t, titleKey: i, items: a=[], className: o="", showTitle: s=!0, titleClassName: d, containerClassName: c="container mx-auto"} = e
              , {tAsString: u, AppTrans: p} = (0,
            r.Ay)()
              , v = i ? u(i) : t;
            return (0,
            n.jsx)("section", {
                className: "py-24 px-8 ".concat(o),
                children: (0,
                n.jsxs)("div", {
                    className: c,
                    children: [s && v && (0,
                    n.jsx)("h2", {
                        className: d || "mb-4 text-3xl font-semibold md:mb-11! md:text-5xl!",
                        children: v
                    }), (0,
                    n.jsx)(l.nD, {
                        type: "single",
                        collapsible: !0,
                        children: a.map( (e, t) => (0,
                        n.jsxs)(l.As, {
                            value: "item-".concat(t),
                            children: [(0,
                            n.jsx)(l.$m, {
                                className: "font-semibold hover:no-underline text-base md:text-xl!",
                                children: e.questionKey ? u(e.questionKey) : e.question
                            }), (0,
                            n.jsx)(l.ub, {
                                forceMount: !0,
                                className: "text-foreground text-base md:text-lg! motion-reduce:animate-none data-[state=open]:!animate-[accordion-down_280ms_cubic-bezier(.2,.8,.2,1)_forwards] data-[state=closed]:!animate-[accordion-up_220ms_cubic-bezier(.5,0,.2,1)_forwards] will-change-[height]",
                                children: e.answerKey ? (0,
                                n.jsx)(p, {
                                    i18nKey: e.answerKey,
                                    components: {
                                        strong: (0,
                                        n.jsx)("strong", {})
                                    }
                                }) : e.answer
                            })]
                        }, e.id || "item-".concat(t)))
                    })]
                })
            })
        }
    }
    ,
    79718: (e, t, i) => {
        "use strict";
        i.d(t, {
            M: () => g,
            j: () => h
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(64001)
          , a = i(28097)
          , o = i(3058)
          , s = i(30596)
          , d = i(67330)
          , c = i(5104)
          , u = i(29306)
          , p = i(25508)
          , v = i(40532)
          , _ = i(97025);
        let m = (0,
        l.createContext)({
            enabled: !1,
            trip: {},
            updateVideos: () => {}
            ,
            updateTitleDescriptionAndTags: () => {}
            ,
            updateTripDatesAndTravelers: () => {}
            ,
            updateTripLegRouting: () => {}
            ,
            updateLegOverview: () => {}
            ,
            updateHotel: () => {}
            ,
            updateLegDay: () => {}
            ,
            saveTrip: () => Promise.resolve(!1),
            updating: !1
        })
          , h = () => (0,
        l.useContext)(m)
          , g = e => {
            let {children: t, initialTrip: i} = e
              , [h,g] = (0,
            l.useState)(i)
              , [f,x] = (0,
            l.useState)(!1)
              , y = (e, t) => {
                var i, n;
                let l = null !== (n = null === (i = e.travelers) || void 0 === i ? void 0 : i.filter(e => e.isAdult)) && void 0 !== n ? n : [];
                return l.length >= t ? l.slice(0, t) : [...l, ...Array.from({
                    length: t - l.length
                }).map( () => ({
                    isAdult: !0
                }))]
            }
              , b = (e, t) => {
                var i, n;
                let l = null !== (n = null === (i = e.travelers) || void 0 === i ? void 0 : i.filter(e => !e.isAdult)) && void 0 !== n ? n : [];
                return l.length >= t ? l.slice(0, t) : [...l, ...Array.from({
                    length: t - l.length
                }).map( () => ({
                    isAdult: !1
                }))]
            }
              , j = (0,
            l.useCallback)(async () => {
                x(!0);
                for (let e = 0; e < h.legs.length; e++)
                    await w(h, e);
                let e = await (0,
                v.c4)("trips/".concat(h.id), h, !0);
                return x(!1),
                e
            }
            , [h])
              , w = async (e, t) => {
                let i = e.legs[t];
                if (i.itinerary)
                    for (let t = 0; t < i.itinerary.length; t++) {
                        let n = i.itinerary[t];
                        if (n.creatorVideos && n.creatorVideos.length > 0)
                            for (let t = 0; t < n.creatorVideos.length; t++) {
                                let i = n.creatorVideos[t];
                                if ("string" != typeof i && !("url"in i)) {
                                    let l = (0,
                                    r.nH)()
                                      , a = null
                                      , o = null;
                                    await A(async t => {
                                        let n = await (0,
                                        u.GT)(i, {
                                            frameTimeInSeconds: .5
                                        });
                                        (0,
                                        p.QM)(n, "trips/".concat(e.id, "/creatorVideos/").concat(l, ".png"), () => {}
                                        , e => {
                                            o = e,
                                            t()
                                        }
                                        )
                                    }
                                    ),
                                    await A(async t => {
                                        (0,
                                        p.QM)(i, "trips/".concat(e.id, "/creatorVideos/").concat(l, ".mp4"), () => {}
                                        , e => {
                                            a = e,
                                            t()
                                        }
                                        )
                                    }
                                    ),
                                    a && o ? n.creatorVideos[t] = {
                                        thumbnailUrl: o,
                                        url: a
                                    } : console.error("Failed to upload video or thumbnail!")
                                }
                            }
                    }
            }
              , A = e => new Promise( (t, i) => {
                e(t, i)
            }
            );
            return (0,
            n.jsxs)(n.Fragment, {
                children: [(0,
                n.jsx)(s.A, {
                    open: f,
                    sx: {
                        display: "flex",
                        justifyContent: "center",
                        alignItems: "center",
                        zIndex: 1300,
                        backgroundColor: "rgba(0, 0, 0, 0.5)"
                    },
                    children: (0,
                    n.jsx)(o.A, {
                        sx: {
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            flexDirection: "column",
                            borderRadius: "8px",
                            p: 4,
                            outline: "none",
                            boxShadow: 24,
                            background: "white"
                        },
                        children: (0,
                        n.jsx)(d.A, {
                            color: "primary"
                        })
                    })
                }), (0,
                n.jsx)(m.Provider, {
                    value: {
                        enabled: !0,
                        trip: h,
                        updateVideos: e => {
                            g(t => ({
                                ...t,
                                videos: e
                            }))
                        }
                        ,
                        updateTitleDescriptionAndTags: (e, t, i, n) => {
                            g(l => ({
                                ...l,
                                title: e,
                                description: t,
                                tags: i,
                                ...void 0 !== n && {
                                    briefSummary: n
                                }
                            }))
                        }
                        ,
                        updateTripDatesAndTravelers: (e, t, i, n) => {
                            let l = a.c9.fromISO(h.endDate).diff(a.c9.fromISO(h.startDate), "days").days
                              , r = e || h.startDate
                              , o = a.c9.fromISO(r).plus({
                                days: l
                            }).toISODate()
                              , s = a.c9.fromISO(r).diff(a.c9.fromISO(h.startDate), "days").days
                              , d = 0 != s ? h.legs.map(e => {
                                let t = a.c9.fromISO(e.startDate).plus({
                                    days: s
                                })
                                  , i = a.c9.fromISO(e.endDate).plus({
                                    days: s
                                });
                                return {
                                    ...e,
                                    startDate: t.toISODate() || e.startDate,
                                    endDate: i.toISODate() || e.endDate
                                }
                            }
                            ) : h.legs;
                            g(e => ({
                                ...e,
                                startDate: r,
                                endDate: o || e.endDate,
                                legs: d,
                                numberOfRooms: t || e.numberOfRooms,
                                travelers: [...y(e, i || e.travelers.filter(e => e.isAdult).length || 1), ...b(e, n || e.travelers.filter(e => !e.isAdult).length || 0)]
                            }))
                        }
                        ,
                        updateTripLegRouting: (e, t) => {
                            g(i => {
                                var n, l;
                                let r = i.legs.findIndex(t => (0,
                                c.a_)(t, e));
                                if (r < 0)
                                    return i;
                                let a = i.legs[r]
                                  , o = {
                                    ...a,
                                    routing: {
                                        options: [t, ...(null === (l = a.routing) || void 0 === l ? void 0 : null === (n = l.options) || void 0 === n ? void 0 : n.filter(e => e.option !== t.option)) || []]
                                    }
                                };
                                return {
                                    ...i,
                                    legs: [...i.legs.slice(0, r), o, ...i.legs.slice(r + 1)]
                                }
                            }
                            )
                        }
                        ,
                        updateLegOverview: (e, t, i, n) => {
                            g(l => {
                                var r, a;
                                let o = l.legs.findIndex(t => (0,
                                c.a_)(t, e));
                                if (o < 0)
                                    return l;
                                let s = l.legs[o]
                                  , d = (null === (r = s.destination) || void 0 === r ? void 0 : r.videos) || []
                                  , u = {
                                    ...s,
                                    description: t.trim(),
                                    notes: i && i.trim().length > 0 ? i.trim() : "",
                                    destination: {
                                        ...null !== (a = s.destination) && void 0 !== a ? a : {},
                                        videos: n || d
                                    }
                                };
                                return {
                                    ...l,
                                    legs: [...l.legs.slice(0, o), u, ...l.legs.slice(o + 1)]
                                }
                            }
                            )
                        }
                        ,
                        updateHotel: (e, t) => {
                            g(i => {
                                let n = i.legs.findIndex(t => (0,
                                c.a_)(t, e));
                                if (n < 0)
                                    return i;
                                let l = {
                                    ...i.legs[n],
                                    selectedHotel: t
                                };
                                return {
                                    ...i,
                                    legs: [...i.legs.slice(0, n), l, ...i.legs.slice(n + 1)]
                                }
                            }
                            )
                        }
                        ,
                        updateLegDay: (e, t, i, n, l, r, a, o) => {
                            g(s => {
                                var d;
                                let u = s.legs.findIndex(t => (0,
                                c.a_)(t, e));
                                if (u < 0)
                                    return s;
                                let p = s.legs[u]
                                  , v = p.itinerary || []
                                  , m = v.findIndex(e => (0,
                                c.a_)(e, t));
                                if (m < 0)
                                    return s;
                                let h = {
                                    ...v[m],
                                    title: i,
                                    description: n,
                                    note: r && r.trim().length > 0 ? r.trim() : "",
                                    creatorTips: a && a.trim().length > 0 ? a.trim() : null,
                                    creatorVideos: o && o.length > 0 ? o : null
                                }
                                  , g = [...v.slice(0, m), h, ...v.slice(m + 1)]
                                  , f = [...null !== (d = e.selectedActivities) && void 0 !== d ? d : [], ...l.filter(t => {
                                    var i;
                                    return !(null === (i = e.selectedActivities) || void 0 === i ? void 0 : i.find(e => e.id === t.id))
                                }
                                ).map(e => (0,
                                _.uk)(e))]
                                  , x = {
                                    ...p,
                                    itinerary: g,
                                    selectedActivities: f
                                };
                                return {
                                    ...s,
                                    legs: [...s.legs.slice(0, u), x, ...s.legs.slice(u + 1)]
                                }
                            }
                            )
                        }
                        ,
                        saveTrip: j,
                        updating: f
                    },
                    children: t
                })]
            })
        }
    }
    ,
    17843: (e, t, i) => {
        "use strict";
        i.d(t, {
            r: () => m,
            I: () => _
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(86715)
          , a = i(53670)
          , o = i(40532)
          , s = i(5104)
          , d = i(71975)
          , c = i(18584);
        let u = (e, t) => {
            let i = [];
            for (let t = 0; t < e.length; t += 1)
                e.slice(t, Math.min(e.length, t + 1)).find(e => !!(null == e ? void 0 : e.relevance) && !!(null == e ? void 0 : e.reviews) && !!e.facilitiesIds && !!e.relevantFacilitiesIds) && i.push(t);
            return i.concat(t)
        }
          , p = e => !!e && !!e.id && !!e.name && !!e.url
          , v = (0,
        l.createContext)({})
          , _ = () => (0,
        l.useContext)(v)
          , m = e => {
            var t;
            let {children: i, data: _, startFirebase: m, prefetchedHotelsFacilities: h=null, currentHotel: g} = e
              , {id: f, hotels: x} = null != _ ? _ : {}
              , {user: y, authUserId: b} = (0,
            d.A)()
              , {query: j, replace: w, pathname: A} = (0,
            r.useRouter)()
              , {fromLayla: I} = j
              , {fullUrl: C} = (0,
            c.U)()
              , N = new URL(C).host
              , [T,k] = (0,
            l.useState)(m || !!I)
              , [S,R] = (0,
            l.useState)([])
              , [E,P] = (0,
            l.useState)(null)
              , [D,M] = (0,
            l.useState)(null)
              , [L,O] = (0,
            l.useState)("HotelAIFinderSearch")
              , [F,B] = (0,
            l.useState)(h)
              , H = (0,
            a.Mw)()
              , U = (0,
            l.useCallback)(e => {
                if (!g)
                    return e;
                let t = e.some(e => e.id === g.id)
                  , i = [...e];
                return t || (i = [g, ...e]),
                i.sort( (e, t) => e.id === g.id ? -1 : t.id === g.id ? 1 : 0)
            }
            , [g])
              , {sortedHotels: z, hotelsMapFixed: q} = (0,
            l.useMemo)( () => {
                if (!x)
                    return {
                        sortedHotels: [],
                        hotelsMapFixed: {}
                    };
                let e = U(Object.entries(x).filter(e => {
                    let[,t] = e;
                    return p(t)
                }
                ).map(e => {
                    let[,t] = e;
                    return t
                }
                ))
                  , t = e.reduce( (e, t, i) => ({
                    ...e,
                    [i]: t
                }), {});
                return {
                    sortedHotels: e,
                    hotelsMapFixed: t
                }
            }
            , [x, U])
              , V = (0,
            a.K7)()
              , [W,G] = (0,
            l.useState)({
                data: null,
                error: null
            });
            (0,
            l.useEffect)( () => {
                if (!T)
                    return;
                let e = (0,
                o.dP)("hotel_search/".concat(f), e => {
                    G({
                        data: e || null,
                        error: null
                    })
                }
                );
                return () => e()
            }
            , [T, f]),
            (0,
            l.useEffect)( () => {
                let e = () => {
                    k(!0),
                    window.removeEventListener("scroll", e)
                }
                ;
                return window.addEventListener("scroll", e),
                () => window.removeEventListener("scroll", e)
            }
            , []),
            (0,
            l.useEffect)( () => {
                if (document.referrer.includes(N) && k(!0),
                j.fromLayla) {
                    let e = {
                        ...j
                    };
                    delete e.fromLayla,
                    w({
                        pathname: A,
                        query: e
                    }, void 0, {
                        shallow: !0
                    })
                }
            }
            , []);
            let Y = (0,
            l.useRef)(u(z, []))
              , X = null == W ? void 0 : null === (t = W.data) || void 0 === t ? void 0 : t.hotels
              , J = (0,
            l.useMemo)( () => X ? U(Object.values(X)) : [], [X, U]);
            J.length > 0 && u(J, Y.current);
            let Z = async e => {
                !Y.current.includes(e) && (null == y ? void 0 : y.uid) && f && (Y.current.push(e),
                V(f, e, 1))
            }
              , K = J.length > 0 ? J : z
              , Q = (0,
            l.useMemo)( () => X || q, [X, q])
              , $ = (0,
            l.useMemo)( () => Q ? Object.entries(Q).filter(e => {
                let[,t] = e;
                return null !== t.lat && "number" == typeof t.lat && null !== t.lng && "number" == typeof t.lng
            }
            ).slice(0, 20).map(e => {
                let[t,i] = e;
                return {
                    id: i.id,
                    index: t,
                    lat: i.lat,
                    lng: i.lng
                }
            }
            ) : [], [Q]);
            return (0,
            l.useEffect)( () => {
                (0,
                s.tM)(S, $) || R($)
            }
            , [$, S]),
            (0,
            l.useEffect)( () => {
                (null == y ? void 0 : y.uid) && f && Z(0)
            }
            , [null == y ? void 0 : y.uid, f]),
            (0,
            l.useEffect)( () => {
                h || F || !b || H().then(e => {
                    B(null != e ? e : null)
                }
                )
            }
            , [h, b, F]),
            (0,
            n.jsx)(v.Provider, {
                value: {
                    hotels: K.slice(0, 20),
                    cleanLoadedRelevance: () => {
                        Y.current = []
                    }
                    ,
                    hotelsMap: Q,
                    hotelPins: S,
                    loadRelevance: Z,
                    relevanceLoadingBulk: 1,
                    setListenFirebase: k,
                    selectedHotel: E,
                    setSelectedHotel: P,
                    hoveredHotel: D,
                    setHoveredHotel: M,
                    setEventForBookingLabel: O,
                    eventForBookingLabel: L,
                    hotelsFacilities: F,
                    data: (null == W ? void 0 : W.data) || _ || null
                },
                children: i
            })
        }
    }
    ,
    46002: (e, t, i) => {
        "use strict";
        i.d(t, {
            I: () => v,
            f: () => p
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(28097)
          , a = i(40532)
          , o = i(86715)
          , s = i(18584)
          , d = i(79718)
          , c = i(71975);
        let u = (0,
        l.createContext)({})
          , p = () => (0,
        l.useContext)(u)
          , v = e => {
            let {children: t, tripId: i, preloadedTrip: p, userScrolled: v} = e
              , {query: _, replace: m, pathname: h} = (0,
            o.useRouter)()
              , {fromLayla: g} = _
              , {fullUrl: f} = (0,
            s.U)()
              , {authUserId: x} = (0,
            c.A)()
              , y = new URL(f).host
              , [b,j] = (0,
            l.useState)(v || !!g)
              , [w,A] = (0,
            l.useState)(0)
              , [I,C] = (0,
            l.useState)(p)
              , {enabled: N} = (0,
            d.j)();
            (0,
            l.useEffect)( () => {
                v && (b || j(!0))
            }
            , [v, b]),
            (0,
            l.useEffect)( () => {
                if (!p) {
                    j(!0);
                    return
                }
            }
            , [p]),
            (0,
            l.useEffect)( () => {
                N && p && C(p)
            }
            , [N, p]),
            (0,
            l.useEffect)( () => {
                if (!x || !b || !i)
                    return;
                let e = (0,
                a.dP)("trips/".concat(i), e => {
                    try {
                        e && C(e)
                    } catch (e) {
                        console.error("Error processing trip data:", e)
                    }
                }
                );
                return () => {
                    try {
                        e()
                    } catch (e) {
                        console.error("Error unsubscribing from trip listener:", e)
                    }
                }
            }
            , [b, i, x]),
            (0,
            l.useEffect)( () => {
                let e = window.location.pathname;
                if ((document.referrer.includes(y) || h.includes("chat") || e.includes("chat")) && j(!0),
                _.fromLayla) {
                    let e = {
                        ..._
                    };
                    delete e.fromLayla,
                    m({
                        pathname: h,
                        query: e
                    }, void 0, {
                        shallow: !0
                    })
                }
            }
            , []);
            let[T,k] = (0,
            l.useState)(null == I ? void 0 : I.legs)
              , [S,R] = (0,
            l.useState)( () => {
                try {
                    let e = sessionStorage.getItem("pendingTripDetails");
                    if (e) {
                        let t = JSON.parse(e);
                        if (t.tripId === i)
                            return {
                                dates: t.dates ? {
                                    start: t.dates.start ? r.c9.fromISO(t.dates.start, {
                                        zone: "utc"
                                    }) : void 0,
                                    end: t.dates.end ? r.c9.fromISO(t.dates.end, {
                                        zone: "utc"
                                    }) : void 0
                                } : void 0,
                                roomsAndGuests: t.roomsAndGuests
                            }
                    }
                } catch (e) {
                    console.error("Error loading pendingTripDetails from sessionStorage:", e)
                }
                return {}
            }
            )
              , E = (0,
            l.useCallback)(e => {
                j(e)
            }
            , [])
              , P = (0,
            l.useCallback)(e => {
                k(e)
            }
            , [])
              , D = (0,
            l.useCallback)(e => {
                A(e)
            }
            , [])
              , M = (0,
            l.useCallback)(e => {
                R(e)
            }
            , [])
              , L = (0,
            l.useCallback)( () => {
                R({})
            }
            , [])
              , O = (0,
            l.useMemo)( () => ({
                trip: I,
                setListenFirebase: E,
                selectedLegHotel: T,
                setSelectedLegHotel: P,
                tab: w,
                setTab: D,
                pendingTripDetails: S,
                setPendingTripDetails: M,
                clearPendingTripDetails: L
            }), [I, T, w, E, P, D, S, M, L]);
            return (0,
            n.jsx)(u.Provider, {
                value: O,
                children: t
            })
        }
    }
    ,
    67154: (e, t, i) => {
        "use strict";
        i.d(t, {
            G: () => x,
            y: () => f
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(31413)
          , a = i(79640)
          , o = i(15829)
          , s = i(99433)
          , d = i(88023)
          , c = i(46002)
          , u = i(97025)
          , p = i(47950)
          , v = i(64669);
        let _ = (e, t) => {
            var i, n;
            let {addTripToChat: r} = (0,
            a.Y)()
              , [o,s] = (0,
            l.useState)({})
              , d = (0,
            l.useMemo)( () => Object.values(null != o ? o : {}), [o])
              , [c,u] = (0,
            l.useState)({
                showModal: !1,
                from: null,
                to: null,
                legIndex: null,
                departureDate: null
            })
              , _ = null !== (i = null == e ? void 0 : e.legs) && void 0 !== i ? i : []
              , m = null !== (n = null == d ? void 0 : d.some(e => !!e)) && void 0 !== n && n
              , h = (0,
            l.useMemo)( () => {
                var t;
                return null !== (t = null == e ? void 0 : e.legs) && void 0 !== t ? t : []
            }
            , [e])
              , g = e => "trip_transport_selections_".concat(e);
            (0,
            l.useEffect)( () => {
                if (!(null == e ? void 0 : e.id))
                    return;
                let t = g(e.id)
                  , i = null;
                try {
                    let e = localStorage.getItem(t);
                    e && (i = JSON.parse(e))
                } catch (e) {
                    console.warn("Failed to load persisted transport selections:", e)
                }
                let n = (0,
                p.CN)(h);
                s(i ? {
                    ...n,
                    ...i
                } : n)
            }
            , [h, null == e ? void 0 : e.id]);
            let f = function(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , i = o["route".concat(e)];
                if (t) {
                    var n, l, r;
                    let t = null == i ? void 0 : null === (n = i.option.find(e => e.details)) || void 0 === n ? void 0 : n.details;
                    if (null == t ? void 0 : t.carriers)
                        return (null === (r = _[e].routing) || void 0 === r ? void 0 : null === (l = r.options) || void 0 === l ? void 0 : l[0]) || null
                }
                return i || null
            };
            return {
                hasRoutes: m,
                savedRoutes: d,
                legTransportState: c,
                closeRouteModal: () => {
                    u(e => ({
                        ...e,
                        showModal: !1
                    }))
                }
                ,
                changeLegRouteOption: async (i, n) => {
                    var l, a;
                    let d = null == n ? void 0 : null === (l = n.option) || void 0 === l ? void 0 : l.find(e => e.details)
                      , c = {
                        ...o,
                        ["route".concat(i)]: n
                    }
                      , u = {
                        key: "legs.".concat(i, ".preferredTransportMode"),
                        value: null !== (a = null == d ? void 0 : d.subType) && void 0 !== a ? a : "none"
                    };
                    try {
                        if (t(),
                        r((null == e ? void 0 : e.id) || "", u),
                        s(c),
                        null == e ? void 0 : e.id)
                            try {
                                let t = g(e.id)
                                  , i = {}
                                  , n = localStorage.getItem(t);
                                n && (i = JSON.parse(n));
                                let l = {
                                    ...i,
                                    ...c
                                };
                                localStorage.setItem(t, JSON.stringify(l))
                            } catch (e) {
                                console.warn("Failed to persist transport selections:", e)
                            }
                        return c
                    } catch (e) {
                        throw console.error("❌ Error in changeLegRouteOption:", e),
                        e
                    }
                }
                ,
                getSelectedLegRoute: f,
                getPositionsForMap: function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return (0,
                    v.s)(e, t, f)
                },
                getTripWithLivePrices: async () => {
                    t(),
                    r((null == e ? void 0 : e.id) || "", {
                        key: "livePrice",
                        value: !0
                    })
                }
                ,
                setLegTransportState: u,
                openRouteModal: () => {
                    u(e => ({
                        ...e,
                        showModal: !0
                    }))
                }
            }
        }
          , m = (e, t, i) => {
            let[n,r] = (0,
            l.useState)([])
              , [o,d] = (0,
            l.useState)(void 0)
              , {addTripToChat: c} = (0,
            a.Y)()
              , u = null == e ? void 0 : e.id;
            (0,
            l.useEffect)( () => {
                r(null == i ? void 0 : i.airportTransfers),
                (null == i ? void 0 : i.airportTransfers) && i.airportTransfers.length > 0 && !(null == i ? void 0 : i.skipAirportTransfer) && d(null == i ? void 0 : i.airportTransfers[0])
            }
            , [null == i ? void 0 : i.airportTransfers]);
            let p = async i => {
                var n;
                let l = null == e ? void 0 : null === (n = e.legs) || void 0 === n ? void 0 : n[i]
                  , r = (null == l ? void 0 : l.startDay) === 1 ? 0 : i;
                (0,
                s.WO)({
                    tripId: u || "",
                    legIndex: r,
                    action: "remove-transfer"
                }),
                d(void 0),
                t(),
                c(u || "", {
                    key: "legs.".concat(i, ".skipAirportTransfer"),
                    value: !0
                })
            }
              , v = async (i, n) => {
                var l;
                let r = null == e ? void 0 : null === (l = e.legs) || void 0 === l ? void 0 : l[n]
                  , a = (null == r ? void 0 : r.startDay) === 1 ? 0 : n;
                (0,
                s.WO)({
                    tripId: u || "",
                    legIndex: a,
                    action: "add-transfer"
                }),
                d(i),
                t(),
                c(u || "", {
                    key: "legs.".concat(n, ".skipAirportTransfer"),
                    value: !1
                })
            }
              , _ = async (i, n) => {
                var l;
                let r = null == e ? void 0 : null === (l = e.legs) || void 0 === l ? void 0 : l[n]
                  , a = (null == r ? void 0 : r.startDay) === 1 ? 0 : n;
                (0,
                s.WO)({
                    tripId: u || "",
                    legIndex: a,
                    action: "add-transfer"
                }),
                d(i),
                t(),
                c(u || "", {
                    key: "legs.".concat(n, ".skipAirportTransfer"),
                    value: !1
                })
            }
            ;
            return {
                tripLegTransferList: n,
                setTripLegTransferList: r,
                selectedTransfer: o,
                setSelectedTransfer: d,
                removeTransfer: p,
                addTransfer: v,
                replaceTransfer: _
            }
        }
        ;
        var h = i(98935);
        let g = (0,
        l.createContext)({})
          , f = () => (0,
        l.useContext)(g)
          , x = e => {
            var t;
            let {children: i, hideSidePanel: p} = e
              , {tAsString: v} = (0,
            h.Ay)()
              , {trip: f, tab: x} = (0,
            c.f)()
              , y = null !== (t = (0,
            u.FG)(f)) && void 0 !== t ? t : []
              , b = null == y ? void 0 : y[x]
              , {removeActivity: j, handleEditActivity: w, handleEditAttraction: A, removeAttraction: I, alternateActivitiesState: C, setAlternateActivitiesState: N, clearAlternateActivitiesState: T, tripActivities: k, setTripActivities: S, tripAttractions: R, setTripAttractions: E, getSelectedAttractionsPerLeg: P, getSelectedActivitiesPerLeg: D, canEditAttractions: M} = (0,
            r.A)(f, p)
              , {selectedHotels: L, selectHotel: O, removeHotel: F} = function(e, t, i) {
                let n = null == e ? void 0 : e.id
                  , {selectedHotels: l, setSelectedHotels: r} = (0,
                o.t)(e, i)
                  , {addTripToChat: d} = (0,
                a.Y)();
                return {
                    selectedHotels: l,
                    selectHotel: async (l, a) => {
                        var o;
                        let c = null == e ? void 0 : null === (o = e.legs) || void 0 === o ? void 0 : o[a]
                          , u = (null == c ? void 0 : c.startDay) === 1 ? 0 : a;
                        (0,
                        s.WO)({
                            tripId: n,
                            legIndex: u,
                            action: "replace-hotel"
                        }),
                        r(e => Array.isArray(e) ? e.map( (e, t) => (null == e ? void 0 : e.hotelSearchId) && e.hotelSearchId === (null == i ? void 0 : i.hotelSearchId) || t === a ? {
                            ...e,
                            currentHotel: l
                        } : e) : []);
                        let p = {
                            key: "legs.".concat(a, ".selectedHotel.id"),
                            value: l.id
                        };
                        t(),
                        d(n, p)
                    }
                    ,
                    removeHotel: async l => {
                        var a;
                        let o = null == e ? void 0 : null === (a = e.legs) || void 0 === a ? void 0 : a[l]
                          , c = (null == o ? void 0 : o.startDay) === 1 ? 0 : l;
                        (0,
                        s.WO)({
                            tripId: n,
                            legIndex: c,
                            action: "remove-hotel"
                        }),
                        r(e => e.map( (e, t) => (null == e ? void 0 : e.hotelSearchId) && e.hotelSearchId === (null == i ? void 0 : i.hotelSearchId) || t === l ? {
                            ...e,
                            currentHotel: {
                                id: null
                            }
                        } : e)),
                        t(),
                        d(n, {
                            key: "legs.".concat(l, ".selectedHotel.id"),
                            value: null
                        })
                    }
                }
            }(f, p, b)
              , B = _(f, p)
              , {tripLegTransferList: H, setTripLegTransferList: U, selectedTransfer: z, setSelectedTransfer: q, removeTransfer: V, addTransfer: W} = m(f, p, b)
              , {removeFlight: G, addFlight: Y} = function(e) {
                let {trip: t, hideSidePanel: i} = e
                  , {addTripToChat: n} = (0,
                a.Y)()
                  , r = (0,
                d.A)()
                  , o = null == t ? void 0 : t.id;
                return {
                    removeFlight: (0,
                    l.useCallback)(async e => {
                        if (!o) {
                            console.error("Trip ID is required to remove flight");
                            return
                        }
                        i(),
                        n(o, {
                            key: "flightSearchId,selectedFlightItineraryId",
                            value: [e]
                        })
                    }
                    , [o, r, n, i]),
                    addFlight: (0,
                    l.useCallback)(async (e, t) => {
                        if (!o) {
                            console.error("Trip ID is required to add flight");
                            return
                        }
                        i(),
                        n(o, {
                            key: "flightSearchId,selectedFlightItineraryId",
                            value: [e, t]
                        })
                    }
                    , [o, r, n, i])
                }
            }({
                trip: f,
                hideSidePanel: p
            })
              , X = {
                alternateActivitiesState: C,
                tripActivities: k,
                tripAttractions: R,
                selectedHotels: L,
                setAlternateActivitiesState: N,
                handleEditActivity: w,
                handleEditAttraction: A,
                clearAlternateActivitiesState: T,
                removeActivity: j,
                removeAttraction: I,
                setTripActivities: S,
                setTripAttractions: E,
                getSelectedActivitiesPerLeg: D,
                getSelectedAttractionsPerLeg: P,
                canEditAttractions: M,
                selectHotel: O,
                removeHotel: F,
                nameLabel: (0,
                l.useCallback)( (e, t) => {
                    let {luxury: i, recommended: n, budget: l} = null != t ? t : {};
                    return i && e === i.name ? v("trip.itinerary.hotelsAlternate.luxury") : n && e === n.name ? v("trip.itinerary.hotelsAlternate.recommended") : l && e === l.name ? v("homepage.tripList.tabs.cheap") : ""
                }
                , []),
                tripLegTransferList: H,
                selectedTransfer: z,
                setTripLegTransferList: U,
                setSelectedTransfer: q,
                removeTransfer: V,
                addTransfer: W,
                removeFlight: G,
                addFlight: Y,
                ...B
            };
            return (0,
            n.jsx)(g.Provider, {
                value: X,
                children: i
            })
        }
    }
    ,
    53905: (e, t, i) => {
        "use strict";
        i.d(t, {
            q: () => n
        });
        let n = {
            MAIN_TRIP: null,
            ROUTE_OPTIONS: "route-options",
            FLIGHTS: "flights",
            CARS: "cars",
            HOTEL_SEARCH: "hotel-search",
            HOTEL: "hotel",
            ACTIVITIES: "activities",
            ACTIVITY: "activity",
            ATTRACTIONS: "attractions",
            ATTRACTION: "attraction",
            HIGHLIGHTS_SUMMARY: "highlights-summary"
        }
    }
    ,
    92612: (e, t, i) => {
        "use strict";
        i.d(t, {
            Pd: () => h,
            RY: () => f,
            fV: () => g
        });
        var n = i(74848)
          , l = i(96540)
          , r = i(86715)
          , a = i(45552)
          , o = i(79640)
          , s = i(67154)
          , d = i(31413)
          , c = i(97025)
          , u = i(49502)
          , p = i(18584)
          , v = i(53905)
          , _ = i(89599);
        let m = (0,
        l.createContext)(null)
          , h = () => {
            let e = (0,
            l.useContext)(m);
            if (!e)
                throw Error("useTripNavigation must be used within a TripNavigationProvider");
            return e
        }
          , g = () => (0,
        l.useContext)(m)
          , f = e => {
            let {children: t, trip: i, trimmedLegs: h} = e
              , {fullUrl: g} = (0,
            p.U)()
              , {chat: f} = (0,
            o.Y)()
              , {query: x, locale: y, asPath: b} = (0,
            r.useRouter)()
              , {setLegTransportState: j, setAlternateActivitiesState: w} = (0,
            s.y)()
              , A = (0,
            l.useMemo)( () => ({
                entity: v.q.MAIN_TRIP,
                legLocation: null,
                legIndex: null,
                originalLegIndex: null
            }), [])
              , [I,C] = (0,
            l.useState)(A)
              , N = (0,
            l.useRef)(!1)
              , T = (0,
            l.useCallback)(e => {
                C(e)
            }
            , [])
              , k = (0,
            l.useCallback)(function(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : I.legLocation
                  , n = g.pathname.includes("/chat/")
                  , l = "";
                l = n && (null == f ? void 0 : f.id) ? "/".concat(y, "/chat/").concat(f.id, "/trip/").concat(i.id) : x.slug ? "/".concat(y, "/trip/").concat(x.slug, "/").concat(i.id) : "/".concat(y, "/trip/").concat(i.id);
                let {entity: r} = e;
                if (r)
                    switch (r) {
                    case v.q.ROUTE_OPTIONS:
                        e.fromCity && e.toCity && (l += "/transport/".concat(e.fromCity.toLowerCase(), "/").concat(e.toCity.toLowerCase()));
                        break;
                    case v.q.FLIGHTS:
                        e.fromCity && e.toCity ? l += "/transport/".concat(e.fromCity.toLowerCase(), "/").concat(e.toCity.toLowerCase(), "/flights") : l += "/transport/flights";
                        break;
                    case v.q.CARS:
                        e.fromCity && e.toCity && (l += "/transport/".concat(e.fromCity.toLowerCase(), "/").concat(e.toCity.toLowerCase(), "/cars"));
                        break;
                    case v.q.HOTEL_SEARCH:
                        if (t) {
                            let i = t.toLowerCase().replace(/\s+/g, "-");
                            l += "/leg/".concat(i, "/hotel-search").concat((null == e ? void 0 : e.hotelSearchId) ? "/".concat(null == e ? void 0 : e.hotelSearchId) : "")
                        }
                        break;
                    case v.q.HOTEL:
                        if (t) {
                            let i = t.toLowerCase().replace(/\s+/g, "-");
                            l += "/leg/".concat(i, "/hotel-search/").concat(e.hotelSearchId, "/hotel/").concat(null == e ? void 0 : e.hotelId)
                        }
                        break;
                    case v.q.ACTIVITIES:
                        if (t) {
                            let e = t.toLowerCase().replace(/\s+/g, "-");
                            l += "/leg/".concat(e, "/activities")
                        }
                        break;
                    case v.q.ACTIVITY:
                        if (t) {
                            let i = t.toLowerCase().replace(/\s+/g, "-");
                            l += "/leg/".concat(i, "/activities/").concat(null == e ? void 0 : e.activityId)
                        }
                        break;
                    case v.q.ATTRACTIONS:
                        if (t) {
                            let e = t.toLowerCase().replace(/\s+/g, "-");
                            l += "/leg/".concat(e, "/attractions")
                        }
                        break;
                    case v.q.ATTRACTION:
                        if (t) {
                            let i = t.toLowerCase().replace(/\s+/g, "-");
                            l += "/leg/".concat(i, "/attractions/").concat(null == e ? void 0 : e.attractionId)
                        }
                        break;
                    case v.q.HIGHLIGHTS_SUMMARY:
                        l += "/highlights-summary"
                    }
                (0,
                _.Uo)(l)
            }, [null == f ? void 0 : f.id, y, x.slug, i.id, I.legLocation, g])
              , S = (0,
            l.useMemo)( () => !!h && (i.version === a.sG.V2 ? h.some(e => {
                var t;
                return null === (t = e.days) || void 0 === t ? void 0 : t.some(e => {
                    var t;
                    return null === (t = e.items) || void 0 === t ? void 0 : t.some(e => e.type === a.VY.ATTRACTION || e.type === a.Mr.ATTRACTION)
                }
                )
            }
            ) : h.every(e => void 0 !== e.selectedAttractions)), [i, h])
              , R = (0,
            l.useCallback)( () => {
                var e, t, n, l, r, a, o, s, p, m, I, C;
                let N = g.pathname.includes("/chat/")
                  , T = null;
                if (N) {
                    let e = b.match(/\/trip\/([^/?]+)/);
                    T = e ? e[1] : null
                } else if (/^\/[^/]*\/trip\/[^/]+\/[^/]+/.test(b)) {
                    let e = b.match(/\/trip\/([^/]+)\/([^/?]+)/);
                    T = e ? e[2] : null
                }
                if (T && T !== i.id) {
                    let e = "";
                    return e = N && (null == f ? void 0 : f.id) ? "/".concat(y, "/chat/").concat(f.id, "/trip/").concat(i.id) : x.slug ? "/".concat(y, "/trip/").concat(x.slug, "/").concat(i.id) : "/".concat(y, "/trip/").concat(i.id),
                    (0,
                    _.Uo)(e),
                    A
                }
                let {legLocation: R, hotelSearchId: E, hotelId: P, activityId: D, attractionId: M, from: L, to: O} = x;
                if (b.includes("/transport")) {
                    if (b.includes("/flights") && !L && !O)
                        return {
                            entity: v.q.FLIGHTS,
                            legLocation: null,
                            legIndex: null,
                            originalLegIndex: null,
                            fromCity: void 0,
                            toCity: void 0
                        };
                    if (L && O && "string" == typeof L && "string" == typeof O) {
                        let d = v.q.MAIN_TRIP;
                        d = b.includes("/flights") ? v.q.FLIGHTS : b.includes("/cars") ? v.q.CARS : v.q.ROUTE_OPTIONS;
                        let c = L.toLowerCase().replace(/\s+/g, "-")
                          , u = O.toLowerCase().replace(/\s+/g, "-")
                          , m = i.legs
                          , h = null
                          , w = null
                          , I = null
                          , C = null
                          , N = null;
                        for (let i = m.length - 1; i >= 0; i--) {
                            let l = m[i]
                              , r = (null === (t = l.location) || void 0 === t ? void 0 : null === (e = t.split(", ")) || void 0 === e ? void 0 : e[0]) || (null === (n = l.destination) || void 0 === n ? void 0 : n.city) || "";
                            if (r.toLowerCase().replace(/\s+/g, "-") === u) {
                                w = l,
                                C = r || null,
                                N = i;
                                break
                            }
                        }
                        if (w && null !== N && N > 0) {
                            let e = m[N - 1]
                              , t = (null === (r = e.location) || void 0 === r ? void 0 : null === (l = r.split(", ")) || void 0 === l ? void 0 : l[0]) || (null === (a = e.destination) || void 0 === a ? void 0 : a.city) || "";
                            t.toLowerCase().replace(/\s+/g, "-") === c && (h = e,
                            I = t || null)
                        }
                        if (h && w && null !== N)
                            return j(e => ({
                                ...e,
                                from: h,
                                to: w,
                                legIndex: N,
                                departureDate: (h ? new Date(h.endDate) : new Date).toISOString().split("T")[0]
                            })),
                            {
                                entity: d,
                                legLocation: null,
                                legIndex: null,
                                originalLegIndex: N,
                                fromCity: I,
                                toCity: C
                            };
                        if (!w || null === N || !(N > 0))
                            return k(A),
                            A;
                        {
                            let e = m[N - 1]
                              , t = (null === (s = e.location) || void 0 === s ? void 0 : null === (o = s.split(", ")) || void 0 === o ? void 0 : o[0]) || (null === (p = e.destination) || void 0 === p ? void 0 : p.city) || "";
                            j(t => ({
                                ...t,
                                from: e,
                                to: w,
                                legIndex: N,
                                departureDate: (e ? new Date(e.endDate) : new Date).toISOString().split("T")[0]
                            }));
                            let n = t.toLowerCase().replace(/\s+/g, "-")
                              , l = O.toLowerCase()
                              , r = "";
                            return r = g.pathname.includes("/chat/") && (null == f ? void 0 : f.id) ? "/".concat(y, "/chat/").concat(f.id, "/trip/").concat(i.id, "/transport/").concat(n, "/").concat(l) : x.slug ? "/".concat(y, "/trip/").concat(x.slug, "/").concat(i.id, "/transport/").concat(n, "/").concat(l) : "/".concat(y, "/trip/").concat(i.id, "/transport/").concat(n, "/").concat(l),
                            b.includes("/flights") ? r += "/flights" : b.includes("/cars") && (r += "/cars"),
                            (0,
                            _.Uo)(r),
                            {
                                entity: d,
                                legLocation: null,
                                legIndex: null,
                                originalLegIndex: N,
                                fromCity: t,
                                toCity: C
                            }
                        }
                    }
                }
                if (b.includes("/highlights-summary"))
                    return {
                        entity: v.q.HIGHLIGHTS_SUMMARY,
                        legLocation: null,
                        legIndex: null
                    };
                if (R && "string" == typeof R && h) {
                    let e = h.findIndex(e => {
                        var t, i, n;
                        return ((null === (i = e.location) || void 0 === i ? void 0 : null === (t = i.split(", ")) || void 0 === t ? void 0 : t[0]) || (null === (n = e.destination) || void 0 === n ? void 0 : n.city) || "").toLowerCase().replace(/\s+/g, "-") === R.toLowerCase().replace(/\s+/g, "-")
                    }
                    );
                    if (-1 === e)
                        return k(A),
                        A;
                    let t = v.q.MAIN_TRIP;
                    b.includes("/hotel-search") ? t = P ? v.q.HOTEL : v.q.HOTEL_SEARCH : b.includes("/activities") ? t = D ? v.q.ACTIVITY : v.q.ACTIVITIES : b.includes("/attractions") && (t = S ? M ? v.q.ATTRACTION : v.q.ATTRACTIONS : M ? v.q.ACTIVITY : v.q.ACTIVITIES);
                    let n = h[e]
                      , l = i.legs.findIndex(e => e === n);
                    if (t === v.q.ACTIVITY && (D || M)) {
                        let e = D || M
                          , t = null !== (m = n.selectedActivities) && void 0 !== m ? m : []
                          , i = null !== (I = n.attractions) && void 0 !== I ? I : []
                          , l = t.find(t => t.id.toString() === e)
                          , r = i.find(t => t.id.toString() === e);
                        if (l)
                            w({
                                selectedActivity: null,
                                dayIndex: null,
                                openModalReason: d.w.REPLACE_ACTIVITY,
                                activityDetail: l,
                                formattedDate: (0,
                                c.q_)((0,
                                c.cf)(n.startDate, 0)[0])
                            });
                        else if (r) {
                            let[e] = (0,
                            u.ab)([r]);
                            w(t => ({
                                ...t,
                                activityDetail: e,
                                formattedDate: (0,
                                c.q_)((0,
                                c.cf)(n.startDate, 0)[0])
                            }))
                        }
                    }
                    if (t === v.q.ATTRACTION && M) {
                        let e = (null !== (C = n.attractions) && void 0 !== C ? C : []).find(e => e.id.toString() === M);
                        if (e) {
                            let[t] = (0,
                            u.ab)([e]);
                            w(e => ({
                                ...e,
                                activityDetail: t,
                                formattedDate: (0,
                                c.q_)((0,
                                c.cf)(n.startDate, 0)[0])
                            }))
                        }
                    }
                    return {
                        entity: t,
                        leg: n,
                        legLocation: R,
                        legIndex: e,
                        originalLegIndex: l,
                        hotelSearchId: "string" == typeof E ? E : void 0,
                        hotelId: "string" == typeof P ? P : void 0,
                        activityId: "string" == typeof D ? D : void 0,
                        attractionId: "string" == typeof M ? M : void 0
                    }
                }
                return A
            }
            , [x, b, h, i.legs, i.id, j, w, k, A, g, null == f ? void 0 : f.id, y, S])
              , E = (0,
            l.useMemo)( () => !I.entity, [I.entity])
              , P = (0,
            l.useCallback)(function(e) {
                let t = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1]
                  , n = {
                    ...e
                };
                if (e.leg) {
                    var l, r, a;
                    let t = (null === (r = e.leg.location) || void 0 === r ? void 0 : null === (l = r.split(", ")) || void 0 === l ? void 0 : l[0]) || (null === (a = e.leg.destination) || void 0 === a ? void 0 : a.city) || "";
                    void 0 === (n = {
                        ...n,
                        legLocation: t
                    }).legIndex && (n.legIndex = h.findIndex(t => t === e.leg)),
                    void 0 === n.originalLegIndex && (n.originalLegIndex = i.legs.findIndex(t => t === e.leg))
                }
                let o = {
                    ...I,
                    ...n
                };
                T(o),
                t && k(o, n.legLocation)
            }, [I, k, h, i.legs, T])
              , D = (0,
            l.useCallback)( () => {
                I.onReturnCallback && (I.onReturnCallback(),
                T(e => ({
                    ...e,
                    onReturnCallback: void 0
                })))
            }
            , [I, T])
              , M = (0,
            l.useCallback)( () => {
                P({
                    entity: v.q.MAIN_TRIP
                })
            }
            , [P]);
            (0,
            l.useEffect)( () => {
                N.current || (T(R()),
                N.current = !0)
            }
            , [R, T]);
            let L = (0,
            l.useMemo)( () => ({
                navigationState: I,
                updateTripNavState: P,
                executeAndClearReturnCallback: D,
                resetNavigation: M,
                isMainTripEntity: E
            }), [I, P, D, M, E]);
            return (0,
            n.jsx)(m.Provider, {
                value: L,
                children: t
            })
        }
    }
    ,
    74512: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => a
        });
        var n = i(28001)
          , l = i(97025)
          , r = i(96540);
        function a(e) {
            let {convertPrice: t, defaultServerCurrency: i, formatCurrency: a, userCurrency: o} = (0,
            n.c)();
            return (0,
            r.useCallback)( () => {
                var n;
                let r = null !== (n = (0,
                l.FG)(e)) && void 0 !== n ? n : []
                  , s = o || i;
                return r.map(e => {
                    let i = null == e ? void 0 : e.selectedHotel;
                    if (!i)
                        return {
                            total: "",
                            perNight: ""
                        };
                    let n = Number(e.endDay) - Number(e.startDay);
                    if (null == i ? void 0 : i.priceInEuros) {
                        let e = t(null == i ? void 0 : i.priceInEuros, "EUR", s)
                          , l = Math.ceil(null != e ? e : 0);
                        return {
                            total: a(l, s, 0),
                            perNight: a(l / n, s, 0)
                        }
                    }
                    return {
                        total: "",
                        perNight: ""
                    }
                }
                )
            }
            , [t, a, o, e, i])
        }
    }
    ,
    15829: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => p,
            t: () => u
        });
        var n = i(28001)
          , l = i(96540)
          , r = i(97025)
          , a = i(67154)
          , o = i(53670)
          , s = i(71975)
          , d = i(40532);
        async function c(e, t, i) {
            var n, l, r, a, o, s, c, u, p, v, _, m, h, g, f;
            if (!e.hotelSearchId || !(null == i ? void 0 : i.uid))
                return;
            let x = await (0,
            d.UC)("hotel_search/".concat(e.hotelSearchId))
              , y = Object.values(null !== (s = null == x ? void 0 : x.hotels) && void 0 !== s ? s : {})
              , b = null !== (c = null == e ? void 0 : null === (n = e.destination) || void 0 === n ? void 0 : n.hotelOptions) && void 0 !== c ? c : {}
              , j = y.findIndex(t => {
                var i;
                return (null == t ? void 0 : t.id) === (null === (i = e.selectedHotel) || void 0 === i ? void 0 : i.id)
            }
            )
              , w = y.findIndex(e => {
                var t;
                return (null == e ? void 0 : e.id) === (null == b ? void 0 : null === (t = b.budget) || void 0 === t ? void 0 : t.id)
            }
            )
              , A = y.findIndex(e => {
                var t;
                return (null == e ? void 0 : e.id) === (null == b ? void 0 : null === (t = b.recommended) || void 0 === t ? void 0 : t.id)
            }
            )
              , I = y.findIndex(e => {
                var t;
                return (null == e ? void 0 : e.id) === (null == b ? void 0 : null === (t = b.luxury) || void 0 === t ? void 0 : t.id)
            }
            )
              , C = !!(null === (l = y[j]) || void 0 === l ? void 0 : l.relevance)
              , N = !!(null === (r = y[w]) || void 0 === r ? void 0 : r.relevance)
              , T = !!(null === (a = y[A]) || void 0 === a ? void 0 : a.relevance)
              , k = !!(null === (o = y[I]) || void 0 === o ? void 0 : o.relevance)
              , S = null
              , R = null
              , E = null
              , P = null;
            return y[j] && !C && (S = await t(null == e ? void 0 : e.hotelSearchId, j, 1)),
            y[w] && !N && (R = await t(null == e ? void 0 : e.hotelSearchId, w, 1)),
            y[A] && !T && (E = await t(null == e ? void 0 : e.hotelSearchId, A, 1)),
            y[I] && !k && (P = await t(null == e ? void 0 : e.hotelSearchId, I, 1)),
            {
                currentHotel: null !== (p = null !== (u = null == S ? void 0 : S.hotels[j]) && void 0 !== u ? u : y[j]) && void 0 !== p ? p : null == e ? void 0 : e.selectedHotel,
                hotelOptions: {
                    budget: null !== (_ = null !== (v = null == R ? void 0 : R.hotels[j]) && void 0 !== v ? v : y[w]) && void 0 !== _ ? _ : null == b ? void 0 : b.budget,
                    recommended: null !== (h = null !== (m = null == E ? void 0 : E.hotels[j]) && void 0 !== m ? m : y[A]) && void 0 !== h ? h : null == b ? void 0 : b.recommended,
                    luxury: null !== (f = null !== (g = null == P ? void 0 : P.hotels[j]) && void 0 !== g ? g : y[I]) && void 0 !== f ? f : null == b ? void 0 : b.luxury
                }
            }
        }
        function u(e, t) {
            let i = (0,
            r.FG)(e)
              , {user: n} = (0,
            s.A)()
              , a = (0,
            o.K7)()
              , [d,u] = (0,
            l.useState)( () => p());
            function p() {
                var e;
                return null !== (e = null == i ? void 0 : i.map(e => {
                    var t;
                    return {
                        currentHotel: e.selectedHotel,
                        suggestedHotels: null === (t = e.destination) || void 0 === t ? void 0 : t.hotelOptions,
                        hotelSearchId: e.hotelSearchId
                    }
                }
                )) && void 0 !== e ? e : []
            }
            let v = async (e, t) => {
                var i, n, l, r, o, s, d, u, p, v, _, m, h, g, f, x, y, b, j, w, A, I, C, N, T, k, S;
                let R = null === (i = e.destination) || void 0 === i ? void 0 : i.hotelOptions;
                if (!e.hotelSearchId || !(null == t ? void 0 : t.uid))
                    return {
                        currentHotel: e.selectedHotel,
                        suggestedHotels: null === (n = e.destination) || void 0 === n ? void 0 : n.hotelOptions,
                        hotelSearchId: e.hotelSearchId
                    };
                try {
                    let i = await c(e, a, t)
                      , n = {
                        budget: {
                            ...null == R ? void 0 : R.budget,
                            relevance: null == i ? void 0 : null === (l = i.hotelOptions.budget) || void 0 === l ? void 0 : l.relevance,
                            tags: null == i ? void 0 : null === (r = i.hotelOptions.budget) || void 0 === r ? void 0 : r.tags,
                            reviews: null == i ? void 0 : null === (o = i.hotelOptions.budget) || void 0 === o ? void 0 : o.reviews,
                            facilitiesIds: null == i ? void 0 : null === (s = i.hotelOptions.budget) || void 0 === s ? void 0 : s.facilitiesIds,
                            relevantFacilitiesIds: null == i ? void 0 : null === (d = i.hotelOptions.budget) || void 0 === d ? void 0 : d.relevantFacilitiesIds,
                            matchScore: null == i ? void 0 : null === (u = i.hotelOptions.budget) || void 0 === u ? void 0 : u.matchScore
                        },
                        recommended: {
                            ...null == R ? void 0 : R.recommended,
                            relevance: null == i ? void 0 : null === (p = i.hotelOptions.recommended) || void 0 === p ? void 0 : p.relevance,
                            tags: null == i ? void 0 : null === (v = i.hotelOptions.recommended) || void 0 === v ? void 0 : v.tags,
                            reviews: null == i ? void 0 : null === (_ = i.hotelOptions.recommended) || void 0 === _ ? void 0 : _.reviews,
                            facilitiesIds: null == i ? void 0 : null === (m = i.hotelOptions.recommended) || void 0 === m ? void 0 : m.facilitiesIds,
                            relevantFacilitiesIds: null == i ? void 0 : null === (h = i.hotelOptions.recommended) || void 0 === h ? void 0 : h.relevantFacilitiesIds,
                            matchScore: null == i ? void 0 : null === (g = i.hotelOptions.recommended) || void 0 === g ? void 0 : g.matchScore
                        },
                        luxury: {
                            ...null == R ? void 0 : R.luxury,
                            relevance: null == i ? void 0 : null === (f = i.hotelOptions.luxury) || void 0 === f ? void 0 : f.relevance,
                            tags: null == i ? void 0 : null === (x = i.hotelOptions.luxury) || void 0 === x ? void 0 : x.tags,
                            reviews: null == i ? void 0 : null === (y = i.hotelOptions.luxury) || void 0 === y ? void 0 : y.reviews,
                            facilitiesIds: null == i ? void 0 : null === (b = i.hotelOptions.luxury) || void 0 === b ? void 0 : b.facilitiesIds,
                            relevantFacilitiesIds: null == i ? void 0 : null === (j = i.hotelOptions.luxury) || void 0 === j ? void 0 : j.relevantFacilitiesIds,
                            matchScore: null == i ? void 0 : null === (w = i.hotelOptions.luxury) || void 0 === w ? void 0 : w.matchScore
                        }
                    };
                    return {
                        currentHotel: {
                            ...e.selectedHotel,
                            relevance: null == i ? void 0 : null === (A = i.currentHotel) || void 0 === A ? void 0 : A.relevance,
                            tags: null == i ? void 0 : null === (I = i.currentHotel) || void 0 === I ? void 0 : I.tags,
                            reviews: null == i ? void 0 : null === (C = i.currentHotel) || void 0 === C ? void 0 : C.reviews,
                            facilitiesIds: null == i ? void 0 : null === (N = i.currentHotel) || void 0 === N ? void 0 : N.facilitiesIds,
                            relevantFacilitiesIds: null == i ? void 0 : null === (T = i.currentHotel) || void 0 === T ? void 0 : T.relevantFacilitiesIds,
                            matchScore: null == i ? void 0 : null === (k = i.currentHotel) || void 0 === k ? void 0 : k.matchScore
                        },
                        suggestedHotels: n,
                        hotelSearchId: null == e ? void 0 : e.hotelSearchId
                    }
                } catch (t) {
                    return console.error("Error fetching relevance for leg ".concat(e.location, ":"), t),
                    {
                        currentHotel: null == e ? void 0 : e.selectedHotel,
                        suggestedHotels: null === (S = e.destination) || void 0 === S ? void 0 : S.hotelOptions,
                        hotelSearchId: null == e ? void 0 : e.hotelSearchId
                    }
                }
            }
            ;
            return (0,
            l.useEffect)( () => {
                u(p())
            }
            , [null == e ? void 0 : e.legs]),
            (0,
            l.useEffect)( () => {
                var i;
                if (!(null == e ? void 0 : e.legs) || !t || !t.hotelSearchId)
                    return;
                let l = d.find(e => e.hotelSearchId === t.hotelSearchId);
                null != l && null !== (i = l.currentHotel) && void 0 !== i && i.relevance || v(t, n).then(e => u(t => t.map(t => t.hotelSearchId === e.hotelSearchId ? e : t)))
            }
            , [null == e ? void 0 : e.legs, t, n]),
            {
                selectedHotels: d,
                setSelectedHotels: u
            }
        }
        function p(e) {
            let {convertPrice: t, defaultServerCurrency: i, formatCurrency: o, userCurrency: s} = (0,
            n.c)()
              , {totalPriceConverted: d} = function(e) {
                let {savedRoutes: t} = (0,
                a.y)()
                  , [i,r] = (0,
                l.useState)([])
                  , [o,s] = (0,
                l.useState)([])
                  , {convertPrice: d, defaultServerCurrency: c, formatCurrency: u, userCurrency: p} = (0,
                n.c)();
                return (0,
                l.useEffect)( () => {
                    if (t) {
                        let e = []
                          , i = [];
                        null == t || t.forEach(t => {
                            var n, l, r, a;
                            let o = null == t ? void 0 : null === (l = t.option) || void 0 === l ? void 0 : null === (n = l.find(e => e.details)) || void 0 === n ? void 0 : n.details;
                            if (o) {
                                let t = null != p ? p : c
                                  , n = null !== (a = d(null !== (r = o.priceInEuros) && void 0 !== r ? r : 0, "EUR", t)) && void 0 !== a ? a : 0
                                  , l = u(n, p, 0, !0);
                                i.push(n),
                                e.push(l)
                            } else
                                i.push(0),
                                e.push("0")
                        }
                        ),
                        r(e),
                        s(i)
                    }
                }
                , [p, e, d, u, t]),
                {
                    formattedPrices: i,
                    convertedPrices: o,
                    totalPriceConverted: o.reduce( (e, t) => e + t, 0)
                }
            }(e)
              , [c,u] = (0,
            l.useState)(e)
              , p = (0,
            r.FG)(e)
              , {tripActivities: v, selectedHotels: _} = (0,
            a.y)()
              , m = e => {
                var n;
                let l = {
                    ...e,
                    legs: null == p ? void 0 : p.map( (e, t) => {
                        var i, n, l, r;
                        let a = null == v ? void 0 : null === (i = v[t]) || void 0 === i ? void 0 : i.flat();
                        return {
                            ...e,
                            selectedHotel: null !== (r = null == _ ? void 0 : null === (n = _[t]) || void 0 === n ? void 0 : n.currentHotel) && void 0 !== r ? r : e.selectedHotel,
                            selectedActivities: null != a ? a : null == e ? void 0 : null === (l = e.selectedActivities) || void 0 === l ? void 0 : l.map(e => ({
                                ...e
                            }))
                        }
                    }
                    )
                }
                  , r = s || i
                  , a = 0;
                l.legs = null === (n = l.legs) || void 0 === n ? void 0 : n.map(e => {
                    var i, n, l;
                    let s = {
                        ...e
                    }
                      , {selectedHotel: d, airportTransfers: c} = s;
                    if (c && c.length > 0 && !s.skipAirportTransfer && c.forEach(e => {
                        var i, n;
                        let l = null !== (n = t(null !== (i = null == e ? void 0 : e.priceInEurosPerPerson) && void 0 !== i ? i : 0, "EUR", r)) && void 0 !== n ? n : 0;
                        a += Math.ceil(null != l ? l : 0)
                    }
                    ),
                    null == d ? void 0 : d.priceInEuros) {
                        let e = Math.round(null !== (l = t(null !== (n = null == d ? void 0 : d.priceInEuros) && void 0 !== n ? n : 0, "EUR", r)) && void 0 !== l ? l : 0)
                          , i = o(e, r, 0);
                        s.selectedHotel.convertedPrice = e,
                        s.selectedHotel.formattedPrice = i,
                        s.selectedHotel.userSelected = !0,
                        a += e
                    }
                    return s.selectedActivities = null === (i = s.selectedActivities) || void 0 === i ? void 0 : i.map(e => {
                        var i, n, l, s;
                        if (!e)
                            return e;
                        let d = null !== (n = t(null !== (i = null == e ? void 0 : e.priceInEurosPerPerson) && void 0 !== i ? i : 0, "EUR", r)) && void 0 !== n ? n : 0
                          , c = o(d, r, 0)
                          , u = Math.ceil(d)
                          , p = null !== (s = t(null !== (l = null == e ? void 0 : e.priceInEurosPerPerson) && void 0 !== l ? l : 0, "EUR", r)) && void 0 !== s ? s : 0
                          , v = o(null != p ? p : 0, r, 0)
                          , _ = Math.ceil(null != p ? p : 0);
                        return a += _,
                        {
                            ...e,
                            convertedPricePerPerson: u,
                            formattedPricePerPerson: c,
                            convertedPrice: _,
                            formattedPrice: v,
                            userSelected: !0
                        }
                    }
                    ),
                    s
                }
                );
                let c = o(a += d, r, 0)
                  , m = {
                    ...l,
                    convertedTotalPrice: a,
                    formattedTotalPrice: c,
                    formattedTotalPriceWithDiscount: void 0
                };
                return u(m),
                m
            }
            ;
            return (0,
            l.useEffect)( () => {
                e && m(e)
            }
            , [t, o, e, s, d, _, v]),
            {
                formattedTrip: c,
                selectItem: (t, n, l, r) => {
                    if (!c)
                        return;
                    let a = {
                        ...e,
                        legs: c.legs.map( (e, t) => {
                            var i;
                            return {
                                ...e,
                                selectedHotel: null === (i = _[t]) || void 0 === i ? void 0 : i.currentHotel,
                                selectedActivities: e.selectedActivities ? e.selectedActivities.map(e => ({
                                    ...e
                                })) : []
                            }
                        }
                        )
                    }
                      , d = c.convertedTotalPrice
                      , p = a.legs[t];
                    if ("hotel" === n) {
                        if (p.selectedHotel) {
                            let e = p.selectedHotel.convertedPrice;
                            if (r)
                                d += e;
                            else {
                                if (d - e <= 0)
                                    return;
                                d -= e
                            }
                            p.selectedHotel.userSelected = r
                        }
                    } else if ("activity" === n && p.selectedActivities && p.selectedActivities[l]) {
                        let e = p.selectedActivities[l].convertedPrice;
                        if (r)
                            d += e;
                        else {
                            if (d - e <= 0)
                                return;
                            d -= e
                        }
                        p.selectedActivities[l].userSelected = r
                    }
                    let v = o(d, s || i, 0);
                    u({
                        ...a,
                        convertedTotalPrice: d,
                        formattedTotalPrice: v
                    })
                }
            }
        }
    }
    ,
    31413: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => u,
            w: () => c
        });
        var n = i(79640)
          , l = i(97025)
          , r = i(45552)
          , a = i(96540)
          , o = i(45648)
          , s = i(85610)
          , d = i(49502)
          , c = function(e) {
            return e.REPLACE_ACTIVITY = "replace_activity",
            e.ADD_ACTIVITY = "add_activity",
            e
        }({});
        function u(e, t) {
            var i, c;
            let u = (0,
            o.re)()
              , p = null == e ? void 0 : e.id
              , v = null == e ? void 0 : e.travelers
              , {chat: _, addTripToChat: m} = (0,
            n.Y)()
              , [h,g] = (0,
            a.useState)(null)
              , [f,x] = (0,
            a.useState)(null)
              , [y,b] = (0,
            a.useState)({
                selectedActivity: null,
                dayIndex: null,
                openModalReason: null,
                activityDetail: null,
                formattedDate: null
            })
              , j = (0,
            l.FG)(e);
            (0,
            a.useLayoutEffect)( () => {
                if (!j || !e)
                    return;
                let t = e.version === r.sG.V2;
                g(j.map(e => {
                    var i, n;
                    return t ? (null === (i = e.days) || void 0 === i ? void 0 : i.map(e => e.items && 0 !== e.items.length ? e.items.filter(e => e.type === r.Mr.ACTIVITY).map(e => ({
                        ...e,
                        type: r.Mr.ACTIVITY,
                        webUrl: u(e.webUrl)
                    })) : [])) || [] : null === (n = e.itinerary) || void 0 === n ? void 0 : n.map(t => {
                        var i;
                        if (!(null == t ? void 0 : t.description) && !(null == t ? void 0 : t.note))
                            return [];
                        let n = e.selectedActivities
                          , l = (0,
                        s.M4)(t.description)
                          , a = (0,
                        s.M4)(t.note);
                        return null !== (i = null == n ? void 0 : n.filter(e => [...l, ...a].includes(String(e.id))).map(e => ({
                            ...e,
                            type: r.Mr.ACTIVITY,
                            webUrl: u(e.webUrl)
                        }))) && void 0 !== i ? i : []
                    }
                    )
                }
                ).map(e => {
                    var t;
                    return null !== (t = null == e ? void 0 : e.map(e => null != e ? e : [])) && void 0 !== t ? t : []
                }
                ))
            }
            , [e]),
            (0,
            a.useLayoutEffect)( () => {
                if (!j || !e)
                    return;
                let t = e.version === r.sG.V2;
                x(j.map(e => {
                    var i, n;
                    return t ? (null === (i = e.days) || void 0 === i ? void 0 : i.map(e => e.items && 0 !== e.items.length ? e.items.filter(e => e.type === r.Mr.ATTRACTION).map(e => ({
                        ...e,
                        numberOfTravelers: v.length,
                        tripId: p,
                        webUrl: u(e.webUrl || "")
                    })) : [])) || [] : null === (n = e.itinerary) || void 0 === n ? void 0 : n.map(t => {
                        var i, n;
                        if (!(null == t ? void 0 : t.description) && !(null == t ? void 0 : t.note))
                            return [];
                        if (null === (i = e.selectedAttractions) || void 0 === i ? void 0 : i.length) {
                            let i = (0,
                            s.M4)(t.description)
                              , n = (0,
                            s.M4)(t.note);
                            return (0,
                            d.ab)(e.selectedAttractions.filter(e => [...i, ...n].includes(String(e.id)))).map(e => ({
                                ...e,
                                numberOfTravelers: v.length,
                                tripId: p,
                                webUrl: u(e.webUrl || "")
                            }))
                        }
                        return (null === (n = e.attractions) || void 0 === n ? void 0 : n.length) ? (0,
                        d.Zl)(t.description, e.attractions).map(e => ({
                            ...e,
                            type: r.Mr.ATTRACTION,
                            numberOfTravelers: v.length,
                            tripId: p,
                            webUrl: u(e.webUrl || "")
                        })) : []
                    }
                    )
                }
                ).map(e => {
                    var t;
                    return null !== (t = null == e ? void 0 : e.map(e => null != e ? e : [])) && void 0 !== t ? t : []
                }
                ))
            }
            , [e]);
            let w = (0,
            a.useCallback)( () => {
                b({
                    selectedActivity: null,
                    openModalReason: null,
                    dayIndex: null,
                    activityDetail: null,
                    formattedDate: null
                })
            }
            , [])
              , A = (0,
            a.useCallback)( (t, i) => {
                var n, l, a, o;
                let s = e.legs[t];
                if (!s)
                    return -1;
                if (e.version === r.sG.V2) {
                    let {dayIndex: e} = y;
                    if (null !== e && s.days && s.days[e])
                        return s.days[e].items.findIndex(e => e.id && e.id.toString() === i.toString());
                    for (let e = 0; e < ((null === (l = s.days) || void 0 === l ? void 0 : l.length) || 0); e++) {
                        let t = ((null === (o = s.days) || void 0 === o ? void 0 : null === (a = o[e]) || void 0 === a ? void 0 : a.items) || []).findIndex(e => e.id && e.id.toString() === i.toString());
                        if (-1 !== t)
                            return t
                    }
                    return -1
                }
                if (null === (n = s.selectedActivities) || void 0 === n ? void 0 : n.length)
                    return s.selectedActivities.findIndex(e => e.id.toString() === i.toString());
                let d = j.findIndex(e => e === s);
                return h && h[d] ? h[d].flat().findIndex(e => e.id.toString() === i.toString()) : -1
            }
            , [e, y, h, j])
              , I = (0,
            a.useCallback)(async (i, n) => {
                let l;
                if (!e) {
                    console.warn("Trip is null, cannot remove activity");
                    return
                }
                let a = A(i, n);
                if (-1 === a) {
                    console.warn("Activity not found in leg data:", n);
                    return
                }
                if (e.version === r.sG.V2) {
                    let {dayIndex: t} = y;
                    if (null === t) {
                        var o, s, d;
                        let l = e.legs[i];
                        for (let e = 0; e < ((null === (o = l.days) || void 0 === o ? void 0 : o.length) || 0); e++)
                            if (((null === (d = l.days) || void 0 === d ? void 0 : null === (s = d[e]) || void 0 === s ? void 0 : s.items) || []).find(e => !!e.id && e.id.toString() === n.toString())) {
                                t = e;
                                break
                            }
                        if (null === t) {
                            console.warn("Could not find activity in any day of the trip");
                            return
                        }
                    }
                    l = {
                        key: "legs.".concat(i, ".days.").concat(t, ".items"),
                        value: "mutation",
                        metadata: {
                            action: "remove",
                            itemIndex: a,
                            id: n.toString(),
                            type: "activity"
                        }
                    }
                } else
                    l = {
                        key: "legs.".concat(i, ".selectedActivities.").concat(a, ".id"),
                        value: null
                    };
                t(),
                m(p, l),
                w()
            }
            , [y, null == _ ? void 0 : _.id, w, A, t, m, e, p])
              , C = (0,
            a.useMemo)( () => Array.isArray(h) ? h.map(e => Array.isArray(e) ? e.map(e => Array.isArray(e) ? e.map(e => ({
                ...e,
                webUrl: u(e.webUrl)
            })) : []) : []) : [], [h, u])
              , N = (0,
            a.useCallback)(t => {
                var i;
                if (!t)
                    return [];
                if (e.version === r.sG.V2) {
                    let e = j.findIndex(e => e === t);
                    if (-1 === e)
                        return [];
                    let i = j[e];
                    if (!i.days)
                        return [];
                    let n = [];
                    return i.days.forEach(e => {
                        var t;
                        null === (t = e.items) || void 0 === t || t.forEach(e => {
                            e.type === r.Mr.ACTIVITY && e.id && e.name && n.push(e)
                        }
                        )
                    }
                    ),
                    n
                }
                if (!C)
                    return [];
                if (void 0 !== t.selectedActivities)
                    return t.selectedActivities;
                let n = j.findIndex(e => e === t);
                return -1 === n ? [] : (null === (i = C[n]) || void 0 === i ? void 0 : i.flat()) || []
            }
            , [e, C, j])
              , T = (0,
            a.useCallback)( (t, i, n) => {
                var l;
                if (!t)
                    return;
                let r = e.legs[i]
                  , a = N(r).some(e => e.id === t.id)
                  , o = j.findIndex(e => e === r)
                  , s = null !== (l = y.dayIndex) && void 0 !== l ? l : null == h ? void 0 : h[o].findIndex(e => e.some(e => e.id === t.id));
                g(e => e ? e.map( (e, i) => i !== o ? e : e.map( (e, i) => {
                    if (i !== s)
                        return e;
                    if (a)
                        return e.filter(e => e.id !== t.id);
                    let l = {
                        ...t,
                        numberOfTravelers: v.length,
                        tripId: p
                    };
                    return "replace_activity" === n ? e.map(e => {
                        var t;
                        return e.id === (null === (t = y.selectedActivity) || void 0 === t ? void 0 : t.id) ? l : e
                    }
                    ) : [...e, l]
                }
                )) : null)
            }
            , [null == e ? void 0 : e.legs, N, j, y.dayIndex, null === (i = y.selectedActivity) || void 0 === i ? void 0 : i.id, h, null == v ? void 0 : v.length, p])
              , k = (0,
            a.useCallback)(async (i, n, l) => {
                var a, o, s, d, c, u, v, _;
                let {openModalReason: h, dayIndex: g} = y;
                if ((null == i ? void 0 : i.id) && -1 !== A(l, i.id)) {
                    T(i, l, h),
                    I(l, i.id);
                    return
                }
                if ("replace_activity" === h && null !== g) {
                    let n;
                    let d = y.selectedActivity;
                    if (!(null == d ? void 0 : d.id)) {
                        console.error("No selected activity ID found");
                        return
                    }
                    let c = A(l, d.id);
                    if (-1 === c) {
                        console.error("Activity not found in leg");
                        return
                    }
                    if (!e) {
                        console.error("Trip is null, cannot replace activity");
                        return
                    }
                    n = e.version === r.sG.V2 ? {
                        key: "legs.".concat(l, ".days.").concat(g, ".items"),
                        value: "mutation",
                        metadata: {
                            action: "replace",
                            itemIndex: c,
                            id: null !== (o = null == i ? void 0 : null === (a = i.id) || void 0 === a ? void 0 : a.toString()) && void 0 !== o ? o : "",
                            type: "activity"
                        }
                    } : {
                        key: "legs.".concat(l, ".selectedActivities.").concat(c, ".id"),
                        value: null !== (s = null == i ? void 0 : i.id) && void 0 !== s ? s : null,
                        metadata: {
                            dayIndex: null != g ? g : null
                        }
                    },
                    T(i, l, h),
                    t(),
                    m(p, n),
                    w()
                } else if ("add_activity" === h && null !== g) {
                    let a;
                    if (!e) {
                        console.error("Trip is null, cannot add activity");
                        return
                    }
                    if (e.version === r.sG.V2) {
                        let t = ((null === (c = e.legs[l].days) || void 0 === c ? void 0 : null === (d = c[g]) || void 0 === d ? void 0 : d.items) || []).length;
                        a = {
                            key: "legs.".concat(l, ".days.").concat(g, ".items"),
                            value: "mutation",
                            metadata: {
                                action: "add",
                                itemIndex: t,
                                id: null !== (v = null == i ? void 0 : null === (u = i.id) || void 0 === u ? void 0 : u.toString()) && void 0 !== v ? v : "",
                                type: "activity"
                            }
                        }
                    } else {
                        let e = N(n).length;
                        a = {
                            key: "legs.".concat(l, ".selectedActivities.").concat(e + 1, ".id"),
                            value: null !== (_ = null == i ? void 0 : i.id) && void 0 !== _ ? _ : null,
                            metadata: {
                                dayIndex: g
                            }
                        }
                    }
                    T(i, l, h),
                    t(),
                    m(p, a),
                    w()
                }
            }
            , [y, A, T, I, p, t, m, null == _ ? void 0 : _.id, w, N])
              , S = (0,
            a.useCallback)( (t, i) => {
                var n, l, a, o;
                let s = e.legs[t];
                if (!s)
                    return -1;
                if (e.version === r.sG.V2) {
                    let {dayIndex: e} = y;
                    if (null !== e && s.days && s.days[e])
                        return s.days[e].items.findIndex(e => (e.type === r.VY.ATTRACTION || e.type === r.Mr.ATTRACTION) && e.id && e.id.toString() === i.toString());
                    for (let e = 0; e < ((null === (l = s.days) || void 0 === l ? void 0 : l.length) || 0); e++) {
                        let t = ((null === (o = s.days) || void 0 === o ? void 0 : null === (a = o[e]) || void 0 === a ? void 0 : a.items) || []).findIndex(e => (e.type === r.VY.ATTRACTION || e.type === r.Mr.ATTRACTION) && e.id && e.id.toString() === i.toString());
                        if (-1 !== t)
                            return t
                    }
                    return -1
                }
                if (null === (n = s.selectedAttractions) || void 0 === n ? void 0 : n.length)
                    return s.selectedAttractions.findIndex(e => e.id.toString() === i.toString());
                let d = j.findIndex(e => e === s);
                return f && f[d] ? f[d].flat().findIndex(e => e.id.toString() === i.toString()) : -1
            }
            , [e, y, f, j])
              , R = (0,
            a.useCallback)(async (i, n) => {
                let l;
                let a = S(i, n);
                if (-1 === a) {
                    console.warn("Attraction not found in leg data:", n);
                    return
                }
                if (e.version === r.sG.V2) {
                    var o, s, d;
                    let t = null
                      , c = e.legs[i];
                    for (let e = 0; e < ((null === (o = c.days) || void 0 === o ? void 0 : o.length) || 0); e++)
                        if (((null === (d = c.days) || void 0 === d ? void 0 : null === (s = d[e]) || void 0 === s ? void 0 : s.items) || []).find(e => (e.type === r.VY.ATTRACTION || e.type === r.Mr.ATTRACTION) && e.id && e.id.toString() === n.toString())) {
                            t = e;
                            break
                        }
                    if (null === t) {
                        console.warn("Could not find attraction in any day of the trip");
                        return
                    }
                    l = {
                        key: "legs.".concat(i, ".days.").concat(t, ".items"),
                        value: "mutation",
                        metadata: {
                            action: "remove",
                            itemIndex: a,
                            id: n.toString(),
                            type: "attraction"
                        }
                    }
                } else
                    l = {
                        key: "legs.".concat(i, ".selectedAttractions.").concat(a, ".id"),
                        value: null
                    };
                t(),
                m(p, l),
                w()
            }
            , [null == _ ? void 0 : _.id, w, S, t, m, null == e ? void 0 : e.legs, p])
              , E = (0,
            a.useMemo)( () => Array.isArray(f) ? f.map(e => Array.isArray(e) ? e.map(e => Array.isArray(e) ? e.map(e => ({
                ...e,
                webUrl: u(e.webUrl)
            })) : []) : []) : [], [f, u])
              , P = (0,
            a.useCallback)(t => {
                var i;
                if (!t)
                    return [];
                if (e.version === r.sG.V2) {
                    let e = j.findIndex(e => e === t);
                    if (-1 === e)
                        return [];
                    let i = j[e];
                    if (!i.days)
                        return [];
                    let n = [];
                    return i.days.forEach(e => {
                        var t;
                        null === (t = e.items) || void 0 === t || t.forEach(e => {
                            (e.type === r.VY.ATTRACTION || e.type === r.Mr.ATTRACTION) && e.id && e.name && n.push(e)
                        }
                        )
                    }
                    ),
                    (0,
                    d.ab)(n)
                }
                if (!E)
                    return [];
                if (void 0 !== t.selectedAttractions)
                    return (0,
                    d.ab)(t.selectedAttractions);
                let n = j.findIndex(e => e === t);
                return -1 === n ? [] : (null === (i = E[n]) || void 0 === i ? void 0 : i.flat()) || []
            }
            , [e, E, j])
              , D = (0,
            a.useCallback)( (t, i, n) => {
                var l;
                if (!t)
                    return;
                let r = e.legs[i]
                  , a = P(r).some(e => e.id === t.id)
                  , o = j.findIndex(e => e === r)
                  , s = null !== (l = y.dayIndex) && void 0 !== l ? l : null == f ? void 0 : f[o].findIndex(e => e.some(e => e.id === t.id));
                x(e => e ? e.map( (e, i) => i !== o ? e : e.map( (e, i) => {
                    if (i !== s)
                        return e;
                    if (a)
                        return e.filter(e => e.id !== t.id);
                    let l = {
                        ...t,
                        numberOfTravelers: v.length,
                        tripId: p
                    };
                    return "replace_activity" === n ? e.map(e => {
                        var t;
                        return e.id === (null === (t = y.selectedActivity) || void 0 === t ? void 0 : t.id) ? l : e
                    }
                    ) : [...e, l]
                }
                )) : null)
            }
            , [null == e ? void 0 : e.legs, P, j, y.dayIndex, null === (c = y.selectedActivity) || void 0 === c ? void 0 : c.id, f, null == v ? void 0 : v.length, p]);
            return {
                handleEditActivity: k,
                removeActivity: I,
                handleEditAttraction: (0,
                a.useCallback)(async (i, n, l) => {
                    var a, o, s, d, c, u, v, _;
                    let {openModalReason: h, dayIndex: g} = y;
                    if ((null == i ? void 0 : i.id) && -1 !== S(l, i.id)) {
                        D(i, l, h),
                        R(l, i.id);
                        return
                    }
                    if ("replace_activity" === h && null !== g) {
                        let n;
                        let d = y.selectedActivity;
                        if (!(null == d ? void 0 : d.id)) {
                            console.error("No selected attraction ID found");
                            return
                        }
                        let c = S(l, d.id);
                        if (-1 === c) {
                            console.error("Attraction not found in leg");
                            return
                        }
                        n = e.version === r.sG.V2 ? {
                            key: "legs.".concat(l, ".days.").concat(g, ".items"),
                            value: "mutation",
                            metadata: {
                                action: "replace",
                                itemIndex: c,
                                id: null !== (o = null == i ? void 0 : null === (a = i.id) || void 0 === a ? void 0 : a.toString()) && void 0 !== o ? o : "",
                                type: "attraction"
                            }
                        } : {
                            key: "legs.".concat(l, ".selectedAttractions.").concat(c, ".id"),
                            value: null !== (s = null == i ? void 0 : i.id) && void 0 !== s ? s : null,
                            metadata: {
                                dayIndex: null != g ? g : null
                            }
                        },
                        D(i, l, h),
                        t(),
                        m(p, n),
                        w()
                    } else if ("add_activity" === h && null !== g) {
                        let a;
                        if (e.version === r.sG.V2) {
                            let t = ((null === (c = e.legs[l].days) || void 0 === c ? void 0 : null === (d = c[g]) || void 0 === d ? void 0 : d.items) || []).length;
                            a = {
                                key: "legs.".concat(l, ".days.").concat(g, ".items"),
                                value: "mutation",
                                metadata: {
                                    action: "add",
                                    itemIndex: t,
                                    id: null !== (v = null == i ? void 0 : null === (u = i.id) || void 0 === u ? void 0 : u.toString()) && void 0 !== v ? v : "",
                                    type: "attraction"
                                }
                            }
                        } else {
                            let e = P(n).length;
                            a = {
                                key: "legs.".concat(l, ".selectedAttractions.").concat(e + 1, ".id"),
                                value: null !== (_ = null == i ? void 0 : i.id) && void 0 !== _ ? _ : null,
                                metadata: {
                                    dayIndex: g
                                }
                            }
                        }
                        D(i, l, h),
                        t(),
                        m(p, a),
                        w()
                    }
                }
                , [y, S, D, R, p, t, m, null == _ ? void 0 : _.id, w, P]),
                removeAttraction: R,
                clearAlternateActivitiesState: w,
                alternateActivitiesState: y,
                setAlternateActivitiesState: b,
                tripActivities: C,
                setTripActivities: g,
                tripAttractions: E,
                setTripAttractions: x,
                getSelectedActivitiesPerLeg: N,
                getSelectedAttractionsPerLeg: P,
                canEditAttractions: (0,
                a.useMemo)( () => !!e && (e.version === r.sG.V2 ? j.some(e => {
                    var t;
                    return null === (t = e.days) || void 0 === t ? void 0 : t.some(e => {
                        var t;
                        return null === (t = e.items) || void 0 === t ? void 0 : t.some(e => e.type === r.VY.ATTRACTION || e.type === r.Mr.ATTRACTION)
                    }
                    )
                }
                ) : j.every(e => void 0 !== e.selectedAttractions)), [e, j])
            }
        }
    }
    ,
    99621: (e, t, i) => {
        "use strict";
        i.d(t, {
            U: () => l
        });
        var n = i(96540);
        let l = () => {
            let[e,t] = (0,
            n.useState)(!1)
              , [i,l] = (0,
            n.useState)(null)
              , r = (0,
            n.useCallback)(i => {
                i.stopPropagation(),
                e ? (t(!1),
                l(null)) : (l(i.currentTarget),
                t(!0))
            }
            , [e]);
            return {
                showPopup: e,
                anchorEl: i,
                handleButtonClick: r,
                handleClosePopup: (0,
                n.useCallback)( () => {
                    t(!1),
                    l(null)
                }
                , [])
            }
        }
    }
    ,
    65018: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => l
        });
        var n = i(28001);
        function l(e, t, i, l) {
            let {convertPrice: r, defaultServerCurrency: a, formatCurrency: o, userCurrency: s} = (0,
            n.c)()
              , d = e ? r(e, t || a, s) : null
              , c = d ? o(null != d ? d : 0, s, void 0 !== i ? i : void 0, l) : null;
            return {
                convertedPrice: d,
                formattedPrice: c
            }
        }
    }
    ,
    20901: (e, t, i) => {
        "use strict";
        i.d(t, {
            u: () => o
        });
        var n = i(96540)
          , l = i(86715);
        let r = (e, t, i, l, r) => {
            let[a,o] = (0,
            n.useState)(0)
              , [s,d] = (0,
            n.useState)(0)
              , [c,u] = (0,
            n.useState)("");
            return (0,
            n.useEffect)( () => {
                if (!r) {
                    o(0),
                    d(0),
                    u(""),
                    l.current && (l.current.placeholder = "");
                    return
                }
                if (r && a < e.length && l.current) {
                    let n = e[a];
                    if (s < n.length) {
                        let e = setTimeout( () => {
                            let e = n.slice(0, s + 1);
                            l.current && (l.current.placeholder = e,
                            u(e)),
                            d(s + 1)
                        }
                        , t);
                        return () => clearTimeout(e)
                    }
                    {
                        let e = setTimeout( () => {
                            l.current.placeholder = "",
                            u(""),
                            d(0),
                            o(a + 1)
                        }
                        , i);
                        return () => clearTimeout(e)
                    }
                }
                if (a >= e.length && r) {
                    let e = setTimeout( () => {
                        o(0)
                    }
                    , i);
                    return () => clearTimeout(e)
                }
            }
            , [s, a, e, t, i, l, r]),
            c
        }
        ;
        var a = i(98935);
        function o(e) {
            let {buildQuery: t, executeSearch: i, searchParams: o, typingSequence: s, enableTypingAnimation: d=!0, onSearchResult: c, onLoadingChange: u, initialValue: p=""} = e
              , {locale: v} = (0,
            l.useRouter)()
              , {tAsString: _} = (0,
            a.Ay)()
              , m = v || "en"
              , [h,g] = (0,
            n.useState)(p)
              , [f,x] = (0,
            n.useState)(!1)
              , [y,b] = (0,
            n.useState)("")
              , [j,w] = (0,
            n.useState)(!1);
            (0,
            n.useEffect)( () => {
                !p || h || j || g(p)
            }
            , [p, h, j]);
            let A = (0,
            n.useRef)(null)
              , I = r((0,
            n.useMemo)( () => s, [s]), 60, 1500, A, d && !h)
              , C = (0,
            n.useCallback)(e => {
                g(e.currentTarget.value),
                w(!0)
            }
            , [])
              , N = (0,
            n.useCallback)(async n => {
                let l = n || h.trim();
                if (l && l !== y) {
                    b(l);
                    try {
                        x(!0),
                        null == u || u(!0);
                        let e = t(l, o, _, m)
                          , n = await i(e);
                        n && (null == c || c(n, l))
                    } catch (t) {
                        console.error("".concat(e.searchType, " search error:"), t)
                    } finally {
                        x(!1),
                        null == u || u(!1)
                    }
                }
            }
            , [h, y, t, o, i, c, u, e.searchType, m, _])
              , T = (0,
            n.useCallback)(e => {
                f || "Enter" !== e.key || e.shiftKey || (e.preventDefault(),
                N())
            }
            , [f, N]);
            return {
                inputValue: h,
                isLoading: f,
                handleInputChange: C,
                handleKeyDown: T,
                executeSearch: N,
                inputRef: A,
                placeholder: I,
                clearInput: (0,
                n.useCallback)( () => {
                    g("")
                }
                , []),
                setInputValue: g
            }
        }
    }
    ,
    62790: (e, t, i) => {
        "use strict";
        i.d(t, {
            F: () => a,
            v: () => r
        });
        var n = i(96540)
          , l = i(28001);
        function r(e, t) {
            let {convertPrice: i, defaultServerCurrency: r, formatCurrency: a, userCurrency: o} = (0,
            l.c)()
              , s = t => {
                let n = o || r
                  , l = e.numberOfDays
                  , s = null == t ? void 0 : t.priceInEuros;
                if (s) {
                    var d;
                    let e = "EUR" !== n ? i(s, "EUR", n) : s
                      , t = Math.floor(null != e ? e : 0);
                    return t ? {
                        formattedPrice: a(t, n, 0),
                        formattedPricePerNight: null !== (d = a(t / l, n, 0)) && void 0 !== d ? d : ""
                    } : {
                        formattedPrice: "",
                        formattedPricePerNight: ""
                    }
                }
                return {
                    formattedPrice: "",
                    formattedPricePerNight: ""
                }
            }
            ;
            return function(t) {
                let l = null == e ? void 0 : e.alternativeHotels
                  , [r,d] = (0,
                n.useState)("")
                  , [c,u] = (0,
                n.useState)("")
                  , [p,v] = (0,
                n.useState)(null);
                return (0,
                n.useEffect)( () => {
                    let {formattedPrice: e, formattedPricePerNight: i} = s(t);
                    d(e),
                    u(i),
                    null == l || l.forEach(e => {
                        let {formattedPrice: t, formattedPricePerNight: i} = s(e);
                        v({
                            ...p,
                            [e.id]: {
                                pricePerNight: i,
                                fullPrice: t
                            }
                        })
                    }
                    )
                }
                , [i, a, o, t, l]),
                {
                    currentHotelFullPrice: r,
                    currentHotelPricePerNight: c,
                    alternativeHotelsPrices: p
                }
            }(t)
        }
        function a(e, t) {
            let {convertPrice: i, formatCurrency: r, userCurrency: a, defaultUserCurrency: o} = (0,
            l.c)()
              , [s,d] = (0,
            n.useState)("")
              , [c,u] = (0,
            n.useState)("");
            (0,
            n.useEffect)( () => {
                if (!t)
                    return;
                let {formattedPrice: e, formattedPricePerNight: i} = p(t);
                d(e),
                u(i)
            }
            , [i, r, a, t]);
            let p = t => {
                let n = a || o
                  , l = e.numberOfDays
                  , s = null == t ? void 0 : t.priceInEurosPerPerson;
                if (s) {
                    var d;
                    let e = "EUR" !== n ? i(s, "EUR", n) : s
                      , t = Math.floor(null != e ? e : 0);
                    return t ? {
                        formattedPrice: r(t, n, 0, !0),
                        formattedPricePerNight: null !== (d = r(t / l, n, 0, !0)) && void 0 !== d ? d : ""
                    } : {
                        formattedPrice: "",
                        formattedPricePerNight: ""
                    }
                }
                return {
                    formattedPrice: "",
                    formattedPricePerNight: ""
                }
            }
            ;
            return {
                formattedPrice: s,
                formattedPricePerNight: c
            }
        }
    }
    ,
    8350: (e, t, i) => {
        "use strict";
        i.d(t, {
            I: () => l,
            n: () => n
        });
        var n = function(e) {
            return e.TRIP = "trip",
            e.ITINERARY = "itinerary",
            e.DESTINATION = "destination",
            e.ACTIVITY = "activity",
            e.ATTRACTION = "attraction",
            e.HOTEL = "hotel",
            e.CAR_RENTAL = "car_rental",
            e
        }({})
          , l = function(e) {
            return e.TRIP = "Trip",
            e.ITINERARY = "Itinerary",
            e.DESTINATION = "Destination",
            e.HOTEL = "Hotel",
            e.CAR_RENTAL = "CarRental",
            e.ACTIVITY = "Activity",
            e.ATTRACTION = "Attraction",
            e.VIDEO = "Video",
            e.FLIGHT_CALENDAR = "FlightCalendar",
            e.MESSAGE = "Message",
            e
        }({})
    }
    ,
    45648: (e, t, i) => {
        "use strict";
        i.d(t, {
            D0: () => p,
            Tz: () => _,
            Wl: () => u,
            re: () => v
        });
        var n = i(71975)
          , l = i(22472)
          , r = i(25508)
          , a = i(28001)
          , o = i(5104)
          , s = i(80731)
          , d = i(49502)
          , c = i(20285);
        let u = (e, t, i, n) => {
            var l, r, a, o;
            let s = null !== (o = null !== (a = null == i ? void 0 : null === (l = i.destination) || void 0 === l ? void 0 : l.parentCity) && void 0 !== a ? a : null == i ? void 0 : null === (r = i.destination) || void 0 === r ? void 0 : r.city) && void 0 !== o ? o : "";
            return "".concat(e, " ").concat(n("trip.itinerary.activitiesAlternate.generatePrompt", {
                city: s,
                startDate: i.startDate,
                endDate: i.endDate
            })).trim()
        }
          , p = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            s.b)();
            return async (i, n, r) => {
                var a;
                let o = await (null === (a = l.auth.currentUser) || void 0 === a ? void 0 : a.getIdToken())
                  , s = await (0,
                d.Up)(e, i, t, r, o);
                return null == s ? void 0 : s.map(e => {
                    let {activities: t} = null != e ? e : {};
                    return t ? t.map(e => {
                        var t;
                        if ("string" == typeof e.name)
                            return e;
                        let i = n || c.Nm;
                        return {
                            ...e,
                            name: null !== (t = e.name[i]) && void 0 !== t ? t : e.name[Object.keys(e.name)[0]]
                        }
                    }
                    ) : null
                }
                ).flat()
            }
        }
          , v = () => {
            var e;
            let {pseudoUserId: t, authUserId: i} = (0,
            n.A)()
              , {userCurrency: l} = (0,
            a.c)()
              , r = null !== (e = null != i ? i : t) && void 0 !== e ? e : "";
            return e => (0,
            o.Kj)(e, {
                currency: l,
                cmp: "".concat(r),
                mkt_cmp: "true"
            })
        }
          , _ = () => {
            var e;
            let {pseudoUserId: t, authUserId: i} = (0,
            n.A)()
              , l = null !== (e = null != i ? i : t) && void 0 !== e ? e : "";
            return e => (0,
            o.Kj)(e, {
                campaign: "".concat(l)
            })
        }
    }
    ,
    49502: (e, t, i) => {
        "use strict";
        i.d(t, {
            Up: () => a,
            Zl: () => d,
            ab: () => s,
            w8: () => c
        });
        var n = i(10758)
          , l = i(45552)
          , r = i(85610);
        let a = async (e, t, i, l, r) => {
            if (!r)
                return;
            let a = "".concat(e, "/activity/ai?prompt=").concat(t);
            l && (a += "&limit=".concat(l));
            try {
                let e = await fetch(a, {
                    method: "GET",
                    headers: {
                        ...i,
                        Authorization: "Bearer ".concat(r)
                    }
                });
                if (200 === e.status)
                    return await e.json();
                await (0,
                n.oT)(e, a)
            } catch (e) {
                console.error(e)
            }
        }
        ;
        function o(e) {
            return {
                id: e.id.toString(),
                name: e.name,
                webUrl: e.url,
                rating: e.viator.averageRating,
                description: e.description,
                numberOfRatings: e.viator.totalReviews,
                numberOfReviews: e.viator.totalReviews,
                type: l.Mr.ATTRACTION,
                location: {
                    lat: e.latitude,
                    lng: e.longitude,
                    city: e.city || "",
                    place: e.street || ""
                },
                images: [e.imageUrl],
                provider: e.hasOwnProperty("viator") ? "viator" : "unknown",
                faqs: e.faqs,
                openingHours: e.openingHours,
                freeAttraction: e.freeAttraction,
                abstract: e.description,
                duration: {
                    unit: null,
                    value: 0
                },
                metadata: {
                    price: 0
                },
                priceInEurosPerPerson: 0
            }
        }
        function s(e) {
            return e.map(o)
        }
        function d(e, t) {
            let i = s(t)
              , n = (0,
            r.M4)(e);
            return null == i ? void 0 : i.filter(e => n.includes(String(e.id)))
        }
        function c(e, t) {
            if (!t || !e || !Array.isArray(e) || 0 === e.length)
                return [];
            let i = (0,
            r.M4)(t);
            return [...e].sort( (e, t) => i.indexOf(e.id) - i.indexOf(t.id))
        }
    }
    ,
    28450: (e, t, i) => {
        "use strict";
        i.d(t, {
            M: () => r,
            f: () => l
        });
        var n = i(22472);
        let l = async (e, t, i, l, r) => {
            try {
                if (!n.auth)
                    throw Error("Firebase auth is not initialized");
                if (!n.auth.currentUser)
                    throw Error("No user is currently signed in");
                let a = await n.auth.currentUser.getIdToken();
                if (!a)
                    throw Error("User not authenticated - unable to get token");
                let o = {
                    tripId: e,
                    hiddenItem: t,
                    token: a,
                    removedImageUrls: i || [],
                    removedVideoUrls: l || [],
                    ...r && {
                        existingItemId: r
                    }
                }
                  , s = await fetch("/api/trip/hidden-recommendations", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(o)
                });
                if (!s.ok) {
                    console.error("API Response Status:", s.status, s.statusText);
                    let e = "Failed to save hidden item"
                      , t = s.clone();
                    try {
                        e = (await s.json()).error || e
                    } catch (i) {
                        try {
                            let i = await t.text();
                            console.error("Non-JSON response:", i.substring(0, 500)),
                            e = "Server error: ".concat(s.status, " ").concat(s.statusText)
                        } catch (t) {
                            e = "Server error: ".concat(s.status, " ").concat(s.statusText)
                        }
                    }
                    throw Error(e)
                }
                return await s.json()
            } catch (e) {
                if (console.error("Error saving hidden item:", e),
                e instanceof TypeError && e.message.includes("Failed to fetch"))
                    throw Error("Network error: Unable to reach the server. Please check your connection.");
                if (e instanceof SyntaxError && e.message.includes("Unexpected token"))
                    throw Error("Server error: The server returned an invalid response. Please try again later.");
                throw e
            }
        }
          , r = async (e, t) => {
            try {
                if (!n.auth)
                    throw Error("Firebase auth is not initialized");
                if (!n.auth.currentUser)
                    throw Error("No user is currently signed in");
                let i = await n.auth.currentUser.getIdToken();
                if (!i)
                    throw Error("User not authenticated - unable to get token");
                let l = await fetch("/api/trip/hidden-recommendations", {
                    method: "DELETE",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        tripId: e,
                        itemId: t,
                        token: i,
                        action: "delete"
                    })
                });
                if (!l.ok) {
                    console.error("API Response Status:", l.status, l.statusText);
                    let e = "Failed to delete hidden item"
                      , t = l.clone();
                    try {
                        e = (await l.json()).error || e
                    } catch (i) {
                        try {
                            let i = await t.text();
                            console.error("Non-JSON response:", i.substring(0, 500)),
                            e = "Server error: ".concat(l.status, " ").concat(l.statusText)
                        } catch (t) {
                            e = "Server error: ".concat(l.status, " ").concat(l.statusText)
                        }
                    }
                    throw Error(e)
                }
                return await l.json()
            } catch (e) {
                if (console.error("Error deleting hidden item:", e),
                e instanceof TypeError && e.message.includes("Failed to fetch"))
                    throw Error("Network error: Unable to reach the server. Please check your connection.");
                if (e instanceof SyntaxError && e.message.includes("Unexpected token"))
                    throw Error("Server error: The server returned an invalid response. Please try again later.");
                throw e
            }
        }
    }
    ,
    38461: (e, t, i) => {
        "use strict";
        i.d(t, {
            D: () => d,
            g: () => c
        });
        var n = i(96540)
          , l = i(25508)
          , r = i(80731)
          , a = i(22472)
          , o = i(10758)
          , s = i(49502);
        let d = (e, t, i, n) => {
            var l, r, a, o, s;
            let d = null !== (s = null !== (o = null !== (a = null == i ? void 0 : null === (l = i.destination) || void 0 === l ? void 0 : l.parentCity) && void 0 !== a ? a : null == i ? void 0 : null === (r = i.destination) || void 0 === r ? void 0 : r.city) && void 0 !== o ? o : i.location.split(", ")[0]) && void 0 !== s ? s : "";
            return "".concat(e, " ").concat(n("trip.itinerary.attractionsAlternate.generatePrompt", {
                city: d,
                startDate: i.startDate,
                endDate: i.endDate
            })).trim()
        }
          , c = () => {
            let e = (0,
            l.Sm)()
              , t = (0,
            r.b)();
            return (0,
            n.useCallback)(async (i, n, l) => {
                var r, d;
                let c = await (null === (r = a.auth.currentUser) || void 0 === r ? void 0 : r.getIdToken());
                if (!c)
                    return null;
                let u = "".concat(e, "/attraction/ai?prompt=").concat(i);
                l && (u += "&limit=".concat(l));
                try {
                    let e = await fetch(u, {
                        method: "GET",
                        headers: {
                            ...t,
                            Authorization: "Bearer ".concat(c)
                        }
                    });
                    if (200 !== e.status)
                        return await (0,
                        o.oT)(e, u),
                        null;
                    {
                        let t;
                        let i = await e.json();
                        if (Array.isArray(i) && i.length > 0 && (null === (d = i[0]) || void 0 === d ? void 0 : d.attractions))
                            t = i[0].attractions;
                        else if (null == i ? void 0 : i.results)
                            t = i.results;
                        else {
                            if (!Array.isArray(i))
                                return null;
                            t = i
                        }
                        if (t && Array.isArray(t))
                            return (0,
                            s.ab)(t);
                        return null
                    }
                } catch (e) {
                    return console.error("Error fetching attractions from prompt:", e),
                    null
                }
            }
            , [e, t])
        }
    }
    ,
    9229: (e, t, i) => {
        "use strict";
        i.d(t, {
            A: () => l
        });
        var n = i(96540);
        let l = (e, t) => {
            (0,
            n.useEffect)( () => {
                if (e) {
                    e.style.height = "0px";
                    let {scrollHeight: t} = e
                      , i = Math.max(t, 40);
                    e.style.height = "".concat(i, "px")
                }
            }
            , [e, t])
        }
    }
    ,
    12674: (e, t, i) => {
        "use strict";
        i.d(t, {
            iK: () => a,
            uV: () => r
        }),
        i(51098);
        var n = i(20285);
        let l = ["ar", "ca", "cs", "da", "de", "el", "en-gb", "en-us", "es", "es-ar", "et", "fi", "fr", "hr", "hu", "id", "is", "it", "ko", "lt", "lv", "ms", "no", "pl", "pt", "pt-br", "pt-pt", "ro", "ru", "sk", "sl", "sr", "sv", "th", "tl", "uk", "vi", "zh", "zh-cn", "zh-tw"]
          , r = e => {
            let t = e.toLowerCase();
            return t === n.Nm ? "en-us" : l.includes(t) ? t : "en-us"
        }
          , a = (e, t) => {
            let i = new URL(e);
            return Object.keys(t).forEach(e => {
                i.searchParams.has(e) && i.searchParams.delete(e),
                i.searchParams.append(e, t[e])
            }
            ),
            i.toString()
        }
    }
    ,
    9433: (e, t, i) => {
        "use strict";
        i.d(t, {
            Z: () => n
        });
        let n = e => e ? e.charAt(0).toUpperCase() + e.slice(1).toLowerCase() : ""
    }
    ,
    83457: (e, t, i) => {
        "use strict";
        i.d(t, {
            B: () => o
        });
        var n = i(22472)
          , l = i(25508)
          , r = i(80731)
          , a = i(42521);
        let o = () => {
            let e = (0,
            l.Sm)()
              , t = (0,
            r.b)();
            return async (i, l) => {
                var r;
                let o = await (null === (r = n.auth.currentUser) || void 0 === r ? void 0 : r.getIdToken())
                  , s = await (0,
                a.KU)(e, o, t, i, l);
                return (null == s ? void 0 : s.carRentals) || null
            }
        }
    }
    ,
    42521: (e, t, i) => {
        "use strict";
        i.d(t, {
            BH: () => o,
            KU: () => r,
            kg: () => s
        });
        var n = i(10758)
          , l = i(72226);
        let r = async (e, t, i, r, a) => {
            let o = "".concat(e, "/car-rental/ai?prompt=").concat(r);
            a && (o += "&limit=".concat(a));
            try {
                let e = await (0,
                l.u)(o, {
                    method: "GET",
                    headers: {
                        ...i,
                        Authorization: "Bearer ".concat(t)
                    }
                });
                if (200 === e.status)
                    return await e.json();
                await (0,
                n.oT)(e, o)
            } catch (e) {
                console.error("Error fetching car rentals from prompt, error: ".concat(e, ", prompt: ").concat(r))
            }
            return null
        }
          , a = (e, t, i, n) => {
            var l, r, a, o, s, d, c, u, p, v, _;
            let m = e.legs[t]
              , h = e.legs[i];
            if (!m || !h)
                return "";
            let g = null !== (u = null !== (c = null !== (d = null == m ? void 0 : null === (l = m.destination) || void 0 === l ? void 0 : l.parentCity) && void 0 !== d ? d : null == m ? void 0 : null === (r = m.destination) || void 0 === r ? void 0 : r.city) && void 0 !== c ? c : m.location) && void 0 !== u ? u : ""
              , f = null !== (_ = null !== (v = null !== (p = null == h ? void 0 : null === (a = h.destination) || void 0 === a ? void 0 : a.parentCity) && void 0 !== p ? p : null == h ? void 0 : null === (o = h.destination) || void 0 === o ? void 0 : o.city) && void 0 !== v ? v : h.location) && void 0 !== _ ? _ : "";
            return n("trip.carRental.generatePrompt", {
                pickupLocation: g,
                dropoffLocation: f,
                pickupDate: m.startDate,
                dropoffDate: h.endDate,
                travelers: (null === (s = e.travelers) || void 0 === s ? void 0 : s.length) || 1
            })
        }
          , o = (e, t) => {
            if (!e.carRental)
                return "";
            let {pickUpLegIndex: i, dropOffLegIndex: n} = e.carRental;
            return a(e, i, n, t)
        }
          , s = (e, t, i, n, l) => {
            var r;
            let a = (null === (r = e.travelers) || void 0 === r ? void 0 : r.length) || 1;
            return n("trip.carRental.generatePrompt", {
                pickupLocation: t,
                dropoffLocation: i,
                pickupDate: l || e.startDate,
                dropoffDate: e.endDate,
                travelers: a
            })
        }
    }
    ,
    99558: (e, t, i) => {
        "use strict";
        i.d(t, {
            u: () => c
        });
        var n = i(96540)
          , l = i(5338)
          , r = i(74848)
          , a = i(13718)
          , o = i(62004)
          , s = i.n(o);
        let d = e => {
            let {videos: t, initialIndex: i=0, onClose: l, isOpen: o} = e
              , [d,c] = (0,
            n.useState)(i)
              , u = (0,
            n.useRef)(null)
              , p = t.length
              , v = (0,
            n.useCallback)(e => {
                let t = document.getElementById("video-item-".concat(e));
                t && u.current && t.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "start"
                })
            }
            , []);
            (0,
            n.useEffect)( () => {
                c(i)
            }
            , [i, t]),
            (0,
            n.useEffect)( () => {
                o && i > 0 && setTimeout( () => {
                    v(i)
                }
                , 100)
            }
            , [o, i, v]);
            let _ = (0,
            n.useCallback)( () => {
                if (d > 0) {
                    let e = d - 1;
                    c(e),
                    v(e)
                }
            }
            , [d, v])
              , m = (0,
            n.useCallback)( () => {
                if (d < p - 1) {
                    let e = d + 1;
                    c(e),
                    v(e)
                }
            }
            , [d, p, v]);
            (0,
            n.useEffect)( () => {
                let e = e => {
                    if (o)
                        switch (e.key) {
                        case "Escape":
                            l();
                            break;
                        case "ArrowLeft":
                            e.preventDefault(),
                            _();
                            break;
                        case "ArrowRight":
                            e.preventDefault(),
                            m()
                        }
                }
                ;
                return document.addEventListener("keydown", e),
                () => document.removeEventListener("keydown", e)
            }
            , [o, _, m, l]);
            let h = (0,
            n.useCallback)( () => {
                if (!u.current)
                    return;
                let e = u.current
                  , t = e.scrollWidth / p
                  , i = Math.round(e.scrollLeft / t);
                i !== d && i >= 0 && i < p && c(i)
            }
            , [d, p]);
            return ((0,
            n.useEffect)( () => {
                o && document.querySelectorAll(".".concat(s().video)).forEach( (e, t) => {
                    t === d ? e.play().catch( () => {}
                    ) : e.pause()
                }
                )
            }
            , [d, o]),
            o) ? (0,
            r.jsx)("div", {
                className: s().overlay,
                onClick: e => {
                    e.target === e.currentTarget && l()
                }
                ,
                children: (0,
                r.jsxs)("div", {
                    className: s().container,
                    children: [(0,
                    r.jsx)("button", {
                        className: s().closeButton,
                        onClick: l,
                        children: "✕"
                    }), p > 1 && (0,
                    r.jsxs)(r.Fragment, {
                        children: [(0,
                        r.jsx)("button", {
                            className: "".concat(s().navButton, " ").concat(s().navButtonLeft),
                            onClick: _,
                            disabled: 0 === d,
                            children: "‹"
                        }), (0,
                        r.jsx)("button", {
                            className: "".concat(s().navButton, " ").concat(s().navButtonRight),
                            onClick: m,
                            disabled: d === p - 1,
                            children: "›"
                        })]
                    }), (0,
                    r.jsx)("div", {
                        ref: u,
                        className: s().carousel,
                        onScroll: h,
                        children: t.map( (e, t) => (0,
                        r.jsxs)("div", {
                            id: "video-item-".concat(t),
                            className: s().videoItem,
                            children: [p > 1 && (0,
                            r.jsxs)("div", {
                                className: s().videoCounter,
                                children: [t + 1, " / ", p]
                            }), (0,
                            a.pt)(e) ? (0,
                            r.jsx)("video", {
                                className: s().video,
                                src: (0,
                                a.eV)(e.mp4Url),
                                poster: e.thumbnailUrl,
                                autoPlay: t === d,
                                muted: !0,
                                loop: !0,
                                playsInline: !0
                            }) : (0,
                            r.jsx)("img", {
                                className: s().image,
                                src: e.thumbnailUrl,
                                alt: "Media content"
                            }), (0,
                            r.jsxs)("div", {
                                className: s().videoInfo,
                                children: [e.creator && (0,
                                r.jsxs)("div", {
                                    className: s().creator,
                                    children: ["@", e.creator]
                                }), e.city && e.country && (0,
                                r.jsxs)("div", {
                                    className: s().location,
                                    children: [e.city, ", ", e.country]
                                })]
                            })]
                        }, e.id))
                    }), p > 1 && (0,
                    r.jsxs)("div", {
                        className: s().mobileNavOverlay,
                        children: [(0,
                        r.jsx)("button", {
                            className: "".concat(s().mobileNavButton, " ").concat(s().mobileNavPrev),
                            onClick: _,
                            disabled: 0 === d,
                            children: "‹"
                        }), (0,
                        r.jsx)("button", {
                            className: "".concat(s().mobileNavButton, " ").concat(s().mobileNavNext),
                            onClick: m,
                            disabled: d === p - 1,
                            children: "›"
                        })]
                    })]
                })
            }) : null
        }
          , c = e => {
            let {videos: t, initialIndex: i=0, onClose: r} = e
              , a = document.createElement("div");
            a.id = "video-overlay-container",
            document.body.appendChild(a);
            let o = (0,
            l.createRoot)(a)
              , s = () => {
                try {
                    o.unmount()
                } catch (e) {
                    console.warn("Error unmounting video overlay:", e)
                }
                a && a.parentNode && a.parentNode.removeChild(a),
                null == r || r()
            }
            ;
            return o.render(n.createElement(d, {
                videos: t,
                initialIndex: i,
                onClose: () => {
                    s()
                }
                ,
                isOpen: !0
            })),
            s
        }
    }
    ,
    98047: (e, t, i) => {
        "use strict";
        i.d(t, {
            Rz: () => u,
            Wu: () => m,
            _o: () => c,
            gC: () => p,
            lo: () => _,
            pQ: () => v
        });
        var n = i(22472)
          , l = i(28097)
          , r = i(25508)
          , a = i(80731)
          , o = i(68651)
          , s = i(10758)
          , d = i(72226);
        let c = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            a.b)();
            return async (i, l, r, a) => {
                var s;
                let d = await (null === (s = n.auth.currentUser) || void 0 === s ? void 0 : s.getIdToken());
                return await (0,
                o.Px)(e, i, l, r, a, d, t)
            }
        }
          , u = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            a.b)();
            return async function(i, r) {
                var a;
                let s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : l.c9.now().plus(l.dw.fromObject({
                    months: 1
                }))
                  , d = arguments.length > 3 ? arguments[3] : void 0
                  , c = await (null === (a = n.auth.currentUser) || void 0 === a ? void 0 : a.getIdToken());
                if (c)
                    return await (0,
                    o.is)(c, t, i, r, e, s, d)
            }
        }
          , p = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            a.b)();
            return {
                getFlightList: async function(i) {
                    var l;
                    let r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50
                      , a = await (null === (l = n.auth.currentUser) || void 0 === l ? void 0 : l.getIdToken());
                    if (!a)
                        return;
                    let o = "".concat(e, "/flight/ai?prompt=").concat(i, "&limit=").concat(r)
                      , c = await (0,
                    d.u)(o, {
                        method: "GET",
                        headers: {
                            ...t,
                            Authorization: "Bearer ".concat(a),
                            Accept: "application/json"
                        }
                    });
                    if (200 === c.status)
                        return await c.json();
                    await (0,
                    s.oT)(c, o)
                }
            }
        }
          , v = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            a.b)();
            return async (i, l, r, a, s, d, c, u, p, v) => {
                var _;
                let m = await (null === (_ = n.auth.currentUser) || void 0 === _ ? void 0 : _.getIdToken());
                return await (0,
                o.GD)(e, i, l, r, a, s, d, m, t, c, u, p, v)
            }
        }
          , _ = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            a.b)();
            return async (i, l, r) => {
                var a;
                let s = await (null === (a = n.auth.currentUser) || void 0 === a ? void 0 : a.getIdToken());
                return (0,
                o.m)(e, i, l, r, s, t)
            }
        }
          , m = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            a.b)();
            return async (i, l, r) => {
                var a;
                let s = await (null === (a = n.auth.currentUser) || void 0 === a ? void 0 : a.getIdToken())
                  , d = await (0,
                o.P9)(e, i, l, s, t);
                return null == d ? void 0 : d.activities.map(e => "string" == typeof e.name ? e : {
                    ...e,
                    name: e.name[r || "en"] || e.name[Object.keys(e.name)[0]]
                })
            }
        }
    }
    ,
    60704: (e, t, i) => {
        "use strict";
        i.d(t, {
            Ak: () => a,
            TE: () => u,
            nI: () => d,
            pQ: () => o,
            z_: () => r
        });
        var n = i(28097)
          , l = i(7009);
        let r = e => {
            if (!e)
                return "";
            let t = n.c9.fromISO(e);
            if (t.isValid)
                return t.toFormat("d LLL");
            let i = e.split(" ")[0];
            return n.c9.fromISO(i).toFormat("d LLL")
        }
          , a = (e, t) => {
            if (!e)
                return "";
            let i = n.c9.fromISO(e);
            if (i.isValid)
                return i.toFormat("h:mm a");
            let l = e.split(" ")
              , [r,a,o] = (l[1] || l[0]).split(":").map(Number)
              , s = new Date;
            return (s.setHours(r, a, o, 0),
            t) ? s.toTimeString() : s.toLocaleTimeString(void 0, {
                hour: "numeric",
                minute: "2-digit"
            })
        }
          , o = e => {
            if (!e)
                return "";
            let t = n.c9.fromISO(e);
            if (t.isValid)
                return t.toFormat("h:mm a");
            let i = e.split(" ")
              , [l,r,a=0] = (i[1] || i[0]).split(":").map(Number);
            if (isNaN(l) || isNaN(r) || l < 0 || l > 23 || r < 0 || r > 59)
                return "";
            let o = n.c9.fromObject({
                hour: l,
                minute: r,
                second: a || 0
            });
            return o.isValid ? o.toFormat("h:mm a") : ""
        }
          , s = e => {
            if (!e)
                return null;
            let t = n.c9.fromISO(e);
            if (t.isValid)
                return t;
            let i = n.c9.fromSQL(e);
            if (i.isValid)
                return i;
            let l = e.split(" ")
              , r = l[1] || l[0];
            if (r && r.includes(":")) {
                let[e,t,i=0] = r.split(":").map(Number);
                if (!isNaN(e) && !isNaN(t) && e >= 0 && e <= 23 && t >= 0 && t <= 59)
                    return n.c9.fromObject({
                        hour: e,
                        minute: t,
                        second: i || 0
                    })
            }
            return null
        }
          , d = (e, t) => {
            let i = s(e)
              , n = s(t);
            if (!i || !n)
                return 0;
            let l = i.startOf("day");
            return Math.round(n.startOf("day").diff(l, "days").days)
        }
          , c = (e, t, i, n, r) => {
            var a, o, s, d, c, u;
            let p = null !== (c = null == i ? void 0 : null === (o = i.travelers) || void 0 === o ? void 0 : null === (a = o.filter(e => e.isAdult)) || void 0 === a ? void 0 : a.length) && void 0 !== c ? c : 1
              , v = null !== (u = null == i ? void 0 : null === (d = i.travelers) || void 0 === d ? void 0 : null === (s = d.filter(e => !e.isAdult)) || void 0 === s ? void 0 : s.length) && void 0 !== u ? u : 0
              , _ = r("flights.forAdults", {
                count: p
            })
              , m = v > 0 ? r("flights.andChildren", {
                count: v
            }) : ""
              , h = t.map(e => {
                let t = e.flights[0]
                  , i = t.departureDate || new Date().toISOString().split("T")[0];
                return "".concat(t.fromCity, " to ").concat(t.toCity, " on ").concat(i)
            }
            ).join(", ")
              , g = n === l.qP.CABIN_CLASS_UNSPECIFIED ? "" : " ".concat((0,
            l.$I)(n, r));
            return "".concat(h).concat(g).concat(_).concat(m, " ").concat(e).trim()
        }
          , u = (e, t, i, n, r, a, o, s) => {
            var d, u, p, v, _, m;
            if (s && s.length > 0)
                return c(e, s, n, a, o);
            let h = null !== (_ = null == n ? void 0 : null === (u = n.travelers) || void 0 === u ? void 0 : null === (d = u.filter(e => e.isAdult)) || void 0 === d ? void 0 : d.length) && void 0 !== _ ? _ : 1
              , g = null !== (m = null == n ? void 0 : null === (v = n.travelers) || void 0 === v ? void 0 : null === (p = v.filter(e => !e.isAdult)) || void 0 === p ? void 0 : p.length) && void 0 !== m ? m : 0
              , f = r || new Date().toISOString().split("T")[0]
              , x = o("flights.forAdults", {
                count: h
            })
              , y = g > 0 ? o("flights.andChildren", {
                count: g
            }) : ""
              , b = o("flights.searchQuery", {
                fromCity: t,
                toCity: i,
                departureDate: f,
                returnDate: "",
                cabinClass: a === l.qP.CABIN_CLASS_UNSPECIFIED ? "" : " ".concat((0,
                l.$I)(a, o)),
                adultsText: x,
                childrenText: y
            });
            return "".concat(b, " ").concat(e, " ").trim()
        }
    }
    ,
    7009: (e, t, i) => {
        "use strict";
        i.d(t, {
            $I: () => r,
            qP: () => n
        });
        var n = function(e) {
            return e.CABIN_CLASS_UNSPECIFIED = "CABIN_CLASS_UNSPECIFIED",
            e.CABIN_CLASS_ECONOMY = "CABIN_CLASS_ECONOMY",
            e.CABIN_CLASS_PREMIUM_ECONOMY = "CABIN_CLASS_PREMIUM_ECONOMY",
            e.CABIN_CLASS_BUSINESS = "CABIN_CLASS_BUSINESS",
            e.CABIN_CLASS_FIRST = "CABIN_CLASS_FIRST",
            e
        }({});
        let l = {
            CABIN_CLASS_ECONOMY: "common.cabinClass.economy",
            CABIN_CLASS_PREMIUM_ECONOMY: "common.cabinClass.premiumEconomy",
            CABIN_CLASS_BUSINESS: "common.cabinClass.business",
            CABIN_CLASS_FIRST: "common.cabinClass.first"
        }
          , r = (e, t) => {
            let i = l[e];
            return i ? t(i) : ""
        }
        ;
        var a = function(e) {
            return e.morning = "morning",
            e.afternoon = "afternoon",
            e.evening = "evening",
            e.night = "night",
            e
        }(a || {})
    }
    ,
    55925: (e, t, i) => {
        "use strict";
        i.d(t, {
            xi: () => v,
            gg: () => m,
            E4: () => _
        });
        var n = i(96540)
          , l = i(98935)
          , r = i(86715)
          , a = i(95753)
          , o = i(22472)
          , s = i(20285)
          , d = i(25508)
          , c = i(80731);
        let u = async (e, t, i) => {
            if (!e)
                return null;
            try {
                let n = await fetch("".concat(i, "/trip/count"), {
                    method: "GET",
                    headers: {
                        ...t,
                        Authorization: "Bearer ".concat(e)
                    }
                });
                if (!n.ok)
                    throw Error("BD API responded with status: ".concat(n.status));
                let l = await n.json();
                if ("number" == typeof l.count)
                    return l.count
            } catch (e) {
                console.error(e)
            }
            return null
        }
          , p = async (e, t, i) => {
            if (!e)
                return null;
            try {
                let n = await fetch("".concat(i, "/chatbot/count"), {
                    method: "GET",
                    headers: {
                        ...t,
                        Authorization: "Bearer ".concat(e)
                    }
                });
                if (!n.ok)
                    throw Error("BD API responded with status: ".concat(n.status));
                let l = await n.json();
                if ("number" == typeof l.count)
                    return l.count
            } catch (e) {
                console.error(e)
            }
            return null
        }
          , v = () => {
            let {locale: e} = (0,
            r.useRouter)()
              , {character: t} = (0,
            a.o)()
              , i = (0,
            n.useMemo)( () => t && t.name ? "string" == typeof t.name ? t.name : t.name[e || s.Nm] || t.name.en || l.kI : l.kI, [t, e]);
            return (0,
            n.useCallback)(t => {
                if (!t)
                    return null;
                let n = t[e || s.Nm] || Object.values(t)[0] || "";
                return i === l.kI ? n : n.split(l.kI).join(i)
            }
            , [e, i])
        }
          , _ = () => {
            let e = (0,
            d.Sm)()
              , t = (0,
            c.b)();
            return async () => {
                var i;
                let n = await (null === (i = o.auth.currentUser) || void 0 === i ? void 0 : i.getIdToken());
                return await u(n, t, e)
            }
        }
          , m = () => {
            let e = (0,
            d.Sm)()
              , t = (0,
            c.b)();
            return async () => {
                var i;
                let n = await (null === (i = o.auth.currentUser) || void 0 === i ? void 0 : i.getIdToken());
                return await p(n, t, e)
            }
        }
    }
    ,
    53670: (e, t, i) => {
        "use strict";
        i.d(t, {
            Mw: () => v,
            VC: () => p,
            K7: () => _
        });
        var n = i(22472)
          , l = i(25508)
          , r = i(80731)
          , a = i(10758)
          , o = i(72226);
        let s = async (e, t, i, n, l) => {
            let r = {
                prompt: n
            };
            void 0 !== l && (r.checkForExisting = l);
            try {
                let l = "".concat(e, "/hotel/ai/search")
                  , s = await (0,
                o.u)(l, {
                    method: "POST",
                    headers: {
                        ...i,
                        Authorization: "Bearer ".concat(t)
                    },
                    body: JSON.stringify(r)
                });
                if (200 === s.status) {
                    let e = await s.json();
                    try {
                        let t = Object.entries(null == e ? void 0 : e.hotels).slice(0, 20)
                          , i = Object.fromEntries(t);
                        e.hotels = i
                    } catch (t) {
                        console.warn("Error extract first 20 hotels from data.hotels, data: ".concat(e, ", hotels: ").concat(null == e ? void 0 : e.hotels, ", prompt: ").concat(n))
                    }
                    return e
                }
                await (0,
                a.oT)(s, l)
            } catch (e) {
                console.error("Error fetching hotels from prompt, error: ".concat(e, ", prompt: ").concat(n))
            }
            return null
        }
          , d = new Map
          , c = async (e, t, i) => {
            let n = "".concat(e, "/hotel/constants|").concat(t);
            if (d.has(n))
                return d.get(n);
            let l = (async () => {
                try {
                    let n = "".concat(e, "/hotel/constants")
                      , l = await (0,
                    o.u)(n, {
                        method: "GET",
                        headers: {
                            ...i,
                            Authorization: "Bearer ".concat(t)
                        }
                    });
                    if (200 === l.status)
                        return await l.json();
                    await (0,
                    a.oT)(l, n)
                } catch (e) {
                    console.error("Error fetching hotels constants:", e)
                }
                return null
            }
            )();
            return d.set(n, l),
            l.finally( () => {
                d.delete(n)
            }
            ),
            l
        }
          , u = async (e, t, i, n, l, r) => {
            let s = [...Array(r).keys()].map(e => e + l);
            try {
                let l = "".concat(e, "/hotel/ai/search/").concat(n, "/relevance")
                  , r = await (0,
                o.u)(l, {
                    method: "POST",
                    headers: {
                        ...i,
                        Authorization: "Bearer ".concat(t)
                    },
                    body: JSON.stringify({
                        indexes: s,
                        evaluateReviews: !0,
                        evaluateRelevance: !0
                    })
                });
                if (200 === r.status)
                    return await r.json();
                await (0,
                a.oT)(r, l)
            } catch (e) {
                console.error("Error fetching relevance:", e)
            }
            return null
        }
          , p = () => {
            let e = (0,
            l.Sm)()
              , t = (0,
            r.b)();
            return async (i, l) => {
                var r;
                let a = await (null === (r = n.auth.currentUser) || void 0 === r ? void 0 : r.getIdToken());
                return await s(e, a, t, i, l)
            }
        }
          , v = () => {
            let e = (0,
            l.Sm)()
              , t = (0,
            r.b)();
            return async () => {
                var i;
                return null === (i = n.auth.currentUser) || void 0 === i ? void 0 : i.getIdToken().then(async i => await c(e, i, t))
            }
        }
          , _ = () => {
            let e = (0,
            l.Sm)()
              , t = (0,
            r.b)();
            return async (i, l, r, a) => {
                var o;
                let s = a || await (null === (o = n.auth.currentUser) || void 0 === o ? void 0 : o.getIdToken());
                return await u(e, s, t, i, l, r)
            }
        }
    }
    ,
    84242: (e, t, i) => {
        "use strict";
        i.d(t, {
            Xi: () => d,
            qu: () => c,
            xC: () => u
        });
        var n = i(71975)
          , l = i(22472)
          , r = i(25508)
          , a = i(28001)
          , o = i(80731)
          , s = i(44554);
        let d = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            o.b)();
            return async i => {
                var n;
                let r = await (null === (n = l.auth.currentUser) || void 0 === n ? void 0 : n.getIdToken());
                return await (0,
                s.Uv)(i, r, t, e)
            }
        }
          , c = () => {
            let e = (0,
            r.Sm)()
              , t = (0,
            o.b)();
            return async i => {
                var n;
                let r = await (null === (n = l.auth.currentUser) || void 0 === n ? void 0 : n.getIdToken());
                return await (0,
                s.rE)(i, r, t, e)
            }
        }
          , u = () => {
            let {pseudoUserId: e, authUserId: t} = (0,
            n.A)()
              , {userCurrency: i} = (0,
            a.c)()
              , l = null != t ? t : e;
            return (e, t) => {
                if (!e)
                    return "";
                try {
                    let n = new URL(e)
                      , r = "".concat(l).concat(t ? "-".concat(t) : "")
                      , a = []
                      , o = null;
                    n.searchParams.forEach( (e, t) => {
                        "aid" === t ? o = e : "label" !== t && a.push([t, e])
                    }
                    ),
                    n.search = "";
                    let s = o;
                    return s && n.searchParams.set("aid", s),
                    n.searchParams.set("label", r),
                    a.some(e => {
                        let[t] = e;
                        return "selected_currency" === t
                    }
                    ) || n.searchParams.set("selected_currency", i),
                    a.forEach(e => {
                        let[t,i] = e;
                        n.searchParams.set(t, i)
                    }
                    ),
                    n.toString()
                } catch (e) {
                    return console.error("Invalid URL:", e),
                    ""
                }
            }
        }
    }
    ,
    44554: (e, t, i) => {
        "use strict";
        i.d(t, {
            NC: () => N,
            T2: () => T,
            sl: () => I,
            rE: () => j,
            Uv: () => b,
            cL: () => A,
            GQ: () => w
        });
        var n = i(28097)
          , l = i(12674)
          , r = i(51098)
          , a = i(42728);
        let o = e => ({
            "24_hour_reception": e.hour24Reception,
            accommodation_facilities: e.accommodationFacilities,
            accommodation_types: e.accommodationTypes,
            accommodations: e.accommodations,
            airport: e.airport,
            booker: e.booker ? s(e.booker) : void 0,
            brands: e.brands,
            cancellation_type: e.cancellationType,
            checkin: e.checkin,
            checkout: e.checkout,
            city: e.city,
            coordinates: e.coordinates ? d(e.coordinates) : void 0,
            country: e.country,
            currency: e.currency,
            district: e.district,
            dormitories: e.dormitories,
            extras: e.extras,
            guests: e.guests ? c(e.guests) : void 0,
            landmark: e.landmark,
            meal_plan: e.mealPlan,
            page: e.page,
            payment: e.payment ? u(e.payment) : void 0,
            price: e.price ? p(e.price) : void 0,
            rating: e.rating ? v(e.rating) : void 0,
            region: e.region,
            room_facilities: e.roomFacilities,
            rows: e.rows,
            sort: e.sort ? _(e.sort) : void 0,
            travel_proud: e.travelProud
        })
          , s = e => ({
            country: e.country,
            platform: e.platform,
            travel_purpose: e.travelPurpose,
            user_groups: e.userGroups
        })
          , d = e => ({
            latitude: e.latitude,
            longitude: e.longitude,
            radius: e.radius
        })
          , c = e => ({
            number_of_adults: e.adults,
            number_of_rooms: e.rooms,
            children: e.children
        })
          , u = e => ({
            credit_card_required: e.creditCardRequired,
            timing: e.timing
        })
          , p = e => ({
            maximum: e.maximum,
            minimum: e.minimum
        })
          , v = e => ({
            minimum_review_score: e.minimumReviewScore,
            stars: e.stars
        })
          , _ = e => ({
            by: e.by,
            direction: e.direction
        })
          , m = (e, t) => {
            var i;
            return {
                country: null !== (i = null == e ? void 0 : e.toLowerCase()) && void 0 !== i ? i : "de",
                platform: h(null != t && t)
            }
        }
          , h = e => e ? "mobile" : "desktop"
          , g = e => {
            var t;
            return {
                ...null !== (t = e.booking) && void 0 !== t ? t : {},
                checkin: n.c9.now().plus({
                    days: 30
                }).toFormat("yyyy-MM-dd"),
                checkout: n.c9.now().plus({
                    days: 34
                }).toFormat("yyyy-MM-dd"),
                rows: 10,
                guests: {
                    adults: 1,
                    rooms: 1
                },
                booker: m()
            }
        }
        ;
        var f = i(7143);
        let x = () => ["description", "facilities", "payment", "photos", "policies", "rooms"];
        var y = i(25339);
        let b = async (e, t, i, n) => {
            if (!t)
                return null;
            try {
                let l = (0,
                y.o)(o(e))
                  , r = await fetch("".concat(n, "/proxy/booking/v3/accommodations/search"), {
                    method: "POST",
                    headers: {
                        ...i,
                        Authorization: "Bearer ".concat(t)
                    },
                    body: JSON.stringify(l)
                });
                if (200 === r.status) {
                    let e = await r.json()
                      , t = null == e ? void 0 : e.data;
                    if (!t || t.length <= 0)
                        return null;
                    return t.map(e => (0,
                    f.D)(e))
                }
            } catch (e) {
                console.error(e)
            }
            return null
        }
          , j = async (e, t, i, n) => {
            if (!t)
                return null;
            try {
                let l = (0,
                y.o)(e)
                  , r = await fetch("".concat(n, "/proxy/booking/v3/accommodations/details"), {
                    method: "POST",
                    headers: {
                        ...i,
                        Authorization: "Bearer ".concat(t)
                    },
                    body: JSON.stringify(l)
                });
                if (200 === r.status) {
                    let e = await r.json()
                      , t = null == e ? void 0 : e.data;
                    if (!t || t.length <= 0)
                        return null;
                    return t.map(e => e)
                }
            } catch (e) {
                console.error(e)
            }
            return null
        }
          , w = async (e, t, i, o) => {
            var s, d, c;
            if (!e)
                return null;
            let u = null === (s = e.hotels) || void 0 === s ? void 0 : s.at(0)
              , p = n.c9.now().plus({
                days: 30
            })
              , v = n.c9.now().plus({
                days: 34
            })
              , _ = g(e);
            if (u) {
                let e = {
                    accommodations: [u.id],
                    checkin: p.toFormat("yyyy-MM-dd"),
                    checkout: v.toFormat("yyyy-MM-dd"),
                    rows: 10,
                    guests: {
                        adults: 1,
                        rooms: 1
                    },
                    booker: m(),
                    currency: null != t ? t : "USD"
                }
                  , n = await i(e);
                if ((n = null == n ? void 0 : n.map(e => ({
                    ...e,
                    price: C(e.price, 4)
                }))) && n.length > 0) {
                    let e = n[0]
                      , t = {
                        accommodations: [e.id],
                        extras: x(),
                        languages: [(0,
                        l.uV)(((null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) === "zh" ? "zh-CN" : null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) || "en")]
                    }
                      , i = await o(t);
                    if (i && i.length > 0)
                        return (0,
                        a.X)(e, i[0])
                }
            }
            let h = {
                ..._,
                checkin: p.toFormat("yyyy-MM-dd"),
                checkout: v.toFormat("yyyy-MM-dd"),
                rows: 30,
                guests: {
                    adults: 1,
                    rooms: 1
                },
                booker: m(),
                currency: null != t ? t : "USD",
                rating: {
                    minimumReviewScore: 7
                },
                sort: {
                    by: "price",
                    direction: "ascending"
                }
            }
              , f = await i(h);
            if ((!f || f.length <= 0) && e.lat && e.lng) {
                let n = {
                    coordinates: {
                        latitude: e.lat,
                        longitude: e.lng,
                        radius: 100
                    },
                    checkin: p.toFormat("yyyy-MM-dd"),
                    checkout: v.toFormat("yyyy-MM-dd"),
                    rows: 30,
                    guests: {
                        adults: 1,
                        rooms: 1
                    },
                    booker: m(),
                    currency: null != t ? t : "USD",
                    rating: {
                        minimumReviewScore: 7
                    },
                    sort: {
                        by: "price",
                        direction: "ascending"
                    }
                };
                f = await i(n)
            }
            if (!f || f.length <= 0)
                return null;
            let y = {
                accommodations: (f = f.map(e => ({
                    ...e,
                    price: C(e.price, 4)
                }))).map(e => e.id),
                extras: x(),
                languages: [(0,
                l.uV)(((null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) === "zh" ? "zh-CN" : null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) || "en")]
            }
              , b = await o(y);
            if (!b || b.length <= 0)
                return null;
            let j = f[0]
              , w = b.find(e => e.id === j.id)
              , A = (null == w ? void 0 : null === (d = w.rating) || void 0 === d ? void 0 : d.review_score) || 0;
            for (let e = 0; e < f.length; e++) {
                let t = f[e]
                  , i = b.find(e => e.id === t.id)
                  , n = (null == i ? void 0 : null === (c = i.rating) || void 0 === c ? void 0 : c.review_score) || 0;
                n > A && (j = t,
                w = i,
                A = n)
            }
            return j && w ? (0,
            a.X)(j, w) : null
        }
          , A = async (e, t, i, o) => {
            if (!e)
                return null;
            let s = n.c9.now().plus({
                days: 30
            })
              , d = n.c9.now().plus({
                days: 34
            })
              , c = {
                ...g(e),
                checkin: s.toFormat("yyyy-MM-dd"),
                checkout: d.toFormat("yyyy-MM-dd"),
                rows: 10,
                guests: {
                    adults: 1,
                    rooms: 1
                },
                booker: m(),
                currency: null != t ? t : "USD",
                rating: {
                    minimumReviewScore: 7
                },
                sort: {
                    by: "price",
                    direction: "descending"
                }
            }
              , u = await i(c);
            if ((!u || u.length <= 0) && e.lat && e.lng) {
                let n = {
                    coordinates: {
                        latitude: e.lat,
                        longitude: e.lng,
                        radius: 100
                    },
                    checkin: s.toFormat("yyyy-MM-dd"),
                    checkout: d.toFormat("yyyy-MM-dd"),
                    rows: 10,
                    guests: {
                        adults: 1,
                        rooms: 1
                    },
                    booker: m(),
                    currency: null != t ? t : "USD",
                    rating: {
                        minimumReviewScore: 7
                    },
                    sort: {
                        by: "price",
                        direction: "descending"
                    }
                };
                u = await i(n)
            }
            if (!u || u.length <= 0)
                return null;
            let p = {
                accommodations: (u = u.map(e => ({
                    ...e,
                    price: C(e.price, 4)
                }))).map(e => e.id),
                extras: x(),
                languages: [(0,
                l.uV)(((null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) === "zh" ? "zh-CN" : null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) || "en")]
            }
              , v = await o(p);
            if (!v || v.length <= 0)
                return null;
            let _ = v.sort( (e, t) => {
                var i, n;
                let l = (null === (i = e.rating) || void 0 === i ? void 0 : i.review_score) || 0;
                return ((null === (n = t.rating) || void 0 === n ? void 0 : n.review_score) || 0) - l
            }
            )
              , h = [];
            for (let e = 0; e < Math.min(_.length, 3); e++) {
                let t = _[e]
                  , i = u.find(e => e.id === t.id);
                i && t && h.push((0,
                a.X)(i, t))
            }
            return h.length > 0 ? h : null
        }
          , I = async (e, t, i, o) => {
            if (!e)
                return null;
            let s = n.c9.now().plus({
                days: 30
            })
              , d = n.c9.now().plus({
                days: 34
            })
              , c = {
                ...g(e),
                checkin: s.toFormat("yyyy-MM-dd"),
                checkout: d.toFormat("yyyy-MM-dd"),
                rows: 10,
                guests: {
                    adults: 1,
                    rooms: 1
                },
                booker: m(),
                currency: null != t ? t : "USD",
                rating: {
                    minimumReviewScore: 5
                },
                sort: {
                    by: "price",
                    direction: "ascending"
                }
            }
              , u = await i(c);
            if ((!u || u.length <= 0) && e.lat && e.lng) {
                let n = {
                    coordinates: {
                        latitude: e.lat,
                        longitude: e.lng,
                        radius: 100
                    },
                    checkin: s.toFormat("yyyy-MM-dd"),
                    checkout: d.toFormat("yyyy-MM-dd"),
                    rows: 10,
                    guests: {
                        adults: 1,
                        rooms: 1
                    },
                    booker: m(),
                    currency: null != t ? t : "USD",
                    rating: {
                        minimumReviewScore: 5
                    },
                    sort: {
                        by: "price",
                        direction: "ascending"
                    }
                };
                u = await i(n)
            }
            if (!u || u.length <= 0)
                return null;
            let p = {
                accommodations: (u = u.map(e => ({
                    ...e,
                    price: C(e.price, 4)
                }))).map(e => e.id),
                extras: x(),
                languages: [(0,
                l.uV)(((null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) === "zh" ? "zh-CN" : null === r.Ru || void 0 === r.Ru ? void 0 : r.Ru.language) || "en")]
            }
              , v = await o(p);
            if (!v || v.length <= 0)
                return null;
            let _ = [];
            for (let e = 0; e < Math.min(u.length, 3); e++) {
                let t = u[e]
                  , i = v.find(e => e.id === t.id);
                t && i && _.push((0,
                a.X)(t, i))
            }
            return _.length > 0 ? _ : null
        }
          , C = (e, t) => {
            if (!e)
                return null;
            let i = e.base ? e.base / t : e.base
              , n = e.book ? e.book / t : e.book
              , l = e.total ? e.total / t : e.total;
            return {
                ...e,
                base: i,
                book: n,
                total: l
            }
        }
          , N = (e, t) => {
            if (!t)
                return [];
            let i = [];
            return e.forEach(e => {
                if (5 === i.length)
                    return i;
                let n = t.facilities.find(t => t.id === e)
                  , l = t.facilitiesTypes.find(e => e.id === (null == n ? void 0 : n.facilityTypeId));
                n && l && i.push({
                    id: e,
                    name: n.name,
                    imageUrl: l.imageUrl,
                    alt: l.name
                })
            }
            ),
            i
        }
          , T = e => {
            let t = e => !!e && !!e.id && !!e.name && !!e.url
              , i = [];
            for (let n = 0; n < Object.keys(e.hotels).length; n++) {
                let l = e.hotels[n];
                t(l) && i.push(l)
            }
            return i
        }
    }
    ,
    7143: (e, t, i) => {
        "use strict";
        i.d(t, {
            D: () => n,
            t: () => p
        });
        let n = e => {
            var t;
            return {
                id: e.id,
                currency: e.currency,
                deepLinkUrl: e.deep_link_url,
                price: e.price ? l(e.price) : void 0,
                products: e.products ? e.products.map(r) : void 0,
                url: null !== (t = e.url) && void 0 !== t ? t : ""
            }
        }
          , l = e => ({
            base: e.base,
            book: e.book,
            extraCharges: e.extra_charges ? o(e.extra_charges) : void 0,
            total: e.total
        })
          , r = e => ({
            id: e.id,
            children: e.children,
            deal: e.deal ? a(e.deal) : void 0,
            numberOfAdults: e.number_of_adults,
            policies: e.policies ? s(e.policies) : void 0,
            price: e.price ? l(e.price) : void 0,
            room: e.room,
            thirdPartyInventory: e.third_party_inventory
        })
          , a = e => ({
            discountPercentage: e.discount_percentage,
            publicPrice: e.public_price,
            tags: e.tags
        })
          , o = e => ({
            excluded: e.excluded,
            included: e.included
        })
          , s = e => ({
            cancellation: e.cancellation ? d(e.cancellation) : void 0,
            mealPlan: e.meal_plan ? c(e.meal_plan) : void 0,
            payment: e.payment ? u(e.payment) : void 0
        })
          , d = e => ({
            freeCancellationUntil: e.free_cancellation_until,
            type: e.type
        })
          , c = e => ({
            meals: e.meals,
            plan: e.plan
        })
          , u = e => ({
            timings: e.timings
        })
          , p = e => e > 9 ? "nine" : e > 8 ? "eight" : e > 7 ? "seven" : e > 6 ? "six" : e > 5 ? "five" : e > 3 ? "three" : e > 2 ? "two" : "one"
    }
    ,
    42728: (e, t, i) => {
        "use strict";
        i.d(t, {
            J: () => a,
            X: () => r
        });
        var n = i(51098)
          , l = i(12674);
        let r = (e, t) => {
            var i, r, a, o, s, d, c, u, p, v, _, m, h, g, f, x;
            let y = (0,
            l.uV)((null === n.Ru || void 0 === n.Ru ? void 0 : n.Ru.language) || "en")
              , b = "fallback"
              , j = null !== (g = null !== (h = null === (i = t.name) || void 0 === i ? void 0 : i[y]) && void 0 !== h ? h : null === (r = t.name) || void 0 === r ? void 0 : r[b]) && void 0 !== g ? g : ""
              , w = null !== (x = null !== (f = null === (o = t.description) || void 0 === o ? void 0 : null === (a = o.text) || void 0 === a ? void 0 : a[y]) && void 0 !== f ? f : null === (d = t.description) || void 0 === d ? void 0 : null === (s = d.text) || void 0 === s ? void 0 : s[b]) && void 0 !== x ? x : "";
            return {
                id: e.id,
                name: j,
                url: e.url,
                description: w,
                photos: t.photos ? t.photos.map(e => e.url.standard).filter(e => void 0 !== e) : [],
                reviewScore: null === (c = t.rating) || void 0 === c ? void 0 : c.review_score,
                numberOfReviews: null === (u = t.rating) || void 0 === u ? void 0 : u.number_of_reviews,
                currency: e.currency,
                lat: null === (v = t.location) || void 0 === v ? void 0 : null === (p = v.coordinates) || void 0 === p ? void 0 : p.latitude,
                lng: null === (m = t.location) || void 0 === m ? void 0 : null === (_ = m.coordinates) || void 0 === _ ? void 0 : _.longitude,
                videos: [],
                creator: void 0,
                hotel: e,
                hotelDetails: t
            }
        }
          , a = e => {
            var t, i, n, l, r, a, o, s, d, c, u, p, v, _;
            return {
                id: e.id,
                name: e.name,
                description: e.description,
                imageUrl: e.photos[0],
                imagesUrls: e.photos,
                lat: e.lat,
                lng: e.lng,
                price: null !== (u = null !== (c = null === (i = e.hotel) || void 0 === i ? void 0 : null === (t = i.price) || void 0 === t ? void 0 : t.book) && void 0 !== c ? c : e.priceInEuros) && void 0 !== u ? u : 0,
                currency: (null === (l = e.hotel) || void 0 === l ? void 0 : null === (n = l.price) || void 0 === n ? void 0 : n.book) ? null === (r = e.hotel) || void 0 === r ? void 0 : r.currency : null !== (p = e.currency) && void 0 !== p ? p : "EUR",
                reviewScore: e.reviewScore || 0,
                stars: (null === (o = e.hotelDetails) || void 0 === o ? void 0 : null === (a = o.rating) || void 0 === a ? void 0 : a.stars) || 0,
                url: e.url,
                videos: e.videos,
                adress: "",
                numberOfReviews: null !== (_ = null !== (v = null === (d = e.hotelDetails) || void 0 === d ? void 0 : null === (s = d.rating) || void 0 === s ? void 0 : s.number_of_reviews) && void 0 !== v ? v : e.numberOfReviews) && void 0 !== _ ? _ : 0,
                discountPercentage: 0
            }
        }
    }
    ,
    85610: (e, t, i) => {
        "use strict";
        i.d(t, {
            D4: () => d,
            M4: () => o,
            OG: () => c,
            ON: () => _,
            Uh: () => p,
            cL: () => h,
            uF: () => s,
            zG: () => g
        });
        var n = i(64001);
        let l = e => "string" == typeof e
          , r = e => {
            let t = new Map;
            return null == e || e.forEach(e => {
                t.set("[".concat(e.id, "]"), e)
            }
            ),
            t
        }
          , a = e => e ? [...e.matchAll(/\[\d+\]/g), ...e.matchAll(/\[.*?\]\(#\w+\/(\d+)\)/g)] : []
          , o = e => {
            let t = a(e)
              , i = [];
            for (let e of t) {
                let t = null
                  , n = e[0].match(/\[(\d+)\]/);
                n && (t = n[1]);
                let l = e[0].match(/\[.*?\]\(#\w+\/(\d+)\)/);
                l && (t = l[1]),
                t && i.push(t)
            }
            return i
        }
          , s = (e, t, i) => {
            let n = []
              , l = RegExp("{R-(.*?)}", "gi");
            return e.forEach(e => {
                let r;
                if ("string" != typeof e) {
                    n.push(e);
                    return
                }
                let a = 0;
                for (; null !== (r = l.exec(e)); ) {
                    let l = r[0].slice(3, -1)
                      , o = r.index
                      , s = e.substring(a, o)
                      , d = u(l, t)
                      , c = i(l, d, o);
                    n.push(s),
                    n.push(c),
                    a = o + r[0].length
                }
                n.push(e.substring(a))
            }
            ),
            n
        }
          , d = (e, t, i) => {
            let n;
            if (!e || !l(e) || 0 === e.length)
                return [];
            let a = e.replace(/\[\d+\](?=[^{}]*(?:\{|$))/g, "").replace(/\*\*/g, " ")
              , o = /\[\d+\]/g
              , s = /{A-(.*?)}/gi
              , d = r(t)
              , c = []
              , u = 0;
            for (; null !== (n = s.exec(a)); ) {
                let e = n[0].match(o)
                  , t = e && e[0]
                  , l = d.get(t)
                  , r = n[0].slice(3, -1).split(" [")[0]
                  , s = n.index
                  , p = a.substring(u, s)
                  , v = l ? null == i ? void 0 : i(r, l) : r;
                c.push(p),
                v && c.push(v),
                u = s + n[0].length
            }
            return c.push(a.substring(u)),
            c
        }
          , c = (e, t) => ({
            id: e.id.toString(),
            name: e.name,
            webUrl: e.url + (t ? "&label=".concat(t) : ""),
            rating: e.reviewScore,
            type: "hotel",
            location: {
                lat: e.lat,
                lng: e.lng
            },
            images: e.photos
        })
          , u = (e, t) => {
            let i = e.replace(/ /g, "+").replace(/&/g, "and");
            return {
                id: (0,
                n.nH)(),
                name: e,
                type: "other",
                webUrl: "https://www.google.com/maps/search/?api=1&query=".concat(i, "+").concat(t)
            }
        }
          , p = (e, t, i, n) => {
            if (!e || 0 === e.length)
                return [];
            let l = /\[([^\]]+?)\]\((#(\w+)\/([^)]+)|https?:\/\/[^\s)]+)\)/g
              , r = new Map;
            t.forEach(e => {
                r.has(e.type) || r.set(e.type, new Map),
                r.get(e.type).set(String(e.id), e)
            }
            );
            let a = [];
            return (Array.isArray(e) ? e : [e]).forEach(e => {
                let o;
                if ("string" != typeof e) {
                    a.push(e);
                    return
                }
                let s = 0;
                for (; null !== (o = l.exec(e)); ) {
                    var d, c;
                    let l;
                    let p = o[0]
                      , v = o[1]
                      , _ = o[3]
                      , m = o[4]
                      , h = (null === (d = o[2]) || void 0 === d ? void 0 : d.startsWith("http")) ? o[2] : null;
                    if (_ && m ? l = null === (c = r.get(_)) || void 0 === c ? void 0 : c.get(m) : h && (l = t.find(e => e.webUrl === h)),
                    !l && !_ && !m && h) {
                        a.push(e.substring(s, o.index)),
                        a.push(p),
                        s = o.index + p.length;
                        continue
                    }
                    l || ["activity", "attraction", "hotel"].includes(_) || (l = u(v, i));
                    let g = e.substring(s, o.index)
                      , f = l ? l.name : v
                      , x = l ? null == n ? void 0 : n(f, l) : f;
                    g && a.push(g),
                    x && a.push(x),
                    s = o.index + p.length
                }
                let p = e.substring(s);
                p && a.push(p)
            }
            ),
            a
        }
          , v = /[ \t]+/g;
        function _(e) {
            let t = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
            if (!e)
                return "";
            let i = e.trim().replace(v, "-");
            return t ? encodeURIComponent(i) : i
        }
        let m = ["ar", "de", "en", "es", "fr", "it", "pt", "ru", "zh-CN"]
          , h = e => m.includes(e) ? e : "en"
          , g = (e, t, i) => {
            switch (t) {
            case "hour":
                return i(1 === e ? "trip.itinerary.activityDuration.hour" : "trip.itinerary.activityDuration.hours");
            case "day":
                return i(1 === e ? "trip.itinerary.activityDuration.day" : "trip.itinerary.activityDuration.days");
            default:
                return i(1 === e ? "trip.itinerary.activityDuration.minute" : "trip.itinerary.activityDuration.minutes")
            }
        }
    }
    ,
    17555: (e, t, i) => {
        "use strict";
        i.d(t, {
            Xz: () => n,
            ZU: () => l
        });
        var n = function(e) {
            return e.Airport = "airport",
            e.Bus = "bus",
            e.Car = "car",
            e.Flight = "flight",
            e.Place = "place",
            e.Train = "train",
            e.Unknown = "unknown",
            e.Pedestrian = "pedestrian",
            e.Boat = "boat",
            e.Ship = "ship",
            e.Ferry = "ferry",
            e.Station = "station",
            e
        }({})
          , l = function(e) {
            return e.Edge = "edge",
            e
        }({})
    }
    ,
    47950: (e, t, i) => {
        "use strict";
        i.d(t, {
            t: () => l,
            Ay: () => o,
            Di: () => r,
            vf: () => a,
            CN: () => s
        });
        var n = i(17555);
        function l(e) {
            if (e < 60)
                return "".concat(e, " min");
            let t = Math.floor(e / 60)
              , i = e % 60;
            return 0 === i ? "".concat(t, "h") : "".concat(t, "h ").concat(i, " min")
        }
        function r(e) {
            if (!(null == e ? void 0 : e.option))
                return [];
            let t = [];
            return e.option.forEach(e => {
                "edge" === e.type && "unknown" !== e.subType && t.push(e)
            }
            ),
            t
        }
        function a(e, t) {
            if (1 === e.length && !t) {
                var i, l;
                let t = e[0];
                return [{
                    latitude: null == t ? void 0 : null === (i = t.destination) || void 0 === i ? void 0 : i.lat,
                    longitude: null == t ? void 0 : null === (l = t.destination) || void 0 === l ? void 0 : l.lng,
                    location: null == t ? void 0 : t.location,
                    subType: n.Xz.Place
                }]
            }
            let r = e.filter(e => {
                var t, i;
                return e.routing && (null === (i = e.routing) || void 0 === i ? void 0 : null === (t = i.options) || void 0 === t ? void 0 : t.length) > 0
            }
            ).map(e => {
                var t;
                return null === (t = e.routing) || void 0 === t ? void 0 : t.options[0].option
            }
            ).filter(e => void 0 !== e).flat().filter(e => e && e.latitude && e.longitude && "place" === e.subType).filter( (e, t, i) => i.findIndex(t => (t && t.location) === (e && e.location)) === t);
            return t && r.shift(),
            r
        }
        function o(e, t) {
            let i;
            if ("string" == typeof e)
                i = e;
            else {
                let n = new Set(null == e ? void 0 : e.map(e => e.subType));
                if (n.size > 1) {
                    let i = e[0].subType;
                    if (!e.every(e => e.subType === i))
                        return t("modals.modifyRoutes.transportOptions.mixedTravel")
                }
                i = n.values().next().value
            }
            switch (i) {
            case "airport":
            case "flight":
                return t("modals.modifyRoutes.transportOptions.airplane");
            case "car":
                return t("modals.modifyRoutes.transportOptions.car");
            case "train":
                return t("modals.modifyRoutes.transportOptions.train");
            case "bus":
                return t("modals.modifyRoutes.transportOptions.bus");
            case "boat":
                return t("modals.modifyRoutes.transportOptions.boat");
            case "ship":
                return t("modals.modifyRoutes.transportOptions.ship");
            case "ferry":
                return t("modals.modifyRoutes.transportOptions.ferry");
            case "pedestrian":
                return t("modals.modifyRoutes.transportOptions.walking");
            default:
                return t("modals.modifyRoutes.transportOptions.unknownTravel")
            }
        }
        i(33777);
        let s = e => Array.isArray(e) ? e.reduce( (e, t, i) => {
            var n, l, r, a;
            let o = t.preferredTransportMode
              , s = (null === (l = t.routing) || void 0 === l ? void 0 : null === (n = l.options) || void 0 === n ? void 0 : n[0]) || null
              , d = null === (a = t.routing) || void 0 === a ? void 0 : null === (r = a.options) || void 0 === r ? void 0 : r.find(e => e.option.some(e => e.subType === o));
            return e["route".concat(i)] = "unknown" === o ? s || null : d || s,
            e
        }
        , {}) : {}
    }
    ,
    88058: (e, t, i) => {
        "use strict";
        i.d(t, {
            BF: () => s,
            Fu: () => a,
            jn: () => r,
            zS: () => o
        });
        var n = i(68651);
        let l = async e => {
            try {
                let t = await fetch(e);
                if (!t.ok)
                    return console.warn("Failed to fetch GeoJSON from ".concat(e, ": ").concat(t.status)),
                    null;
                return await t.json()
            } catch (t) {
                return console.warn("Error fetching GeoJSON from ".concat(e, ":"), t),
                null
            }
        }
          , r = e => {
            try {
                if ("MultiLineString" === e.type && Array.isArray(e.coordinates))
                    return e.coordinates;
                return null
            } catch (e) {
                return console.warn("Error extracting line segments from GeoJSON:", e),
                null
            }
        }
          , a = e => e.flat()
          , o = (e, t) => {
            let i = {
                lng: e[0],
                lat: e[1]
            }
              , l = {
                lng: t[0],
                lat: t[1]
            };
            return (0,
            n.$7)(i, l)
        }
          , s = async function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "route"
              , i = {}
              , n = [...new Set(e.map(e => {
                var t, i;
                let {options: n} = e
                  , l = (null !== (i = null == n ? void 0 : n.option) && void 0 !== i ? i : []).find(e => {
                    var t;
                    return null === (t = e.details) || void 0 === t ? void 0 : t.geoJsonUrl
                }
                );
                return null == l ? void 0 : null === (t = l.details) || void 0 === t ? void 0 : t.geoJsonUrl
            }
            ).filter(Boolean))];
            if (n.length > 0) {
                let r = await Promise.all(n.map(async e => {
                    let t = await l(e);
                    return {
                        url: e,
                        data: t
                    }
                }
                ));
                e.forEach( (e, n) => {
                    var l, a;
                    let {options: o} = e
                      , s = (null !== (a = null == o ? void 0 : o.option) && void 0 !== a ? a : []).find(e => {
                        var t;
                        return null === (t = e.details) || void 0 === t ? void 0 : t.geoJsonUrl
                    }
                    );
                    if (null == s ? void 0 : null === (l = s.details) || void 0 === l ? void 0 : l.geoJsonUrl) {
                        let e = "".concat(t, "-").concat(n, "-").concat(s.details.geoJsonUrl)
                          , l = r.find(e => {
                            var t;
                            return e.url === (null === (t = s.details) || void 0 === t ? void 0 : t.geoJsonUrl)
                        }
                        );
                        l && (i[e] = l.data)
                    }
                }
                )
            }
            return i
        }
    }
    ,
    64669: (e, t, i) => {
        "use strict";
        i.d(t, {
            q: () => o,
            s: () => a
        });
        var n = i(17555)
          , l = i(47950)
          , r = i(97025);
        let a = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
              , i = arguments.length > 2 ? arguments[2] : void 0
              , a = (0,
            l.CN)(null != e ? e : [])
              , o = (0,
            r.mN)(e);
            if (1 === e.length && "pointOfOrigin" !== e[0].type) {
                var s, d;
                let t = e[0];
                return [{
                    leg: e[0],
                    options: {
                        option: [{
                            latitude: null == t ? void 0 : null === (s = t.destination) || void 0 === s ? void 0 : s.lat,
                            longitude: null == t ? void 0 : null === (d = t.destination) || void 0 === d ? void 0 : d.lng,
                            location: null == t ? void 0 : t.location,
                            subType: n.Xz.Place
                        }]
                    }
                }]
            }
            let c = e.map( (e, t) => {
                var n, l, r;
                let o = e.routing
                  , s = (null == i ? void 0 : i(t)) || (null == a ? void 0 : a["route".concat(t)]);
                if (s)
                    return {
                        leg: e,
                        options: s
                    };
                let d = (null !== (l = null == o ? void 0 : o.options) && void 0 !== l ? l : [])[0]
                  , c = null !== (r = null == d ? void 0 : null === (n = d.option) || void 0 === n ? void 0 : n.filter(e => (null == e ? void 0 : e.subType) === "place" && "number" == typeof (null == e ? void 0 : e.latitude) && "number" == typeof (null == e ? void 0 : e.longitude))) && void 0 !== r ? r : [];
                return {
                    leg: e,
                    options: {
                        ...d,
                        option: c
                    }
                }
            }
            ).filter(Boolean);
            return t && o ? c.filter(e => {
                let {leg: t} = e;
                return "pointOfOrigin" !== t.type
            }
            ) : c
        }
          , o = e => {
            let t = new Set;
            return e.flatMap(e => {
                var t;
                let {options: i} = e;
                return null !== (t = null == i ? void 0 : i.option) && void 0 !== t ? t : []
            }
            ).filter(e => {
                if (!(null == e ? void 0 : e.latitude) || !(null == e ? void 0 : e.longitude))
                    return !1;
                let i = "".concat(e.latitude, ",").concat(e.longitude).concat(e.location);
                return !t.has(i) && (t.add(i),
                !0)
            }
            )
        }
    }
    ,
    82872: (e, t, i) => {
        "use strict";
        i.d(t, {
            XV: () => a,
            YF: () => r
        });
        let n = null
          , l = async () => (n || (n = Promise.resolve().then(i.t.bind(i, 60842, 23))),
        n)
          , r = async () => new (await l()).LngLatBounds
          , a = async () => (await l()).Popup
    }
    ,
    38067: (e, t, i) => {
        "use strict";
        function n(e, t) {
            return e && t ? Math.round(e / (1 - t / 100)) : null
        }
        function l(e) {
            let t, i;
            return e && ("price"in e && (t = e.price,
            i = e.currency),
            "priceInEuros"in e && (t = e.priceInEuros,
            i = "EUR"),
            "priceInEurosPerPerson"in e && (t = e.priceInEurosPerPerson,
            i = "EUR")),
            {
                price: t,
                currency: i
            }
        }
        i.d(t, {
            J: () => l,
            j: () => n
        })
    }
    ,
    99433: (e, t, i) => {
        "use strict";
        i.d(t, {
            WO: () => n,
            ny: () => d
        });
        let n = e => {
            let t = {
                timestamp: Date.now(),
                ...e
            };
            sessionStorage.setItem("tripScrollContext", JSON.stringify(t))
        }
          , l = () => {
            try {
                let e = sessionStorage.getItem("tripScrollContext");
                if (!e)
                    return null;
                return JSON.parse(e)
            } catch (e) {
                return console.error("[SCROLL_CONTEXT] ❌ Error parsing scroll context:", e),
                null
            }
        }
          , r = () => {
            sessionStorage.removeItem("tripScrollContext")
        }
          , a = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e5;
            return Date.now() - e.timestamp < t
        }
          , o = (e, t) => 0 === e && 0 === t ? "first-day-content" : "day-".concat(e, "-").concat(t)
          , s = function(e, t) {
            let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "smooth"
              , n = o(e, t)
              , l = document.getElementById(n);
            l && l.scrollIntoView({
                behavior: i,
                block: "start",
                inline: "nearest"
            })
        }
          , d = (e, t) => {
            var i, n, d, c;
            let u = l();
            if (!u || !a(u) || u.tripId === e)
                return !1;
            if ((null === (i = u.action) || void 0 === i ? void 0 : i.includes("hotel")) || (null === (n = u.action) || void 0 === n ? void 0 : n.includes("transfer")) || (null === (d = u.action) || void 0 === d ? void 0 : d.includes("activity")) && 0 === u.dayIndex) {
                let e;
                if (null !== (e = (null === (c = u.action) || void 0 === c ? void 0 : c.includes("activity")) && void 0 !== u.dayIndex ? u.dayIndex : (e => {
                    let t = "day-".concat(e, "-0")
                      , i = document.getElementById(t);
                    if (i || 0 === e && document.getElementById("first-day-content"))
                        return 0;
                    for (let n = 1; n <= 10; n++)
                        if (t = "day-".concat(e, "-").concat(n),
                        i = document.getElementById(t))
                            return n;
                    return null
                }
                )(u.legIndex))) {
                    if (t) {
                        for (let i = 0; i < 3; i++)
                            t(i, e);
                        t(u.legIndex, e);
                        let i = function() {
                            let t, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 15;
                            0 === e && document.getElementById("first-day-content") ? t = "first-day-content" : t = o(u.legIndex, e);
                            let r = document.getElementById(t);
                            if (r) {
                                let t = r.offsetHeight > 100
                                  , a = r.scrollHeight;
                                if (t || a > r.offsetHeight + 50) {
                                    let t = (e => {
                                        let t = 0 === e && 0 === u.legIndex ? "first-day-content" : "day-".concat(u.legIndex, "-").concat(e);
                                        if (document.getElementById(t))
                                            return {
                                                legIndex: u.legIndex,
                                                dayIndex: e
                                            };
                                        if (0 === e && 0 === u.legIndex && document.getElementById("day-0-0"))
                                            return {
                                                legIndex: 0,
                                                dayIndex: 0
                                            };
                                        for (let t = 0; t < 5; t++) {
                                            if (t === u.legIndex)
                                                continue;
                                            let i = 0 === t && 0 === e ? "first-day-content" : "day-".concat(t, "-").concat(e);
                                            if (document.getElementById(i))
                                                return {
                                                    legIndex: t,
                                                    dayIndex: e
                                                }
                                        }
                                        if (0 === e) {
                                            for (let e = 0; e <= 10; e++) {
                                                let t = 0 === u.legIndex && 0 === e ? "first-day-content" : "day-".concat(u.legIndex, "-").concat(e);
                                                if (document.getElementById(t))
                                                    return {
                                                        legIndex: u.legIndex,
                                                        dayIndex: e
                                                    }
                                            }
                                            for (let e = 0; e < 5; e++)
                                                for (let t = 0; t <= 10; t++) {
                                                    let i = 0 === e && 0 === t ? "first-day-content" : "day-".concat(e, "-").concat(t);
                                                    if (document.getElementById(i))
                                                        return {
                                                            legIndex: e,
                                                            dayIndex: t
                                                        }
                                                }
                                        }
                                        return null
                                    }
                                    )(e);
                                    t && s(t.legIndex, t.dayIndex, "smooth")
                                } else if (n < l)
                                    setTimeout( () => i(n + 1, l), 300);
                                else {
                                    let t = (e => {
                                        let t = 0 === e && 0 === u.legIndex ? "first-day-content" : "day-".concat(u.legIndex, "-").concat(e);
                                        if (document.getElementById(t))
                                            return {
                                                legIndex: u.legIndex,
                                                dayIndex: e
                                            };
                                        if (0 === e && 0 === u.legIndex && document.getElementById("day-0-0"))
                                            return {
                                                legIndex: 0,
                                                dayIndex: 0
                                            };
                                        for (let t = 0; t < 5; t++) {
                                            if (t === u.legIndex)
                                                continue;
                                            let i = 0 === t && 0 === e ? "first-day-content" : "day-".concat(t, "-").concat(e);
                                            if (document.getElementById(i))
                                                return {
                                                    legIndex: t,
                                                    dayIndex: e
                                                }
                                        }
                                        if (0 === e)
                                            for (let e = 0; e <= 10; e++) {
                                                let t = 0 === u.legIndex && 0 === e ? "first-day-content" : "day-".concat(u.legIndex, "-").concat(e);
                                                if (document.getElementById(t))
                                                    return {
                                                        legIndex: u.legIndex,
                                                        dayIndex: e
                                                    }
                                            }
                                        return null
                                    }
                                    )(e);
                                    t && s(t.legIndex, t.dayIndex, "smooth")
                                }
                            } else
                                n < l && setTimeout( () => i(n + 1, l), 300)
                        };
                        setTimeout( () => i(), 800)
                    } else {
                        let t = (e => {
                            let t = 0 === e && 0 === u.legIndex ? "first-day-content" : "day-".concat(u.legIndex, "-").concat(e);
                            if (document.getElementById(t))
                                return {
                                    legIndex: u.legIndex,
                                    dayIndex: e
                                };
                            if (0 === e && 0 === u.legIndex && document.getElementById("day-0-0"))
                                return {
                                    legIndex: 0,
                                    dayIndex: 0
                                };
                            for (let t = 0; t < 5; t++) {
                                if (t === u.legIndex)
                                    continue;
                                let i = 0 === t && 0 === e ? "first-day-content" : "day-".concat(t, "-").concat(e);
                                if (document.getElementById(i))
                                    return {
                                        legIndex: t,
                                        dayIndex: e
                                    }
                            }
                            if (0 === e)
                                for (let e = 0; e <= 10; e++) {
                                    let t = 0 === u.legIndex && 0 === e ? "first-day-content" : "day-".concat(u.legIndex, "-").concat(e);
                                    if (document.getElementById(t))
                                        return {
                                            legIndex: u.legIndex,
                                            dayIndex: e
                                        }
                                }
                            return null
                        }
                        )(e);
                        t && s(t.legIndex, t.dayIndex, "smooth")
                    }
                }
            } else if (void 0 !== u.dayIndex && t) {
                for (let e = 0; e < 3; e++)
                    t(e, u.dayIndex);
                t(u.legIndex, u.dayIndex);
                let e = function() {
                    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 15
                      , n = o(u.legIndex, u.dayIndex)
                      , l = document.getElementById(n);
                    if (l) {
                        let n = l.offsetHeight > 100
                          , r = l.scrollHeight;
                        n || r > l.offsetHeight + 50 ? s(u.legIndex, u.dayIndex, "smooth") : t < i ? setTimeout( () => e(t + 1, i), 300) : s(u.legIndex, u.dayIndex, "smooth")
                    } else
                        t < i && setTimeout( () => e(t + 1, i), 300)
                };
                setTimeout( () => e(), 800)
            }
            return r(),
            !0
        }
    }
    ,
    81441: (e, t, i) => {
        "use strict";
        function n() {
            for (var e = arguments.length, t = Array(e), i = 0; i < e; i++)
                t[i] = arguments[i];
            return t.filter(Boolean).join(" ")
        }
        i.d(t, {
            V: () => n
        })
    }
    ,
    31696: (e, t, i) => {
        "use strict";
        i.d(t, {
            DO: () => a,
            LC: () => o,
            ax: () => r
        });
        var n = i(28097)
          , l = i(48060)
          , r = function(e) {
            return e.Help = "help",
            e.Login = "login",
            e.Share = "share",
            e.BookTrip = "bookTrip",
            e.DownloadTripPdf = "downloadTripPdf",
            e
        }({});
        let a = (e, t) => {
            let {fromIata: i, toIata: r, departureDate: a, returnDate: o, numberOfAdults: s, childrenAges: d, cabinClass: c} = e
              , u = a ? n.c9.fromISO(a).toFormat("yyyy-LL-dd") : null
              , p = o ? n.c9.fromISO(o).toFormat("yyyy-LL-dd") : null;
            return "https://skyscanner.net/g/referrals/v1/flights/day-view" + "?mediaPartnerId=".concat(l.jY) + "&origin=".concat(i) + "&destination=".concat(r) + "&outboundDate=".concat(u) + "".concat(p ? "&inboundDate=".concat(p) : "") + "".concat(t ? "&utm_term=".concat(t) : "") + "&subid2=".concat(encodeURIComponent("layla")) + "".concat(s && 1 !== s ? "&adultsv2=".concat(s) : "") + "".concat((null == d ? void 0 : d.length) ? "&childrenv2=".concat(d.join("|")) : "") + "".concat(c ? "&cabinclass=".concat(c) : "")
        }
          , o = e => {
            if (!e || !e.includes("skyscanner.net") && !e.includes("skyscanner.com"))
                return e;
            let t = "layla";
            try {
                let i = new URL(e);
                return i.searchParams.set("subid2", t),
                i.toString()
            } catch (n) {
                console.warn("Error adding partner to Skyscanner URL:", n);
                let i = e.includes("?") ? "&" : "?";
                return "".concat(e).concat(i, "subid2=").concat(encodeURIComponent(t))
            }
        }
    }
    ,
    97025: (e, t, i) => {
        "use strict";
        i.d(t, {
            Dw: () => v,
            Ej: () => _,
            FG: () => m,
            Fn: () => N,
            H3: () => b,
            Kc: () => y,
            OA: () => f,
            W4: () => j,
            bO: () => c,
            cf: () => p,
            eg: () => I,
            jD: () => C,
            jK: () => A,
            mN: () => h,
            pj: () => w,
            q_: () => s,
            uh: () => g,
            uk: () => x,
            wI: () => d,
            wj: () => u
        });
        var n = i(22405)
          , l = i(22472)
          , r = i(28097)
          , a = i(45552)
          , o = i(17555);
        function s(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "en";
            return r.c9.fromISO(e, {
                zone: "utc"
            }).setLocale(t).toFormat("d LLL, yyyy")
        }
        function d(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "en";
            return r.c9.fromISO(e, {
                zone: "utc"
            }).setLocale(t).toFormat("LLL d")
        }
        function c(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "en";
            return r.c9.fromISO(e, {
                zone: "utc"
            }).setLocale(t).toFormat("ccc, LLL d")
        }
        function u(e, t, i) {
            let n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "en"
              , l = r.c9.fromISO(e, {
                zone: "utc"
            }).setLocale(n).toFormat("ccc, LLL d");
            return "".concat(i, " ").concat(t, " (").concat(l, ")")
        }
        function p(e, t) {
            let i = []
              , n = new Date("".concat(e, "T00:00:00Z"));
            for (let e = 0; e < t; e++) {
                let t = new Date(n);
                t.setUTCDate(n.getUTCDate() + e);
                let l = t.toISOString().split("T")[0];
                i.push(l)
            }
            return i
        }
        function v(e, t) {
            var i;
            if (!e || !t)
                return 1;
            let n = r.c9.fromISO(e)
              , l = r.c9.fromISO(t);
            return n.isValid && l.isValid ? Math.max(1, Math.ceil(null !== (i = l.diff(n, "days").toObject().days) && void 0 !== i ? i : 0) + 1) : 1
        }
        function _(e) {
            return !!e && null != e && !!e._seconds && null != e && !!e._nanoseconds && new Date(1e3 * e._seconds + e._nanoseconds / 1e6) >= r.c9.fromObject({
                year: 2024,
                month: 10,
                day: 18,
                hour: 14,
                minute: 0
            }, {
                zone: "Europe/Berlin"
            }).toJSDate()
        }
        function m(e) {
            return Array.isArray(e) ? e.filter(e => "pointOfOrigin" !== e.type) : Array.isArray(null == e ? void 0 : e.legs) ? e.legs.filter(e => "pointOfOrigin" !== e.type) : []
        }
        let h = e => {
            let t = null == e ? void 0 : e[0];
            return (null == t ? void 0 : t.type) === "pointOfOrigin"
        }
        ;
        function g(e, t) {
            let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "en";
            if (!e || !t)
                return "";
            let n = r.c9.fromJSDate(e).setLocale(i)
              , l = r.c9.fromJSDate(t).setLocale(i)
              , a = n.toFormat("MMM dd")
              , o = l.toFormat("MMM dd, yyyy");
            return "".concat(a, " - ").concat(o)
        }
        function f(e, t) {
            let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "en"
              , n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
            if (!e || !t)
                return "";
            let l = r.c9.fromJSDate(e, {
                zone: "utc"
            }).setLocale(i)
              , a = r.c9.fromJSDate(t, {
                zone: "utc"
            }).setLocale(i);
            if (!l.isValid || !a.isValid)
                return "";
            let o = l.toFormat("d LLL")
              , s = a.toFormat("d LLL")
              , d = l.toFormat("LLL")
              , c = a.toFormat("LLL")
              , u = n ? " ".concat(a.year) : "";
            return d === c ? "".concat(d, " ").concat(l.day, " – ").concat(a.day).concat(u) : "".concat(o, " – ").concat(s).concat(u)
        }
        let x = e => ({
            id: e.id,
            name: e.name,
            abstract: e.abstract,
            description: e.description,
            images: e.images,
            location: e.location,
            duration: {
                unit: e.duration.unit || "minute",
                value: e.duration.value || 0
            },
            webUrl: e.webUrl,
            provider: e.provider,
            rating: e.rating,
            numberOfRatings: e.numberOfRatings,
            numberOfReviews: e.numberOfReviews || 0,
            metadata: e.metadata,
            priceInEurosPerPerson: e.priceInEurosPerPerson || 0
        })
          , y = (e, t, i) => {
            if (!e.location || "dayTrip" === e.type || "transit" === e.type)
                return "";
            let n = e.startDay + t;
            return i ? i("trip.helpers.dayWithNumber", {
                number: n
            }) : "Day ".concat(n, ":")
        }
          , b = (e, t) => e ? "dayTrip" === e.type ? t ? t("trip.helpers.dayTripRange") : "(Day Trip)" : "transit" === e.type ? t ? t("trip.helpers.transitRange") : "(Transit)" : e.startDate === e.endDate || e.startDay === e.endDay ? t ? t("trip.helpers.singleDayRange", {
            day: e.startDay
        }) : "(Day ".concat(e.startDay, ")") : t ? t("trip.helpers.multiDayRange", {
            startDay: e.startDay,
            endDay: e.endDay
        }) : "(Day ".concat(e.startDay, "-").concat(e.endDay, ")") : ""
          , j = e => {
            if (!e || e.every(e => e.subType === o.Xz.Unknown))
                return !1;
            let t = Object.values(o.Xz).filter(e => e !== o.Xz.Unknown && e !== o.Xz.Place);
            return e.some(e => t.includes(e.subType))
        }
          , w = async (e, t) => {
            try {
                await (0,
                n.mZ)((0,
                n.H9)(l.firestoreDB, "trips", e), t)
            } catch (e) {
                return console.error("Error updating Trip: ", e),
                !1
            }
            return !0
        }
        ;
        function A(e) {
            return e.images && e.images.length > 0 ? e.images[0] : e.imageUrl ? e.imageUrl : ""
        }
        function I(e) {
            return e.images && e.images.length > 0 ? e.images : e.imageUrl ? [e.imageUrl] : []
        }
        function C(e) {
            return e.location && e.location.lat && e.location.lng ? {
                lat: e.location.lat,
                lng: e.location.lng
            } : e.latitude && e.longitude ? {
                lat: e.latitude,
                lng: e.longitude
            } : null
        }
        let N = e => {
            var t, i, n, l, r, o;
            if (!e)
                return !1;
            if (e.version === a.sG.V2)
                return (null === (r = e.legs) || void 0 === r ? void 0 : r.some(e => e.days && e.days.length > 0 && e.days.some(e => e.items && e.items.length > 0))) || !1;
            let s = null === (t = e.legs) || void 0 === t ? void 0 : t.filter(e => (null == e ? void 0 : e.itinerary) && e.itinerary.length > 0)
              , d = null == s ? void 0 : null === (l = s[0]) || void 0 === l ? void 0 : null === (n = l.itinerary) || void 0 === n ? void 0 : null === (i = n[0]) || void 0 === i ? void 0 : i.description;
            return (null !== (o = null == d ? void 0 : d.length) && void 0 !== o ? o : 0) > 0
        }
    }
    ,
    45552: (e, t, i) => {
        "use strict";
        i.d(t, {
            Mr: () => n,
            VY: () => a,
            sG: () => r,
            zp: () => l
        });
        var n = function(e) {
            return e.ACTIVITY = "activity",
            e.ATTRACTION = "attraction",
            e
        }({})
          , l = function(e) {
            return e.PLACE = "place",
            e.RESTAURANT = "restaurant",
            e.CONTACT = "contact",
            e.OTHER = "other",
            e
        }({})
          , r = function(e) {
            return e[e.V2 = 2] = "V2",
            e
        }({})
          , a = function(e) {
            return e.RESTAURANT = "restaurant",
            e.POI = "poi",
            e.ACTIVITY = "activity",
            e.ATTRACTION = "attraction",
            e
        }({})
    }
    ,
    22802: (e, t, i) => {
        "use strict";
        i.d(t, {
            Ey: () => d,
            bO: () => c,
            u$: () => s,
            wY: () => p
        });
        var n = i(11081)
          , l = i(17555)
          , r = i(97025)
          , a = i(88058)
          , o = i(77756);
        let s = function(e, t) {
            let i, n = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
            if (!e)
                return t;
            switch (e) {
            case l.Xz.Airport:
                i = "04C9A6";
                break;
            case l.Xz.Train:
                i = "734286";
                break;
            case l.Xz.Bus:
            case l.Xz.Station:
                i = "E47225";
                break;
            case l.Xz.Car:
                i = "E0043B";
                break;
            case l.Xz.Boat:
            case l.Xz.Ferry:
            case l.Xz.Ship:
                i = "#2EBAD3";
                break;
            default:
                return t
            }
            return n ? "#".concat(i) : i
        }
          , d = async (e, t, i) => {
            let l = "pk.eyJ1IjoiZW1pcnBhc2ljYmQiLCJhIjoiY2xoaG0yYjFoMGQ0cjNncHJtbW1sMWR0bCJ9.3KdSTp0dU-mhebvFMhU5BQ"
              , d = "https://api.mapbox.com/styles/v1/mapbox/streets-v11/static"
              , c = (0,
            r.FG)(e)
              , [,u] = (0,
            n.j)(e);
            if (!t.length || 1 === t.length) {
                var p, v, _, m;
                let e = (null == c ? void 0 : null === (v = c[0]) || void 0 === v ? void 0 : null === (p = v.destination) || void 0 === p ? void 0 : p.lat) || (null == u ? void 0 : u.latitude)
                  , t = (null == c ? void 0 : null === (m = c[0]) || void 0 === m ? void 0 : null === (_ = m.destination) || void 0 === _ ? void 0 : _.lng) || (null == u ? void 0 : u.longitude);
                if (!e || !t)
                    return "";
                let i = "[".concat(t - .05, ",").concat(e - .05, ",").concat(t + .05, ",").concat(e + .05, "]");
                return "".concat(d, "/pin-l+ff6b6b(").concat(t, ",").concat(e, ")/").concat(i, "/333x515@2x?access_token=").concat(l)
            }
            let h = await (0,
            a.BF)(t, "pdf-route")
              , g = []
              , f = []
              , x = 1
              , y = new Set
              , b = t.flatMap(e => {
                var t;
                let {options: i} = e;
                return null !== (t = null == i ? void 0 : i.option) && void 0 !== t ? t : []
            }
            ).filter(e => {
                let t = "".concat(e.latitude, ",").concat(e.longitude).concat(e.location);
                return !y.has(t) && (y.add(t),
                "place" === e.subType)
            }
            ).length;
            y.clear();
            let j = [];
            t.forEach( (t, n) => {
                var l, r;
                let {options: d, leg: c} = t
                  , u = null !== (r = null == d ? void 0 : d.option) && void 0 !== r ? r : []
                  , {isPointOfOrigin: p} = (0,
                o.Wi)(c, e.legs || []);
                if (p)
                    return;
                let v = (0,
                o.bS)(u)
                  , {transportType: _, filteredRoute: m} = v
                  , w = i.replace("#", "") || "ff6b6b"
                  , A = s(null == _ ? void 0 : _.subType, w, !1)
                  , I = u.find(e => {
                    var t;
                    return null === (t = e.details) || void 0 === t ? void 0 : t.geoJsonUrl
                }
                )
                  , C = null;
                if (null == I ? void 0 : null === (l = I.details) || void 0 === l ? void 0 : l.geoJsonUrl) {
                    let e = h["pdf-route-".concat(n, "-").concat(I.details.geoJsonUrl)];
                    e && (C = (0,
                    a.jn)(e))
                }
                let N = {
                    ...v,
                    midPoint: {
                        lat: 0,
                        lng: 0
                    },
                    geoJsonLineSegments: C
                }
                  , T = (0,
                o.hl)(N, j);
                if (T.length > 1) {
                    let e = encodeURIComponent(JSON.stringify({
                        type: "Feature",
                        geometry: {
                            type: "LineString",
                            coordinates: T
                        },
                        properties: {
                            stroke: "#".concat(A),
                            "stroke-width": 4,
                            "stroke-opacity": .9
                        }
                    }));
                    g.push("geojson(".concat(e, ")"))
                }
                m.forEach(e => {
                    let t = "".concat(e.latitude, ",").concat(e.longitude).concat(e.location);
                    if (!y.has(t) && (y.add(t),
                    "place" === e.subType)) {
                        let t = x++;
                        if (b <= 9) {
                            let i = "pin-l-".concat(t, "+ffffff(").concat(e.longitude, ",").concat(e.latitude, ")");
                            f.push(i)
                        } else {
                            let i;
                            i = 1 === t ? "pin-l-1+ff0000(".concat(e.longitude, ",").concat(e.latitude, ")") : t === b ? "pin-l+00ff00(".concat(e.longitude, ",").concat(e.latitude, ")") : "pin-s+ffffff(".concat(e.longitude, ",").concat(e.latitude, ")"),
                            f.push(i)
                        }
                    }
                }
                )
            }
            );
            let w = [...g, ...f]
              , A = w.length ? w.join(",") : ""
              , I = "auto";
            if (j.length > 1) {
                let e = j.map(e => {
                    let[t] = e;
                    return t
                }
                )
                  , t = j.map(e => {
                    let[,t] = e;
                    return t
                }
                )
                  , i = Math.min(...e)
                  , n = Math.max(...e)
                  , l = Math.min(...t)
                  , r = Math.max(...t)
                  , a = (n - i) * .1 || .01
                  , o = (r - l) * .1 || .01;
                I = "[".concat(i - a, ",").concat(l - o, ",").concat(n + a, ",").concat(r + o, "]")
            }
            return "".concat(d, "/").concat(A, "/").concat(I, "/333x515@2x?access_token=").concat(l)
        }
          , c = e => ({
            from: e("trip.pdf.from"),
            day: e("trip.pdf.day"),
            days: e("trip.pdf.days"),
            travelPlan: e("trip.pdf.travelPlan"),
            destination: e("trip.pdf.destination"),
            destinations: e("trip.pdf.destinations"),
            approxTotalCost: e("trip.pdf.approxTotalCost"),
            for: e("trip.pdf.for"),
            person: e("trip.pdf.person"),
            people: e("trip.pdf.people"),
            itinerary: e("trip.pdf.itinerary"),
            accommodation: e("trip.pdf.accommodation"),
            and: e("trip.pdf.and"),
            more: e("trip.pdf.more"),
            night: e("trip.pdf.night"),
            nights: e("trip.pdf.nights"),
            adult: e("trip.pdf.adult"),
            adults: e("trip.pdf.adults"),
            perNight: e("trip.pdf.perNight"),
            total: e("trip.pdf.total"),
            bookNow: e("trip.pdf.bookNow"),
            page: e("trip.pdf.page"),
            openTripInLayla: e("trip.pdf.openTripIn", {
                domain: ""
            }),
            createdByLayla: e("trip.pdf.createdByLayla"),
            downloadApp: e("trip.pdf.downloadApp"),
            donwloadTitle: e("trip.pdf.donwloadTitle"),
            downloadDescription: e("trip.pdf.downloadDescription"),
            bookNowTitle: e("trip.pdf.bookNowTitle"),
            bookNowWhyBookNow1: e("trip.pdf.bookNowWhyBookNow1"),
            bookNowWhyBookNow2: e("trip.pdf.bookNowWhyBookNow2"),
            bookNowWhyBookNow3: e("trip.pdf.bookNowWhyBookNow3")
        })
          , u = function() {
            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "en";
            switch (e) {
            case "ar":
                return "NotoSansArabic";
            case "hi":
                return "NotoSansDevanagari";
            case "zh":
            case "zh-CN":
                return "NotoSansSC";
            case "ja":
                return "NotoSansJP";
            case "he":
                return "NotoSansHebrew";
            default:
                return "Inter"
            }
        }
          , p = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "en"
              , i = u(t)
              , n = t.startsWith("ar") || t.startsWith("he")
              , l = e => Object.fromEntries(Object.entries(e).map(e => {
                let[t,n] = e;
                return "object" == typeof n && null !== n ? [t, l(n)] : "fontFamily" === t ? [t, i] : [t, n]
            }
            ))
              , r = l(e);
            return n ? {
                ...r,
                ...n ? {
                    textAlign: "right",
                    direction: "rtl",
                    writingMode: "rl-tb"
                } : {}
            } : r
        }
    }
    ,
    77756: (e, t, i) => {
        "use strict";
        i.d(t, {
            A2: () => r,
            Wi: () => a,
            bS: () => l,
            hl: () => s,
            vA: () => o
        });
        var n = i(88058);
        let l = e => {
            let t = e.filter(e => e.latitude && e.longitude)
              , i = e.find(e => "unknown" !== e.subType && "place" !== e.subType)
              , n = t.filter(e => "place" === e.subType)
              , l = n[0] || t[0]
              , r = n[n.length - 1] || t[t.length - 1]
              , a = l && r ? [[l.longitude, l.latitude], [r.longitude, r.latitude]] : [];
            return {
                points: e,
                filteredRoute: t,
                transportType: i,
                placePoints: n,
                firstPoint: l,
                lastPoint: r,
                routeCoordinates: a
            }
        }
          , r = (e, t, i) => {
            var l, r;
            let {firstPoint: a, lastPoint: o, transportType: s} = e
              , d = {
                lat: a && o ? (a.latitude + o.latitude) / 2 : 0,
                lng: a && o ? (a.longitude + o.longitude) / 2 : 0
            }
              , u = null;
            if (null == s ? void 0 : null === (l = s.details) || void 0 === l ? void 0 : l.geoJsonUrl) {
                let e = t[i];
                if (e) {
                    u = null !== (r = (0,
                    n.jn)(e)) && void 0 !== r ? r : [];
                    try {
                        d = c(u, s.details.lengthInMeters)
                    } catch (e) {
                        console.error("Error calculating route midpoint, will use simple calculation.", e)
                    }
                }
            }
            return {
                ...e,
                midPoint: d,
                geoJsonLineSegments: u
            }
        }
          , a = (e, t) => {
            let i = t.findIndex(t => t.endDate === e.endDate)
              , n = t[i - 1]
              , l = "pointOfOrigin" === e.type || (null == n ? void 0 : n.type) === "pointOfOrigin";
            return {
                leg: e,
                legIdx: i,
                previousLeg: n,
                isPointOfOrigin: l
            }
        }
          , o = (e, t, i, n) => {
            let l = e * Math.PI / 180
              , r = i * Math.PI / 180
              , a = (n - t) * Math.PI / 180;
            return (180 * Math.atan2(Math.sin(a) * Math.cos(r), Math.cos(l) * Math.sin(r) - Math.sin(l) * Math.cos(r) * Math.cos(a)) / Math.PI + 360) % 360
        }
          , s = (e, t) => {
            let {geoJsonLineSegments: i, filteredRoute: l} = e;
            if (i) {
                let e = (0,
                n.Fu)(i);
                return t && e.forEach(e => t.push(e)),
                e
            }
            let r = [];
            return l.forEach(e => {
                if (void 0 !== e.latitude && void 0 !== e.longitude) {
                    let i = [e.longitude, e.latitude];
                    r.push(i),
                    t && t.push(i)
                }
            }
            ),
            r
        }
          , d = (e, t) => {
            if (1 === e.length || t <= 0)
                return {
                    lng: e[0][0],
                    lat: e[0][1]
                };
            if (t >= 1) {
                let t = e[e.length - 1];
                return {
                    lng: t[0],
                    lat: t[1]
                }
            }
            let i = t * (e.length - 1)
              , n = Math.floor(i)
              , l = Math.min(n + 1, e.length - 1)
              , r = i - n
              , a = e[n]
              , o = e[l];
            return {
                lng: a[0] + (o[0] - a[0]) * r,
                lat: a[1] + (o[1] - a[1]) * r
            }
        }
          , c = (e, t) => {
            let i = (0,
            n.Fu)(e);
            if (0 === i.length)
                throw Error("No coordinates available for midpoint calculation");
            if (!t)
                return d(i, .5);
            let l = t / 2
              , r = i.slice(0, -1).map( (e, t) => ({
                current: e,
                next: i[t + 1],
                segmentDistance: (0,
                n.zS)(e, i[t + 1])
            })).reduce( (e, t, i) => {
                let n = 0 === i ? 0 : e[i - 1].cumulativeDistance + e[i - 1].segmentDistance;
                return [...e, {
                    ...t,
                    cumulativeDistance: n
                }]
            }
            , []).find(e => {
                let {cumulativeDistance: t, segmentDistance: i} = e;
                return t + i >= l
            }
            );
            if (r) {
                let {current: e, next: t, cumulativeDistance: i, segmentDistance: n} = r
                  , a = n > 0 ? (l - i) / n : 0;
                return {
                    lng: e[0] + (t[0] - e[0]) * a,
                    lat: e[1] + (t[1] - e[1]) * a
                }
            }
            let a = i[i.length - 1];
            return {
                lng: a[0],
                lat: a[1]
            }
        }
    }
    ,
    29306: (e, t, i) => {
        "use strict";
        i.d(t, {
            $X: () => o,
            GT: () => s,
            sQ: () => d
        });
        var n = i(22472)
          , l = i(25508)
          , r = i(80731)
          , a = i(29380);
        let o = () => {
            let e = (0,
            l.Sm)()
              , t = (0,
            r.b)();
            return async (i, l, r) => {
                var o;
                let s = await (null === (o = n.auth.currentUser) || void 0 === o ? void 0 : o.getIdToken());
                return await (0,
                a.sg)(i, l, r, s, t, e)
            }
        }
          , s = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                frameTimeInSeconds: .5,
                extension: "png"
            };
            return new Promise(i => {
                var n;
                let l = document.createElement("canvas")
                  , r = document.createElement("video")
                  , a = document.createElement("source")
                  , o = l.getContext("2d")
                  , s = URL.createObjectURL(e);
                r.style.display = "none",
                l.style.display = "none",
                a.setAttribute("src", s),
                r.setAttribute("crossorigin", "anonymous"),
                r.setAttribute("preload", "metadata"),
                r.appendChild(a),
                document.body.appendChild(l),
                document.body.appendChild(r),
                o && (r.currentTime = null !== (n = t.frameTimeInSeconds) && void 0 !== n ? n : 0,
                r.load(),
                r.addEventListener("loadedmetadata", () => {
                    l.width = r.videoWidth,
                    l.height = r.videoHeight
                }
                ),
                r.addEventListener("loadeddata", () => {
                    setTimeout( () => {
                        o.drawImage(r, 0, 0, r.videoWidth, r.videoHeight),
                        l.toBlob(n => {
                            n && (i(new File([n],"".concat(t.filename || e.name, "_preview.").concat(t.extension),{
                                type: "image/".concat(t.extension)
                            })),
                            URL.revokeObjectURL(s),
                            r.remove(),
                            l.remove())
                        }
                        , "image/".concat(t.extension))
                    }
                    , 2e3)
                }
                ))
            }
            )
        }
          , d = e => !!(e.currentTime > 0 && !e.paused && !e.ended && e.readyState > 2)
    }
    ,
    13718: (e, t, i) => {
        "use strict";
        i.d(t, {
            Cd: () => o,
            J6: () => a,
            eV: () => d,
            pt: () => s
        });
        let n = e => {
            var t;
            return {
                id: e.id,
                mp4Url: e.mp4Url,
                thumbnailUrl: e.thumbnailUrl,
                creator: null === (t = e.creator) || void 0 === t ? void 0 : t.username,
                city: void 0,
                country: void 0,
                caption: e.caption,
                duration: e.duration,
                width: e.width,
                height: e.height
            }
        }
          , l = e => ({
            id: e.videoId.toString(),
            mp4Url: e.mp4Url,
            thumbnailUrl: e.thumbnailUrl,
            creator: e.creator,
            city: e.city,
            country: e.country,
            caption: void 0,
            duration: void 0,
            width: void 0,
            height: void 0
        })
          , r = (e, t) => ({
            id: "image-".concat(t),
            mp4Url: "",
            thumbnailUrl: e,
            creator: void 0,
            city: void 0,
            country: void 0,
            caption: void 0,
            duration: void 0,
            width: void 0,
            height: void 0
        })
          , a = function() {
            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
              , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
            return [...e.map(n), ...t.map(r)]
        }
          , o = e => e.map(l)
          , s = e => !!e.mp4Url
          , d = e => e ? e.startsWith("https://cdn.dev.beautifuldestinations.app/") || e.startsWith("https://") ? e : "https://cdn.dev.beautifuldestinations.app/".concat(e) : ""
    }
    ,
    28031: e => {
        e.exports = {
            car_header: "CarRentalHeader_car_header__blMlD",
            car_name: "CarRentalHeader_car_name__EhFdI",
            car_category: "CarRentalHeader_car_category__LM_S0"
        }
    }
    ,
    72075: e => {
        e.exports = {
            car_image_container: "CarRentalImage_car_image_container__RJwoU",
            car_image: "CarRentalImage_car_image__Ajlmn",
            supplier_image: "CarRentalImage_supplier_image__4LE8k",
            car_image_placeholder: "CarRentalImage_car_image_placeholder__6WITP",
            placeholder_text: "CarRentalImage_placeholder_text__WUUx8"
        }
    }
    ,
    97435: e => {
        e.exports = {
            car_card: "CarRentalItem_car_card__ch4lI",
            car_content: "CarRentalItem_car_content__vy3Rs",
            car_details: "CarRentalItem_car_details__Aq_Bf"
        }
    }
    ,
    20763: e => {
        e.exports = {
            features: "CarRentalLocation_features___syVy",
            feature_item: "CarRentalLocation_feature_item__CfP3_",
            checkmark: "CarRentalLocation_checkmark__Bu8sm"
        }
    }
    ,
    42037: e => {
        e.exports = {
            car_pricing: "CarRentalPricing_car_pricing__Lf_0s",
            price: "CarRentalPricing_price__tNIZ5",
            price_label: "CarRentalPricing_price_label__MMor8",
            price_amount: "CarRentalPricing_price_amount__FZFFK",
            buttons: "CarRentalPricing_buttons__4rnyd",
            view_deal_button: "CarRentalPricing_view_deal_button__DSXI_"
        }
    }
    ,
    31844: e => {
        e.exports = {
            car_rental_list: "CarRentalList_car_rental_list__6sREQ"
        }
    }
    ,
    79126: e => {
        e.exports = {
            container: "AISearchEntitySkeleton_container__1iETD",
            loadingContainer: "AISearchEntitySkeleton_loadingContainer__lMY0t",
            loadingSkeleton: "AISearchEntitySkeleton_loadingSkeleton__gK8qx",
            skeletonItem: "AISearchEntitySkeleton_skeletonItem__3OD7Z",
            skeletonImage: "AISearchEntitySkeleton_skeletonImage__gvNxF",
            shimmer: "AISearchEntitySkeleton_shimmer__ecqbW",
            skeletonContent: "AISearchEntitySkeleton_skeletonContent___3s_r",
            skeletonTitle: "AISearchEntitySkeleton_skeletonTitle__43Gl4",
            skeletonSubtitle: "AISearchEntitySkeleton_skeletonSubtitle__08mfg",
            skeletonTags: "AISearchEntitySkeleton_skeletonTags__6dSMG"
        }
    }
    ,
    30130: e => {
        e.exports = {
            container: "AISearchFilter_container__dqila",
            container_flights: "AISearchFilter_container_flights__pO6tI",
            searchInputWrapper: "AISearchFilter_searchInputWrapper__VY5R9"
        }
    }
    ,
    73356: e => {
        e.exports = {
            container: "AISearchResults_container__A5Rdc",
            compactContainer: "AISearchResults_compactContainer__CzFe2",
            resultsContainer: "AISearchResults_resultsContainer__e57vQ",
            destinationsContainer: "AISearchResults_destinationsContainer__c41so",
            resultItem: "AISearchResults_resultItem__fAm_K",
            emptyState: "AISearchResults_emptyState__msSfW",
            activitiesContainer: "AISearchResults_activitiesContainer__hkYJP",
            activityCardWrapper: "AISearchResults_activityCardWrapper__DJkVd",
            shimmer: "AISearchResults_shimmer___gaIU"
        }
    }
    ,
    10672: e => {
        e.exports = {
            container: "DestinationSkeleton_container__6pONZ",
            skeletonColumn: "DestinationSkeleton_skeletonColumn__wqUW6",
            skeletonGrid: "DestinationSkeleton_skeletonGrid__Q59Hk",
            skeletonCard: "DestinationSkeleton_skeletonCard__pEpCV",
            skeletonBackground: "DestinationSkeleton_skeletonBackground__nUvg7",
            shimmer: "DestinationSkeleton_shimmer__4KB3Y",
            skeletonOverlay: "DestinationSkeleton_skeletonOverlay__hkrF1",
            topContent: "DestinationSkeleton_topContent__UFwRB",
            userInfo: "DestinationSkeleton_userInfo__E_Yzu",
            userAvatar: "DestinationSkeleton_userAvatar__1UpO0",
            userName: "DestinationSkeleton_userName__hXELO",
            soundIcon: "DestinationSkeleton_soundIcon__ykZyE",
            bottomContent: "DestinationSkeleton_bottomContent__aWmk3",
            locationTitle: "DestinationSkeleton_locationTitle__ZZCih",
            infoRow: "DestinationSkeleton_infoRow__z6JH3",
            dateBadge: "DestinationSkeleton_dateBadge__88Gm0",
            weatherBadge: "DestinationSkeleton_weatherBadge__V6PZ8",
            priceBadge: "DestinationSkeleton_priceBadge___azec",
            buildTripButton: "DestinationSkeleton_buildTripButton__1m32x"
        }
    }
    ,
    49688: e => {
        e.exports = {
            skeleton_container: "FlightResultsSkeleton_skeleton_container__sTP2_",
            flight_card_skeleton: "FlightResultsSkeleton_flight_card_skeleton__yYq5Z",
            card_content: "FlightResultsSkeleton_card_content__4AEVC",
            card_header: "FlightResultsSkeleton_card_header__EbrXX",
            carrier_section: "FlightResultsSkeleton_carrier_section__KuI3I",
            card_footer: "FlightResultsSkeleton_card_footer__ld72Y"
        }
    }
    ,
    96203: e => {
        e.exports = {
            container: "FlightCompareHeader_container__lOas_",
            title: "FlightCompareHeader_title__rT8WK",
            poweredBy: "FlightCompareHeader_poweredBy__pSS8n"
        }
    }
    ,
    31925: e => {
        e.exports = {
            avatar_wrapper: "VideoAvatar_avatar_wrapper__k_WGd",
            username_wrapper: "VideoAvatar_username_wrapper__tr0HB",
            username: "VideoAvatar_username__eyD5O",
            location: "VideoAvatar_location__8RbsG"
        }
    }
    ,
    4687: e => {
        e.exports = {
            container: "FlightCompareCard_container__3a7Mf",
            tags_container: "FlightCompareCard_tags_container__D6Cb2",
            label: "FlightCompareCard_label__QAIVu",
            option_wrapper: "FlightCompareCard_option_wrapper__yQV6i",
            option: "FlightCompareCard_option__yLFb0",
            reason: "FlightCompareCard_reason__O9JHM",
            flight_and_buttons: "FlightCompareCard_flight_and_buttons__6PFW9",
            flight: "FlightCompareCard_flight__VDHiG",
            flight_collapsed_info: "FlightCompareCard_flight_collapsed_info__U80BJ",
            flight_main_info: "FlightCompareCard_flight_main_info__I2KvT",
            time_and_route: "FlightCompareCard_time_and_route__1fJnQ",
            flight_time: "FlightCompareCard_flight_time__WG_hU",
            flight_route: "FlightCompareCard_flight_route__TJ1qN",
            price_and_button: "FlightCompareCard_price_and_button__hqARn",
            price_section: "FlightCompareCard_price_section__fMQss",
            price_amount: "FlightCompareCard_price_amount__xBXnI",
            price_label: "FlightCompareCard_price_label__SdmyY",
            expand_button: "FlightCompareCard_expand_button__TdnfQ",
            flight_details_full_width: "FlightCompareCard_flight_details_full_width__52Kyp",
            flightExpanded: "FlightCompareCard_flightExpanded__I2pWW",
            carrier: "FlightCompareCard_carrier__2o14Y",
            info: "FlightCompareCard_info__H0gJF",
            price_with_button_wrapper: "FlightCompareCard_price_with_button_wrapper__JnL28",
            info_block: "FlightCompareCard_info_block__CR1W9",
            info_block_value: "FlightCompareCard_info_block_value__HUHJf",
            info_block_value_expanded: "FlightCompareCard_info_block_value_expanded__GphuR",
            info_duration: "FlightCompareCard_info_duration__S5eOC",
            button_block: "FlightCompareCard_button_block__D9EUB",
            button_block_up: "FlightCompareCard_button_block_up__cogm4",
            dropdown: "FlightCompareCard_dropdown__gMg5Z",
            flight_info: "FlightCompareCard_flight_info__CMBvy",
            buttons: "FlightCompareCard_buttons__ceaUS",
            book: "FlightCompareCard_book__4Wdw6",
            airport_code: "FlightCompareCard_airport_code__ruwC5",
            time_with_indicator: "FlightCompareCard_time_with_indicator__FwS5_",
            day_indicator: "FlightCompareCard_day_indicator__u9GCM"
        }
    }
    ,
    52745: e => {
        e.exports = {
            container: "FlightItineraryCompareCard_container__wstGn",
            tags_container: "FlightItineraryCompareCard_tags_container__3SYxF",
            flight_and_buttons: "FlightItineraryCompareCard_flight_and_buttons__5ebot",
            chevron_button: "FlightItineraryCompareCard_chevron_button__SeE8l",
            flight_and_buttons_selected: "FlightItineraryCompareCard_flight_and_buttons_selected__px5bE",
            flight: "FlightItineraryCompareCard_flight__tumEK",
            flightExpanded: "FlightItineraryCompareCard_flightExpanded__0iu9X",
            info: "FlightItineraryCompareCard_info__Jnjtf",
            flight_info_wrapper: "FlightItineraryCompareCard_flight_info_wrapper__eFycW",
            flight_info_wrapper_title: "FlightItineraryCompareCard_flight_info_wrapper_title__pySgf",
            flight_info_wrapper_reason: "FlightItineraryCompareCard_flight_info_wrapper_reason__iaj90",
            price_with_button_wrapper: "FlightItineraryCompareCard_price_with_button_wrapper__YLKdA",
            info_block: "FlightItineraryCompareCard_info_block__mYTMm",
            info_block_value: "FlightItineraryCompareCard_info_block_value__gO8kV",
            info_block_value_total_cost: "FlightItineraryCompareCard_info_block_value_total_cost__16WIe",
            flight_info: "FlightItineraryCompareCard_flight_info__L8XGs",
            flight_card: "FlightItineraryCompareCard_flight_card__sqKHN",
            flight_card_header: "FlightItineraryCompareCard_flight_card_header__6ln3U",
            flight_number: "FlightItineraryCompareCard_flight_number__MUucz",
            flight_route: "FlightItineraryCompareCard_flight_route__FKV12",
            flight_meta: "FlightItineraryCompareCard_flight_meta__prMMC",
            skyscanner_layout: "FlightItineraryCompareCard_skyscanner_layout__LDw4a",
            flight_details_section: "FlightItineraryCompareCard_flight_details_section__L8bu_",
            price_section: "FlightItineraryCompareCard_price_section__OX5jZ",
            flight_leg_container: "FlightItineraryCompareCard_flight_leg_container__1N8Wt",
            flight_leg_header: "FlightItineraryCompareCard_flight_leg_header__k9pU7",
            flight_leg_route: "FlightItineraryCompareCard_flight_leg_route__FY1Pa",
            flight_leg_date: "FlightItineraryCompareCard_flight_leg_date___3Afs",
            flight_row: "FlightItineraryCompareCard_flight_row__BBxAo",
            carrier_column: "FlightItineraryCompareCard_carrier_column__sFJfX",
            time_column: "FlightItineraryCompareCard_time_column__aR4KW",
            time_value: "FlightItineraryCompareCard_time_value__GrP9P",
            iata_code: "FlightItineraryCompareCard_iata_code__ey3YZ",
            duration_stops_column: "FlightItineraryCompareCard_duration_stops_column__d_olk",
            duration_text: "FlightItineraryCompareCard_duration_text__ZGMXq",
            stops_line_container: "FlightItineraryCompareCard_stops_line_container__EtaVI",
            stops_line: "FlightItineraryCompareCard_stops_line__2zGYi",
            stops_line_dots: "FlightItineraryCompareCard_stops_line_dots__idBok",
            stop_dot: "FlightItineraryCompareCard_stop_dot__2OVdn",
            plane_icon: "FlightItineraryCompareCard_plane_icon__mt_bq",
            stops_text: "FlightItineraryCompareCard_stops_text__7n7tY",
            buttons_container: "FlightItineraryCompareCard_buttons_container__8SfNO",
            book_button: "FlightItineraryCompareCard_book_button__FhBWX",
            action_button: "FlightItineraryCompareCard_action_button__T7Dik"
        }
    }
    ,
    5025: e => {
        e.exports = {
            container: "MobileVideoPlayer_container__S22qK",
            video_player: "MobileVideoPlayer_video_player__AQo66",
            overlay_image: "MobileVideoPlayer_overlay_image__w_tjt"
        }
    }
    ,
    8020: e => {
        e.exports = {
            container: "HotelSearchList_container__ZERE4",
            align_start: "HotelSearchList_align_start__gQZve"
        }
    }
    ,
    31924: e => {
        e.exports = {
            container: "HotelList_container__Fqme3"
        }
    }
    ,
    81613: e => {
        e.exports = {
            popup_container: "HotelListItem_popup_container__p_519",
            popup_wrapper: "HotelListItem_popup_wrapper__rgB0u",
            hotel_card: "HotelListItem_hotel_card__DDCzM",
            container: "HotelListItem_container___mXsx",
            info: "HotelListItem_info__lRUGK",
            compact_container: "HotelListItem_compact_container__rm8bk",
            compact_info: "HotelListItem_compact_info__IpTKw",
            compact_hotel_card: "HotelListItem_compact_hotel_card__3Ehbm"
        }
    }
    ,
    85999: e => {
        e.exports = {
            container: "HotelListItemCarousel_container__dEYix",
            carousel_item: "HotelListItemCarousel_carousel_item__c2C22",
            match: "HotelListItemCarousel_match__z4FVq",
            gallery: "HotelListItemCarousel_gallery__Oxx9Z",
            image: "HotelListItemCarousel_image__QlmDG",
            video: "HotelListItemCarousel_video__kXNPC",
            galerry_popup_container: "HotelListItemCarousel_galerry_popup_container___bykU",
            compact_container: "HotelListItemCarousel_compact_container__yWVDH",
            compact_match: "HotelListItemCarousel_compact_match__l70Mw"
        }
    }
    ,
    47603: e => {
        e.exports = {
            container: "HotelListItemInfo_container__zs3IB",
            top_card: "HotelListItemInfo_top_card__Ey_jB",
            middle_card: "HotelListItemInfo_middle_card__uF8MD",
            layla_says: "HotelListItemInfo_layla_says__Ja78t",
            compact_container: "HotelListItemInfo_compact_container__wHTfC",
            pricing_section: "HotelListItemInfo_pricing_section__9lp3d",
            main_section: "HotelListItemInfo_main_section__sE0eJ",
            main_section_header: "HotelListItemInfo_main_section_header__fY6dB",
            main_section_prices: "HotelListItemInfo_main_section_prices__9QWJw",
            original_price: "HotelListItemInfo_original_price__KLVj_",
            discounted_price: "HotelListItemInfo_discounted_price__1dwDR",
            total_text_small: "HotelListItemInfo_total_text_small__ImY_F",
            main_section_buttons: "HotelListItemInfo_main_section_buttons__NQdCl",
            view_hotel_button: "HotelListItemInfo_view_hotel_button__VCPXY",
            view_hotel_button_single: "HotelListItemInfo_view_hotel_button_single__mmQ4O",
            view_hotel_button_primary_single: "HotelListItemInfo_view_hotel_button_primary_single__MjwUo",
            addHotelButton: "HotelListItemInfo_addHotelButton__qxd89",
            main_section_buttons_secondary: "HotelListItemInfo_main_section_buttons_secondary__Kdtnd",
            booking_logo: "HotelListItemInfo_booking_logo__pFDpS",
            compact_top_card: "HotelListItemInfo_compact_top_card__hgC2v",
            compact_middle_card: "HotelListItemInfo_compact_middle_card__yd18J",
            partner_back: "HotelListItemInfo_partner_back__SfF34",
            hotels_page_button: "HotelListItemInfo_hotels_page_button__KFjTV",
            enhanced_card: "HotelListItemInfo_enhanced_card__1m_cM",
            enhanced_review_section: "HotelListItemInfo_enhanced_review_section__Yx4D0",
            enhanced_badges_section: "HotelListItemInfo_enhanced_badges_section__a_Sr8",
            enhanced_badges_section_for_mobile: "HotelListItemInfo_enhanced_badges_section_for_mobile__BCC81",
            enhanced_price_main: "HotelListItemInfo_enhanced_price_main__85M7g",
            enhanced_price_display: "HotelListItemInfo_enhanced_price_display__kxIeU",
            enhanced_price_crossed: "HotelListItemInfo_enhanced_price_crossed__eV7ge",
            enhanced_price_per_night: "HotelListItemInfo_enhanced_price_per_night__UnkZY",
            enhanced_img: "HotelListItemInfo_enhanced_img__GJWBK",
            hide_PriceBadges: "HotelListItemInfo_hide_PriceBadges__YerMH"
        }
    }
    ,
    30775: e => {
        e.exports = {
            wrapped: "HotelPhotos_wrapped__KmDht",
            close_button: "HotelPhotos_close_button__jfmdq",
            block_header: "HotelPhotos_block_header__eEcIL",
            block_name_hotel: "HotelPhotos_block_name_hotel__CsC2l",
            block_photo: "HotelPhotos_block_photo___hX2g",
            photos_grid: "HotelPhotos_photos_grid__Z6Boy",
            full_image: "HotelPhotos_full_image__3CZzK",
            gallery__item: "HotelPhotos_gallery__item__sU2jj"
        }
    }
    ,
    98230: e => {
        e.exports = {
            button: "AddHotelButton_button__kcmSP",
            plus_icon: "AddHotelButton_plus_icon__aNlpd"
        }
    }
    ,
    57640: e => {
        e.exports = {
            button: "AddedHotelButton_button__qAQOL",
            left_section: "AddedHotelButton_left_section__76m7c",
            text: "AddedHotelButton_text__d9J9Y",
            chevron: "AddedHotelButton_chevron__qRAog",
            rotated: "AddedHotelButton_rotated__hvv5x",
            button_wrapper: "AddedHotelButton_button_wrapper__X77gI",
            compact_button_wrapper: "AddedHotelButton_compact_button_wrapper__zaqmu",
            compact_button: "AddedHotelButton_compact_button__D4Vg1"
        }
    }
    ,
    83494: e => {
        e.exports = {
            date: "BookingPricing_date___eZf1",
            date_label: "BookingPricing_date_label__WhBol"
        }
    }
    ,
    7746: e => {
        e.exports = {
            container: "HotelLocationOrTags_container__4eXus",
            location: "HotelLocationOrTags_location__lcMkR",
            compact_container: "HotelLocationOrTags_compact_container__V5SXC",
            compact_location: "HotelLocationOrTags_compact_location__KUOK_"
        }
    }
    ,
    70670: e => {
        e.exports = {
            container: "HotelName_container__q2Io2",
            top_line: "HotelName_top_line__gU4Lc",
            hotel_name: "HotelName_hotel_name__DFHg7",
            compact_top_line: "HotelName_compact_top_line__jp2GW",
            compact_hotel_name: "HotelName_compact_hotel_name__MGcAx"
        }
    }
    ,
    17934: e => {
        e.exports = {
            container: "HotelPriceBadges_container__mcDfq",
            lowestPriceBadge: "HotelPriceBadges_lowestPriceBadge__8JwIi",
            discountBadge: "HotelPriceBadges_discountBadge__ZDva2"
        }
    }
    ,
    46662: e => {
        e.exports = {
            button: "HotelReviewButton_button__fP2b5",
            extended_reviews_type_button_img: "HotelReviewButton_extended_reviews_type_button_img___vuHw"
        }
    }
    ,
    84584: e => {
        e.exports = {
            container: "HotelReviewScore_container__YIiKa",
            score: "HotelReviewScore_score__z8v93",
            info: "HotelReviewScore_info__4qo6K",
            score_text: "HotelReviewScore_score_text__V6luY",
            reviews: "HotelReviewScore_reviews__eFLmO",
            score_big: "HotelReviewScore_score_big__P_8_z",
            score_in_map: "HotelReviewScore_score_in_map__GyqD7",
            score_text_in_map: "HotelReviewScore_score_text_in_map__L2MOY",
            score_review_in_map: "HotelReviewScore_score_review_in_map__CiC__",
            score_text_big: "HotelReviewScore_score_text_big__ooqvv",
            reviews_big: "HotelReviewScore_reviews_big__aeZ6_",
            reviews_more: "HotelReviewScore_reviews_more__vWy9O",
            score_text_more: "HotelReviewScore_score_text_more__nDia0",
            score_in_map_more: "HotelReviewScore_score_in_map_more__p6_FX",
            compact_score: "HotelReviewScore_compact_score__3yIH6",
            compact_score_text: "HotelReviewScore_compact_score_text__P9TT_",
            compact_reviews: "HotelReviewScore_compact_reviews__cmXB7"
        }
    }
    ,
    31638: e => {
        e.exports = {
            stars: "HotelStars_stars__P_qNJ"
        }
    }
    ,
    42774: e => {
        e.exports = {
            tags: "HotelTags_tags__cyO8g",
            flex_end: "HotelTags_flex_end__iYJYN",
            tag: "HotelTags_tag__6CwQ_",
            tag_big: "HotelTags_tag_big__NmwtA"
        }
    }
    ,
    11142: e => {
        e.exports = {
            hotel_relevance: "LaylaRelevanceText_hotel_relevance__MCTxd"
        }
    }
    ,
    95494: e => {
        e.exports = {
            wrapper: "Loader_wrapper__fYlnA",
            loader: "Loader_loader__P7_5y",
            spin: "Loader_spin__QSEcn"
        }
    }
    ,
    38663: e => {
        e.exports = {
            match: "HotelMarkerInfo_match__FQJ4T",
            hotel_panel: "HotelMarkerInfo_hotel_panel__IYY_x",
            marker_header: "HotelMarkerInfo_marker_header__xRVCs",
            purchase_button: "HotelMarkerInfo_purchase_button__vfBeq",
            hotel_panel_image: "HotelMarkerInfo_hotel_panel_image__E2u5D",
            hotel_panel_image_image: "HotelMarkerInfo_hotel_panel_image_image__W6Db_",
            hotel_panel_info: "HotelMarkerInfo_hotel_panel_info__DHY74",
            hotel_panel_close_button: "HotelMarkerInfo_hotel_panel_close_button__liz4k",
            hotel_panel_all_info: "HotelMarkerInfo_hotel_panel_all_info__iyXqC",
            hotel_panel_location: "HotelMarkerInfo_hotel_panel_location__LNfKW",
            hotel_panel_price: "HotelMarkerInfo_hotel_panel_price__gEShY",
            hotel_panel_price_night: "HotelMarkerInfo_hotel_panel_price_night__Bp3Di",
            hotel_panel_price_night_text: "HotelMarkerInfo_hotel_panel_price_night_text__YrLFd",
            hotel_panel_price_night_count: "HotelMarkerInfo_hotel_panel_price_night_count__ydSHW",
            hotel_panel_name_and_stars: "HotelMarkerInfo_hotel_panel_name_and_stars__M6OsF",
            hotel_panel_name: "HotelMarkerInfo_hotel_panel_name__FDdVl",
            cta_button_wrapper: "HotelMarkerInfo_cta_button_wrapper__N_kqo",
            cta_button: "HotelMarkerInfo_cta_button__KXtBo"
        }
    }
    ,
    18866: e => {
        e.exports = {
            scrollerContainer: "Scroller_scrollerContainer__IDSMd",
            scroller: "Scroller_scroller__9p06m",
            scroller_button: "Scroller_scroller_button__cSKdP",
            scroller_button_left: "Scroller_scroller_button_left__rzIzn",
            scroller_button_right: "Scroller_scroller_button_right__kcxdG"
        }
    }
    ,
    50468: e => {
        e.exports = {
            container: "styles_container___Uax1",
            content: "styles_content__7wA5y",
            logoContainer: "styles_logoContainer__Ba4zT",
            title: "styles_title__8gOAL",
            conveyor: "styles_conveyor__QUp__",
            conveyorTrack: "styles_conveyorTrack__djUs0",
            conveyorScroll: "styles_conveyorScroll__g2FWy",
            unit: "styles_unit__J64TZ",
            sequence: "styles_sequence__iH0ex",
            spacer: "styles_spacer__rtJY4",
            conveyorItem: "styles_conveyorItem__y9yH6"
        }
    }
    ,
    92390: e => {
        e.exports = {
            drawer_paper: "MobileEntityDrawer_drawer_paper__9VK3k",
            container: "MobileEntityDrawer_container___afF9",
            content_area: "MobileEntityDrawer_content_area__SKrBb"
        }
    }
    ,
    95960: e => {
        e.exports = {
            share_button_container: "ShareButtonAndPopup_share_button_container__XqQQJ",
            share_mask: "ShareButtonAndPopup_share_mask__6k_mL",
            share_mask_mobile: "ShareButtonAndPopup_share_mask_mobile__kEU_O",
            share_popup: "ShareButtonAndPopup_share_popup__DY8lU",
            share_popup_bottom_bar: "ShareButtonAndPopup_share_popup_bottom_bar__XyD0t",
            share_popup_header_portal: "ShareButtonAndPopup_share_popup_header_portal__E0ee2"
        }
    }
    ,
    28537: e => {
        e.exports = {
            tab_component_with_timeline: "TabComponent_tab_component_with_timeline__it_Ll",
            tab_component_content: "TabComponent_tab_component_content__d5B_G",
            tab_component_content_preview: "TabComponent_tab_component_content_preview__mhbx0",
            tab_component_content_last: "TabComponent_tab_component_content_last__wsukv"
        }
    }
    ,
    86251: e => {
        e.exports = {
            firstBlock: "AddNewPanel_firstBlock__CC84c",
            card__container: "AddNewPanel_card__container__0hYTw",
            label: "AddNewPanel_label__cWbtn",
            accommodation: "AddNewPanel_accommodation__ri8_h",
            transfer: "AddNewPanel_transfer__KQfWb",
            activity: "AddNewPanel_activity__3m3HA",
            addButton: "AddNewPanel_addButton__S7VhX",
            card__image_wrapper: "AddNewPanel_card__image_wrapper__8GDVg",
            card__info: "AddNewPanel_card__info__MW6mc",
            block_info: "AddNewPanel_block_info__HtZei",
            wrapper: "AddNewPanel_wrapper__N2V1l",
            skeleton_title: "AddNewPanel_skeleton_title__mrDhK",
            skeleton_rating: "AddNewPanel_skeleton_rating__ShEYt",
            skeleton_info: "AddNewPanel_skeleton_info__3JE3s",
            skeleton_button: "AddNewPanel_skeleton_button__o2L_f",
            skeleton_image: "AddNewPanel_skeleton_image__76Axi"
        }
    }
    ,
    80368: e => {
        e.exports = {
            button: "AddActivityButton_button__tU4QK"
        }
    }
    ,
    36720: e => {
        e.exports = {
            container: "AlternateActivity_container___mnnZ",
            selected: "AlternateActivity_selected__p4o_y",
            carousel_item: "AlternateActivity_carousel_item__kTi4r",
            image_wrapper: "AlternateActivity_image_wrapper__emQtC",
            image: "AlternateActivity_image__9Z7ES",
            stars: "AlternateActivity_stars__2wgjd",
            ratingWrapper: "AlternateActivity_ratingWrapper__pXdzf",
            titleActivity: "AlternateActivity_titleActivity__xk79d",
            optionsActivity: "AlternateActivity_optionsActivity__IVL1I",
            infoWrapper: "AlternateActivity_infoWrapper__sA4VO",
            infoBlock: "AlternateActivity_infoBlock__54toK",
            hotel_style: "AlternateActivity_hotel_style__3E_Ib",
            info: "AlternateActivity_info__jJ_p1",
            price: "AlternateActivity_price__6IgmT",
            wrapperText: "AlternateActivity_wrapperText__qZTfR",
            compact_button_wrapper: "AlternateActivity_compact_button_wrapper__gnNjd",
            compact_button: "AlternateActivity_compact_button__wlyU_",
            imageWrapper: "AlternateActivity_imageWrapper__BMLPM",
            sourceBadge: "AlternateActivity_sourceBadge__tkR8c"
        }
    }
    ,
    99441: e => {
        e.exports = {
            container: "TabItinerary_container____pO2",
            daysWrapper: "TabItinerary_daysWrapper__GyJ5_",
            chatDaysWrapper: "TabItinerary_chatDaysWrapper__97mve",
            blockDays: "TabItinerary_blockDays__m8tqY",
            blockDesc: "TabItinerary_blockDesc__PIUno",
            chat_timeline: "TabItinerary_chat_timeline__12srd",
            chatBlockDesc: "TabItinerary_chatBlockDesc__15Vr3",
            blockDescTrip: "TabItinerary_blockDescTrip__t6TC0",
            dayAndTitleBlock: "TabItinerary_dayAndTitleBlock__P9WPn",
            textBlock: "TabItinerary_textBlock__IFZYA",
            textBlockArrivalCity: "TabItinerary_textBlockArrivalCity__y5QsB",
            read_more: "TabItinerary_read_more__XXRXW",
            overview: "TabItinerary_overview__SZi6M",
            separator: "TabItinerary_separator__rDifN",
            previewSection: "TabItinerary_previewSection__7A4N4",
            previewSectionTitle: "TabItinerary_previewSectionTitle__nLtFA",
            previewCardsGrid: "TabItinerary_previewCardsGrid__DdQWO",
            previewCardWrapper: "TabItinerary_previewCardWrapper__yKaln",
            addButton: "TabItinerary_addButton__lGImw",
            quickReplyButton: "TabItinerary_quickReplyButton__kInE2",
            tooltip: "TabItinerary_tooltip__f_hNe",
            customReadMore: "TabItinerary_customReadMore__sVq2B",
            customReadMoreText: "TabItinerary_customReadMoreText__mdHDg",
            text_link: "TabItinerary_text_link__9W1m_",
            text_link_view_mode: "TabItinerary_text_link_view_mode__K64NT",
            headerBlock: "TabItinerary_headerBlock__s6c0t",
            titlePopup: "TabItinerary_titlePopup__NtUv8",
            crossButton: "TabItinerary_crossButton__tnYjf",
            chatTextBlock: "TabItinerary_chatTextBlock__BybhL"
        }
    }
    ,
    73763: e => {
        e.exports = {
            tab_overview_with_timeline: "TabOverview_tab_overview_with_timeline__IlIAw",
            timeline_circle: "TabOverview_timeline_circle__8BKXy",
            tab_overview_content: "TabOverview_tab_overview_content__tzCCa",
            block_country: "TabOverview_block_country__byWim",
            location_title: "TabOverview_location_title__1VNiZ",
            days_count: "TabOverview_days_count__ktJkT",
            overview: "TabOverview_overview__lUy7A",
            read_more: "TabOverview_read_more__LISfc",
            trip_route: "TabOverview_trip_route__sWuTH"
        }
    }
    ,
    12535: e => {
        e.exports = {
            container: "TabTripOption_container__JihNU",
            icon_wrapper: "TabTripOption_icon_wrapper__jJ7_K",
            transport_icon: "TabTripOption_transport_icon__FDZMf"
        }
    }
    ,
    49887: e => {
        e.exports = {
            transport_dot: "TransportItem_transport_dot__R968C",
            transport_details_info_expanded_wrapper: "TransportItem_transport_details_info_expanded_wrapper__kk08r",
            transport_details_info_expanded: "TransportItem_transport_details_info_expanded__zGCaD",
            expanded: "TransportItem_expanded__IU0GW",
            transport_details_info_timeline: "TransportItem_transport_details_info_timeline__dH06_",
            live_flight_wrapper: "TransportItem_live_flight_wrapper__X0jrt",
            fight_wrapper: "TransportItem_fight_wrapper__ZceN3",
            fight_info: "TransportItem_fight_info__5CH2l",
            dashed_line: "TransportItem_dashed_line__i6exp",
            separator: "TransportItem_separator__XyOcm",
            transport_details_info_timeline_duration: "TransportItem_transport_details_info_timeline_duration__tEV0a",
            info_expanded_line_item: "TransportItem_info_expanded_line_item__iAfT7",
            info_expanded_line_item_dot: "TransportItem_info_expanded_line_item_dot__L1xSk",
            info_expanded_line_item_content: "TransportItem_info_expanded_line_item_content__T8hLz",
            extraClass: "TransportItem_extraClass__gTTLC",
            time_wrapper: "TransportItem_time_wrapper__0qoUd",
            flight_info_wrapper: "TransportItem_flight_info_wrapper__5ItTf",
            flight_info_text: "TransportItem_flight_info_text__7w_q0",
            flight_info_desc: "TransportItem_flight_info_desc__EawnY",
            time_border: "TransportItem_time_border__gY6vg",
            live_flight_layover_detail: "TransportItem_live_flight_layover_detail__KoPIO",
            flight_segment_duration: "TransportItem_flight_segment_duration__sN_v9",
            time_with_indicator: "TransportItem_time_with_indicator__WgEH8",
            day_indicator: "TransportItem_day_indicator__5fro6"
        }
    }
    ,
    30688: e => {
        e.exports = {
            container: "TripActionButtons_container__7RUAM",
            pdf_wrapper: "TripActionButtons_pdf_wrapper__bmHV5",
            trip_pdf_button: "TripActionButtons_trip_pdf_button__TnDzH",
            pdf_wrapper_download: "TripActionButtons_pdf_wrapper_download__5yh_i",
            share_button: "TripActionButtons_share_button__i2ryn",
            basket_button: "TripActionButtons_basket_button__K6AZ4",
            portalTooltip: "TripActionButtons_portalTooltip__0A49p",
            tooltipTriangle: "TripActionButtons_tooltipTriangle___D8IW",
            bottom_bar_container: "TripActionButtons_bottom_bar_container__Y5xSH",
            pdf_wrapper_with_text: "TripActionButtons_pdf_wrapper_with_text__NKyFm",
            trip_pdf_button_with_text: "TripActionButtons_trip_pdf_button_with_text__0ovU2",
            pdf_text_visible: "TripActionButtons_pdf_text_visible__3ZSdb",
            share_button_with_text: "TripActionButtons_share_button_with_text__lKNs9",
            basket_button_with_text: "TripActionButtons_basket_button_with_text__Xlewz"
        }
    }
    ,
    17868: e => {
        e.exports = {
            purchase_button: "TripActionsButtons_purchase_button__734W3",
            checkout_button: "TripActionsButtons_checkout_button__cwtuF",
            tooltip_checkout: "TripActionsButtons_tooltip_checkout__Wy8Ip",
            tooltip_checkout_arrow: "TripActionsButtons_tooltip_checkout_arrow__b7sP4"
        }
    }
    ,
    79188: e => {
        e.exports = {
            title_wrapper: "ActivityDetailsContent_title_wrapper__cx2m3",
            card__title: "ActivityDetailsContent_card__title__fIeG_",
            infoRow: "ActivityDetailsContent_infoRow__C_1LH",
            ratingWrapper: "ActivityDetailsContent_ratingWrapper__unY32",
            stars: "ActivityDetailsContent_stars__UFyOT",
            freeWrapper: "ActivityDetailsContent_freeWrapper__lvpoR",
            freeText: "ActivityDetailsContent_freeText__zahvP",
            overview: "ActivityDetailsContent_overview__D4_wH",
            description: "ActivityDetailsContent_description__1mpPy",
            description_overview: "ActivityDetailsContent_description_overview__UcCkT",
            read_more_btn: "ActivityDetailsContent_read_more_btn__B_4Nl",
            label: "ActivityDetailsContent_label__cp2Cc",
            button: "ActivityDetailsContent_button__nryKX",
            right_bar: "ActivityDetailsContent_right_bar__0LBeJ",
            date: "ActivityDetailsContent_date__OGNe3",
            price_and_dates: "ActivityDetailsContent_price_and_dates__f_dQn",
            from: "ActivityDetailsContent_from__baKgf",
            discount_price: "ActivityDetailsContent_discount_price__hxVkh",
            discount_price_price: "ActivityDetailsContent_discount_price_price__qEi7K",
            duration_container: "ActivityDetailsContent_duration_container__HNpyZ",
            container_time: "ActivityDetailsContent_container_time__wENJ3",
            duration_text: "ActivityDetailsContent_duration_text___OPIV",
            check_text: "ActivityDetailsContent_check_text__7Avqg",
            boxHr: "ActivityDetailsContent_boxHr__YQrfA",
            hr: "ActivityDetailsContent_hr__ukkOp",
            hotel_map_container: "ActivityDetailsContent_hotel_map_container__a9gM3",
            block: "ActivityDetailsContent_block__lBMyH"
        }
    }
    ,
    92282: e => {
        e.exports = {
            main_wrapper: "ActivityDetailsSkeleton_main_wrapper__K7JPS",
            content_wrapper: "ActivityDetailsSkeleton_content_wrapper__b3KO2",
            container: "ActivityDetailsSkeleton_container__CAnxS",
            fadeIn: "ActivityDetailsSkeleton_fadeIn__2aCMv",
            skeletonItem: "ActivityDetailsSkeleton_skeletonItem__e4i5a",
            shimmer: "ActivityDetailsSkeleton_shimmer__q1UGw",
            titleSection: "ActivityDetailsSkeleton_titleSection__xhuj8",
            label: "ActivityDetailsSkeleton_label__bgWJ7",
            title: "ActivityDetailsSkeleton_title__PbgbU",
            infoRow: "ActivityDetailsSkeleton_infoRow__gmmGH",
            rating: "ActivityDetailsSkeleton_rating__t0Y1C",
            reviews: "ActivityDetailsSkeleton_reviews__IHVpe",
            banner: "ActivityDetailsSkeleton_banner__26xKj",
            durationSection: "ActivityDetailsSkeleton_durationSection__nkCPi",
            clockIcon: "ActivityDetailsSkeleton_clockIcon__lnCtf",
            durationText: "ActivityDetailsSkeleton_durationText__dBP0f",
            duration: "ActivityDetailsSkeleton_duration__Zlq_5",
            availability: "ActivityDetailsSkeleton_availability__ltc4Y",
            descriptionSection: "ActivityDetailsSkeleton_descriptionSection__pAF69",
            sectionTitle: "ActivityDetailsSkeleton_sectionTitle__pxw1l",
            descriptionText: "ActivityDetailsSkeleton_descriptionText__QL9ul",
            textLine: "ActivityDetailsSkeleton_textLine__BIsEd",
            textLineFull: "ActivityDetailsSkeleton_textLineFull__vNtHH",
            textLineMedium: "ActivityDetailsSkeleton_textLineMedium__EmmEA",
            textLineShort: "ActivityDetailsSkeleton_textLineShort__n7jn5",
            divider: "ActivityDetailsSkeleton_divider__3PWfq",
            mapSection: "ActivityDetailsSkeleton_mapSection__r_JQn",
            mapTitle: "ActivityDetailsSkeleton_mapTitle__EkcEz",
            mapContainer: "ActivityDetailsSkeleton_mapContainer__dBO80"
        }
    }
    ,
    32372: e => {
        e.exports = {
            full_height: "TripActivitiesEntity_full_height__uo_UZ",
            flex_container: "TripActivitiesEntity_flex_container__ec_ng",
            left_panel: "TripActivitiesEntity_left_panel__UyTD_",
            loading_container: "TripActivitiesEntity_loading_container__nKtLI",
            list_container: "TripActivitiesEntity_list_container__vCmRT",
            header_section: "TripActivitiesEntity_header_section__3Q4Y5",
            header_title: "TripActivitiesEntity_header_title__q_c16",
            header_subtitle: "TripActivitiesEntity_header_subtitle__2q3Xw",
            search_container: "TripActivitiesEntity_search_container__cZooY",
            search_container_hidden: "TripActivitiesEntity_search_container_hidden__e5QCJ",
            search_container_visible: "TripActivitiesEntity_search_container_visible__P3_HQ",
            activities_grid: "TripActivitiesEntity_activities_grid__urp_V",
            no_activities: "TripActivitiesEntity_no_activities__7x8fv",
            no_activities_text: "TripActivitiesEntity_no_activities_text__n3S5k",
            no_activities_subtext: "TripActivitiesEntity_no_activities_subtext__Kabe9",
            no_activities_button: "TripActivitiesEntity_no_activities_button__MV6fX",
            activity_details: "TripActivitiesEntity_activity_details__1zCcP",
            activity_details_content: "TripActivitiesEntity_activity_details_content__8dZyi",
            bottom_bar: "TripActivitiesEntity_bottom_bar__w_bJI"
        }
    }
    ,
    77002: e => {
        e.exports = {
            bottom_bar: "TripActivityBottomBar_bottom_bar__8W7XB",
            fixed: "TripActivityBottomBar_fixed__WuZae",
            button: "TripActivityBottomBar_button__7X2Pm",
            buttons: "TripActivityBottomBar_buttons__0l3FK",
            add_button: "TripActivityBottomBar_add_button__Y2ZxG",
            addActivityButton: "TripActivityBottomBar_addActivityButton__HDmdE",
            dates_and_travellers: "TripActivityBottomBar_dates_and_travellers__cV3_W",
            left_part: "TripActivityBottomBar_left_part__dkVth",
            total_price: "TripActivityBottomBar_total_price__PjsTH",
            added_button: "TripActivityBottomBar_added_button__Audv3",
            no_hover_pointer: "TripActivityBottomBar_no_hover_pointer__VDiGC",
            leftSection: "TripActivityBottomBar_leftSection__42t2m",
            left_section: "TripActivityBottomBar_left_section__so4kl",
            text: "TripActivityBottomBar_text__ZAavE",
            right: "TripActivityBottomBar_right__UOecM",
            button_wrapper: "TripActivityBottomBar_button_wrapper__zsdHr"
        }
    }
    ,
    65672: e => {
        e.exports = {
            fullHeight: "TripAttractionsEntity_fullHeight__6d9_K",
            flexContainer: "TripAttractionsEntity_flexContainer__2IoVs",
            leftPanel: "TripAttractionsEntity_leftPanel__BGz2g",
            loading_container: "TripAttractionsEntity_loading_container__TNcF9",
            listContainer: "TripAttractionsEntity_listContainer__ucnpW",
            headerSection: "TripAttractionsEntity_headerSection__6jsxU",
            headerTitle: "TripAttractionsEntity_headerTitle__qXn06",
            headerSubtitle: "TripAttractionsEntity_headerSubtitle__7GBD5",
            searchContainer: "TripAttractionsEntity_searchContainer__DEt7i",
            attractionsGrid: "TripAttractionsEntity_attractionsGrid__4CLCg",
            noAttractions: "TripAttractionsEntity_noAttractions__1Zq_Y",
            noAttractionsText: "TripAttractionsEntity_noAttractionsText__udfG7",
            noAttractionsSubtext: "TripAttractionsEntity_noAttractionsSubtext__ASeyX",
            activityDetails: "TripAttractionsEntity_activityDetails__O4u3L",
            activityDetailsContent: "TripAttractionsEntity_activityDetailsContent__hNVYY",
            bottomBar: "TripAttractionsEntity_bottomBar__1kAEa"
        }
    }
    ,
    23722: e => {
        e.exports = {
            item: "TransportPrices_item__dNiKH",
            item_flight_icon: "TransportPrices_item_flight_icon__N73Jq",
            right: "TransportPrices_right__l_PUv",
            left: "TransportPrices_left__WqDI5",
            price_and_reserve: "TransportPrices_price_and_reserve__TC_mt",
            details: "TransportPrices_details__ZJChZ",
            description: "TransportPrices_description__kZxpo",
            price: "TransportPrices_price__V2KGa",
            book_button: "TransportPrices_book_button__Tj5LK",
            priceMob: "TransportPrices_priceMob__aLbiu",
            estimated_text_mobile: "TransportPrices_estimated_text_mobile__gScVy",
            price_in_price_breakdown: "TransportPrices_price_in_price_breakdown__AGCKx",
            airlines_text: "TransportPrices_airlines_text__YDZry",
            airlines_icon: "TransportPrices_airlines_icon__94fJK",
            transfer_image: "TransportPrices_transfer_image__6KGiA",
            estimated_badge: "TransportPrices_estimated_badge__hiY3D",
            blockIcon: "TransportPrices_blockIcon__saYe5",
            price_and_reserve_mob: "TransportPrices_price_and_reserve_mob__oVn4C",
            price_and_reserve_mob_wrapper: "TransportPrices_price_and_reserve_mob_wrapper__VNL1H",
            remove_button: "TransportPrices_remove_button___dkJZ",
            button_wrapper: "TransportPrices_button_wrapper__Tq_QB",
            imageWrapper: "TransportPrices_imageWrapper__lXiZG",
            sourceBadge: "TransportPrices_sourceBadge__0KtK7"
        }
    }
    ,
    92560: e => {
        e.exports = {
            container_wrapper: "TripBasketPopup_container_wrapper__445Vv",
            container: "TripBasketPopup_container__KsfNQ",
            header: "TripBasketPopup_header___NJzK",
            content_activities: "TripBasketPopup_content_activities__vUFyH",
            contentWrapped: "TripBasketPopup_contentWrapped__zF58v",
            sticky_bottom_nav: "TripBasketPopup_sticky_bottom_nav__0lEoX",
            sticky_bottom_total: "TripBasketPopup_sticky_bottom_total__H66V7",
            sticky_bottom_dates: "TripBasketPopup_sticky_bottom_dates__YlM1H",
            legContainer: "TripBasketPopup_legContainer__3k3fR",
            title_location: "TripBasketPopup_title_location__bqUSt",
            accommodationName: "TripBasketPopup_accommodationName__ETh9n",
            accommodationData: "TripBasketPopup_accommodationData__xVrgj",
            pricePeopleBox: "TripBasketPopup_pricePeopleBox__8K65Q",
            perPersonPrice: "TripBasketPopup_perPersonPrice__gUme9",
            linePrice: "TripBasketPopup_linePrice__IAzWO",
            hr: "TripBasketPopup_hr__A_KiU",
            wrapper: "TripBasketPopup_wrapper__rjRAD",
            perPerson: "TripBasketPopup_perPerson__OQ9CI",
            blockIcon: "TripBasketPopup_blockIcon___topd",
            imageClass: "TripBasketPopup_imageClass__vStQc",
            nameBox: "TripBasketPopup_nameBox__Pg06X",
            boxleg: "TripBasketPopup_boxleg__P77xU",
            button_wrapper: "TripBasketPopup_button_wrapper__lTA_l",
            book_activity_button: "TripBasketPopup_book_activity_button__1ifCm",
            remove_button: "TripBasketPopup_remove_button__Pl3HB",
            blur_overlay: "TripBasketPopup_blur_overlay__Z3EK1",
            activity_blur_overlay: "TripBasketPopup_activity_blur_overlay__Nl_D2",
            imageWrapper: "TripBasketPopup_imageWrapper__CVh_1",
            close_button_mobile_position: "TripBasketPopup_close_button_mobile_position__fWvUA",
            sourceBadge: "TripBasketPopup_sourceBadge__ohKDq"
        }
    }
    ,
    75132: e => {
        e.exports = {
            bottom_bar: "TripBottomBar_bottom_bar__O2JQq",
            slideUpIn: "TripBottomBar_slideUpIn__NUIQc",
            sliding_out: "TripBottomBar_sliding_out__3QcZx",
            slideDownOut: "TripBottomBar_slideDownOut__3ftqR",
            left_section: "TripBottomBar_left_section__po8AZ",
            trip_title: "TripBottomBar_trip_title__H9IiP",
            info_row: "TripBottomBar_info_row__72yN0",
            total_price: "TripBottomBar_total_price__goLgY",
            separator: "TripBottomBar_separator__gFwv5",
            dates_button: "TripBottomBar_dates_button__E2Zy0",
            right_section: "TripBottomBar_right_section__iPQ9M"
        }
    }
    ,
    39580: e => {
        e.exports = {
            container: "MobileTripBreadcrumb_container__DEZPz",
            buttonContainer: "MobileTripBreadcrumb_buttonContainer__xLVd_",
            button: "MobileTripBreadcrumb_button__WM6iH",
            title: "MobileTripBreadcrumb_title__431zQ",
            closeButton: "MobileTripBreadcrumb_closeButton__SXJa_"
        }
    }
    ,
    95178: e => {
        e.exports = {
            nav: "TripBreadcrumb_nav__PHQll",
            breadcrumbList: "TripBreadcrumb_breadcrumbList__K6AJK",
            backButton: "TripBreadcrumb_backButton__92XCU",
            breadcrumbItem: "TripBreadcrumb_breadcrumbItem__wf07Q",
            breadcrumbButton: "TripBreadcrumb_breadcrumbButton__y0XK4",
            chevron: "TripBreadcrumb_chevron__6YDtC",
            currentPage: "TripBreadcrumb_currentPage__N77CX"
        }
    }
    ,
    72936: e => {
        e.exports = {
            card: "CarRentalCard_card__h6I8u",
            image_section: "CarRentalCard_image_section__oM8XW",
            car_image: "CarRentalCard_car_image__pkiq6",
            content_section: "CarRentalCard_content_section__i96Ou",
            supplier_section: "CarRentalCard_supplier_section__y_LEP",
            supplier_image: "CarRentalCard_supplier_image__4yND4",
            supplier_name: "CarRentalCard_supplier_name__naH9z",
            car_info_section: "CarRentalCard_car_info_section__yD9w1",
            car_name: "CarRentalCard_car_name__yRtDy",
            car_category: "CarRentalCard_car_category__hjSMT",
            line: "CarRentalCard_line__xqm9E",
            details_section: "CarRentalCard_details_section__XGNU6",
            detail_item: "CarRentalCard_detail_item__WgZYP",
            detail_text: "CarRentalCard_detail_text__ew1kA",
            additional_info_section: "CarRentalCard_additional_info_section__X8kAx",
            info_item: "CarRentalCard_info_item__CxLM1",
            info_text: "CarRentalCard_info_text__JSF3_",
            action_section: "CarRentalCard_action_section__J5OE6",
            price_section: "CarRentalCard_price_section__Yz3jA",
            price: "CarRentalCard_price__YjQNF",
            price_label: "CarRentalCard_price_label__KqOCm",
            view_details_button: "CarRentalCard_view_details_button__N_qqn"
        }
    }
    ,
    972: e => {
        e.exports = {
            container: "CarRentalList_container__77wss",
            list: "CarRentalList_list__ZIwNf",
            loading_section: "CarRentalList_loading_section__2Pqg6",
            loading_spinner: "CarRentalList_loading_spinner__srrOw",
            spin: "CarRentalList_spin__f6qkm",
            loading_text: "CarRentalList_loading_text__vshU3",
            empty_section: "CarRentalList_empty_section__ATRyD",
            empty_icon: "CarRentalList_empty_icon__GQ2gT",
            empty_title: "CarRentalList_empty_title__DvMSr",
            empty_description: "CarRentalList_empty_description__PdbPA"
        }
    }
    ,
    74332: e => {
        e.exports = {
            container: "TripCarsEntity_container__auMOZ",
            content_section: "TripCarsEntity_content_section__BA1IQ",
            header: "TripCarsEntity_header__TI_S1",
            title: "TripCarsEntity_title__dn8tE"
        }
    }
    ,
    48434: e => {
        e.exports = {
            container: "FlightSearchInput_container__h_uR4",
            info_banner_wrapper: "FlightSearchInput_info_banner_wrapper__2bFoG",
            info_banner: "FlightSearchInput_info_banner__ugGA8",
            search_fields_wrapper: "FlightSearchInput_search_fields_wrapper__VWtSx",
            search_fields_row: "FlightSearchInput_search_fields_row__TilSB",
            search_field: "FlightSearchInput_search_field__FGx3b",
            flight_route_container: "FlightSearchInput_flight_route_container__J_rhR",
            route_field: "FlightSearchInput_route_field__lD7CK",
            flight_info_wrapper: "FlightSearchInput_flight_info_wrapper__SkCTD",
            field_text: "FlightSearchInput_field_text__H2dZA",
            field_icon: "FlightSearchInput_field_icon__MaN1C",
            flight_info_item: "FlightSearchInput_flight_info_item__5FnSI",
            search_icon: "FlightSearchInput_search_icon__nbEOE",
            info_icon: "FlightSearchInput_info_icon__6lnPY",
            search_btn: "FlightSearchInput_search_btn__gklWH",
            filter_flights_button: "FlightSearchInput_filter_flights_button__21pLB",
            filter_flights_button_text: "FlightSearchInput_filter_flights_button_text__rEfJV",
            chat_input_container_overlay: "FlightSearchInput_chat_input_container_overlay__SNLf0",
            chat_input_container: "FlightSearchInput_chat_input_container__dulr3",
            chat_input_header: "FlightSearchInput_chat_input_header__6_BSh",
            chat_input_header_text: "FlightSearchInput_chat_input_header_text__2_Ym7",
            chat_input_description: "FlightSearchInput_chat_input_description__s2FzU",
            avatar: "FlightSearchInput_avatar__mkv2_",
            chat_input: "FlightSearchInput_chat_input__gWysp",
            shorten_query: "FlightSearchInput_shorten_query__95kRS"
        }
    }
    ,
    20664: e => {
        e.exports = {
            container: "TripFlightsEntity_container__K1Fmw",
            content_section: "TripFlightsEntity_content_section__Dsckc"
        }
    }
    ,
    21836: e => {
        e.exports = {
            card_container: "TripHighlightsAndSummary_card_container__lnpoF",
            clickable: "TripHighlightsAndSummary_clickable___cxOY",
            collapsed: "TripHighlightsAndSummary_collapsed__nha0l",
            open_button_container: "TripHighlightsAndSummary_open_button_container__d9POu",
            open_button: "TripHighlightsAndSummary_open_button__FK9pc",
            open_icon: "TripHighlightsAndSummary_open_icon__5i8EW",
            section_title: "TripHighlightsAndSummary_section_title__TQpSQ",
            highlight_item: "TripHighlightsAndSummary_highlight_item__99BNv",
            content: "TripHighlightsAndSummary_content__bryHN",
            title: "TripHighlightsAndSummary_title__XezAZ",
            summary: "TripHighlightsAndSummary_summary__MhsMz",
            summary_point: "TripHighlightsAndSummary_summary_point__TDJV_",
            media_container: "TripHighlightsAndSummary_media_container__FeccT",
            first_media: "TripHighlightsAndSummary_first_media__4yV7b",
            side_media_container: "TripHighlightsAndSummary_side_media_container__XTv2T",
            side_media: "TripHighlightsAndSummary_side_media__JAWD1",
            media_image: "TripHighlightsAndSummary_media_image__tIXp6",
            media_video: "TripHighlightsAndSummary_media_video__clkOc",
            media_counter: "TripHighlightsAndSummary_media_counter___j0uT"
        }
    }
    ,
    42910: e => {
        e.exports = {
            container: "TripHighlightsAndSummaryEntity_container__Y0eHu",
            content_area: "TripHighlightsAndSummaryEntity_content_area___g6cd"
        }
    }
    ,
    82644: e => {
        e.exports = {
            banner_header: "TripHotelBanner_banner_header__aYxm1",
            banner_header_desktop: "TripHotelBanner_banner_header_desktop__3hA6x",
            title_logo: "TripHotelBanner_title_logo__2cIv0",
            title_logo_desktop: "TripHotelBanner_title_logo_desktop__KpW77",
            title_content_wrapper: "TripHotelBanner_title_content_wrapper__d_k9H",
            cursor_default: "TripHotelBanner_cursor_default__bA2od",
            title_content_wrapper_desktop: "TripHotelBanner_title_content_wrapper_desktop__BM_ip",
            title_content_wrapper_expanded: "TripHotelBanner_title_content_wrapper_expanded__GajqD",
            image: "TripHotelBanner_image__8vhsm",
            darken_image: "TripHotelBanner_darken_image___etpt",
            video: "TripHotelBanner_video__kAJjJ",
            video_wrapper: "TripHotelBanner_video_wrapper__Pss2N",
            video_info_button: "TripHotelBanner_video_info_button__GCWrj",
            seo_caption: "TripHotelBanner_seo_caption__fkLZn",
            first_tile: "TripHotelBanner_first_tile__vN6Om",
            first_tile_desktop: "TripHotelBanner_first_tile_desktop__GcenL",
            first_tile_two_rows: "TripHotelBanner_first_tile_two_rows__Gc9Yk",
            second_tile: "TripHotelBanner_second_tile__etwmx",
            second_tile_one_row: "TripHotelBanner_second_tile_one_row__SCU8J",
            third_tile: "TripHotelBanner_third_tile__SXhbB",
            third_tile_one_column: "TripHotelBanner_third_tile_one_column__iEdpr",
            fourth_tile: "TripHotelBanner_fourth_tile__tIzLx",
            banner_videos_amount: "TripHotelBanner_banner_videos_amount__SNZ7A",
            banner_videos_amount_desktop: "TripHotelBanner_banner_videos_amount_desktop__IIt_U",
            galerry_popup_container: "TripHotelBanner_galerry_popup_container__wbjgl",
            first_tile_single_mobile: "TripHotelBanner_first_tile_single_mobile__L_s5y"
        }
    }
    ,
    64540: e => {
        e.exports = {
            map: "TripHotelMap_map__DsdGq",
            mapExpanded: "TripHotelMap_mapExpanded__EX_bE",
            open_modal_button: "TripHotelMap_open_modal_button__XgXFV",
            galerry_popup_container: "TripHotelMap_galerry_popup_container__Zy4DL",
            wrapped: "TripHotelMap_wrapped__OdHqu",
            block_header: "TripHotelMap_block_header__quJoz",
            block_name_hotel: "TripHotelMap_block_name_hotel__jwsu4",
            close_button: "TripHotelMap_close_button__FTdkh",
            cross: "TripHotelMap_cross__BQ1Nq",
            arrow: "TripHotelMap_arrow__JSLNn"
        }
    }
    ,
    5436: e => {
        e.exports = {
            full_height: "TripHotelsEntity_full_height__fpZ_c",
            flex_container: "TripHotelsEntity_flex_container__S5JKP",
            left_panel: "TripHotelsEntity_left_panel__XgkhG",
            loading_container: "TripHotelsEntity_loading_container__nf49h",
            list_container: "TripHotelsEntity_list_container__kRvgr",
            header_section: "TripHotelsEntity_header_section__DmY8_",
            header_title: "TripHotelsEntity_header_title__9g1vH",
            search_container: "TripHotelsEntity_search_container__tr79f",
            search_container_hidden: "TripHotelsEntity_search_container_hidden__yYoZt",
            search_container_visible: "TripHotelsEntity_search_container_visible__e8kts",
            hotel_details: "TripHotelsEntity_hotel_details__PhnKG",
            hotel_details_content: "TripHotelsEntity_hotel_details_content__JzShG",
            bottom_bar: "TripHotelsEntity_bottom_bar__2TsC6"
        }
    }
    ,
    5916: e => {
        e.exports = {
            navbar: "TripLegsBar_navbar__DTVGu",
            tabWrapper: "TripLegsBar_tabWrapper__uGh5h",
            tab_container: "TripLegsBar_tab_container__3Gubc",
            arrowButton: "TripLegsBar_arrowButton__OCV4z",
            leftArrow: "TripLegsBar_leftArrow__6WusR",
            rightArrow: "TripLegsBar_rightArrow__ly1fG",
            panel_expanded: "TripLegsBar_panel_expanded__CkSq6",
            navItem: "TripLegsBar_navItem__8_R2O",
            nav_tab: "TripLegsBar_nav_tab__gtSk_",
            navNumber: "TripLegsBar_navNumber__xJ3w6",
            active: "TripLegsBar_active__kin1U",
            navbar_v2: "TripLegsBar_navbar_v2__F34by",
            navbar_v2_sticky: "TripLegsBar_navbar_v2_sticky__LefGU"
        }
    }
    ,
    54208: e => {
        e.exports = {
            wrapped: "TripMedia_wrapped__iAysL",
            full_screen: "TripMedia_full_screen__6J4WU",
            close_button: "TripMedia_close_button__fMsbu",
            block_header: "TripMedia_block_header__8oDYm",
            block_name_hotel: "TripMedia_block_name_hotel__ePKeE",
            block_photo: "TripMedia_block_photo__S_SEU",
            photos_grid: "TripMedia_photos_grid__bD240",
            full_video: "TripMedia_full_video__oXnMO",
            photo_item: "TripMedia_photo_item__6riug",
            video_and_info: "TripMedia_video_and_info__9MyOY",
            is_photo: "TripMedia_is_photo__iEQcb",
            video_wrapper: "TripMedia_video_wrapper__p5sjd",
            video_info: "TripMedia_video_info__PoC9f",
            name_hotel_mob: "TripMedia_name_hotel_mob__I89hR",
            gallery__item: "TripMedia_gallery__item__UiW8m",
            imageWrapper: "TripMedia_imageWrapper__ozFY_",
            sourceBadge: "TripMedia_sourceBadge__7oC08"
        }
    }
    ,
    35264: e => {
        e.exports = {
            button: "DownloadTripPDFButton_button__htvyD",
            loader: "DownloadTripPDFButton_loader__4Sx16",
            spin: "DownloadTripPDFButton_spin__FkrGB",
            portalTooltip: "DownloadTripPDFButton_portalTooltip__C1GFy"
        }
    }
    ,
    46066: e => {
        e.exports = {
            top_buttons_row: "TripPageId_top_buttons_row__iiM_f",
            expand_panel_button: "TripPageId_expand_panel_button__hYCvB",
            trip_details_button: "TripPageId_trip_details_button__SDQAv",
            details_divider: "TripPageId_details_divider__oq_KQ",
            trip_header_buttons: "TripPageId_trip_header_buttons__4jXWq",
            title_wrapper: "TripPageId_title_wrapper__GZjE6",
            title_and_details_wrapper: "TripPageId_title_and_details_wrapper__DVHK3",
            content_wrapper: "TripPageId_content_wrapper__zQq6_",
            content_wrapper_view_mode: "TripPageId_content_wrapper_view_mode__MAywG",
            title_and_details: "TripPageId_title_and_details__DWGzf",
            image_wrapper: "TripPageId_image_wrapper__f_VNO",
            title_content_title: "TripPageId_title_content_title__BwfYr",
            title_content_description: "TripPageId_title_content_description__Wproy",
            mobile_title_row: "TripPageId_mobile_title_row__DJmO_",
            mobile_trip_image: "TripPageId_mobile_trip_image__3BnAr",
            mobile_image: "TripPageId_mobile_image__WMOou",
            trip_data_content: "TripPageId_trip_data_content__ge9_2",
            trip_data_content_preview: "TripPageId_trip_data_content_preview__Pn_dR",
            trip_data_content_new_design: "TripPageId_trip_data_content_new_design__7Hh_W",
            trip_map: "TripPageId_trip_map__W8tqD",
            trip_hero_container: "TripPageId_trip_hero_container__UvySU",
            no_destinations: "TripPageId_no_destinations__qNyO8",
            trip_data_overview_container: "TripPageId_trip_data_overview_container__ZHZUB",
            trip_data_overview_container_new_design: "TripPageId_trip_data_overview_container_new_design__nZNOM",
            trip_leg_section: "TripPageId_trip_leg_section__6AWt0",
            trip_leg_section_new_design: "TripPageId_trip_leg_section_new_design__c7LoJ",
            trip_leg_section_preview: "TripPageId_trip_leg_section_preview__N9ofe",
            mobile_trip_header_card: "TripPageId_mobile_trip_header_card__KwNV1",
            mobile_trip_map_card: "TripPageId_mobile_trip_map_card__tsGlx",
            mobile_trip_map_card_with_buttons: "TripPageId_mobile_trip_map_card_with_buttons__T0CV9",
            mobile_trip_itinerary_card: "TripPageId_mobile_trip_itinerary_card__jgVGG",
            edit_title_wrapper: "TripPageId_edit_title_wrapper__TJB8P",
            desktop_content_row: "TripPageId_desktop_content_row___rQK_",
            two_column_wrapper: "TripPageId_two_column_wrapper__GCweH",
            desktop_left_column: "TripPageId_desktop_left_column__nqM24",
            trip_title_block: "TripPageId_trip_title_block__GDPg3",
            trip_entity_block: "TripPageId_trip_entity_block__9_lCm",
            trip_content_column: "TripPageId_trip_content_column__5O_1s",
            trip_map_column: "TripPageId_trip_map_column__RXmt9",
            full_width_itinerary: "TripPageId_full_width_itinerary__Puh5w",
            trip_map_sticky: "TripPageId_trip_map_sticky__QlUl1",
            trip_map_sticky_with_bottom_bar: "TripPageId_trip_map_sticky_with_bottom_bar__4Q_iv",
            trip_info_buttons_container: "TripPageId_trip_info_buttons_container__zJsiy",
            trip_map_sticky_view_mode: "TripPageId_trip_map_sticky_view_mode__ghcpN",
            no_destinations_collapsed: "TripPageId_no_destinations_collapsed__lx88C",
            mobile_content_with_sticky_buttons: "TripPageId_mobile_content_with_sticky_buttons__l8Sz8",
            mobile_trip_info_buttons: "TripPageId_mobile_trip_info_buttons__j4SxR",
            mobile_trip_info_buttons_sticky: "TripPageId_mobile_trip_info_buttons_sticky__WhliN",
            spin: "TripPageId_spin__sB5ht",
            showStickyHeader: "TripPageId_showStickyHeader__zRMhn"
        }
    }
    ,
    47854: e => {
        e.exports = {
            tableWrapper: "TripQuickviewModal_tableWrapper__Kz1fv"
        }
    }
    ,
    25550: e => {
        e.exports = {
            container: "HiddenItemModal_container__4vg12",
            header: "HiddenItemModal_header__utQcB",
            closeButton: "HiddenItemModal_closeButton__5_3n7",
            content: "HiddenItemModal_content__Pg9oo",
            footer: "HiddenItemModal_footer__j_JOz"
        }
    }
    ,
    47978: e => {
        e.exports = {
            container: "MapSelectionModal_container__UI2_w",
            header: "MapSelectionModal_header__PKC_e",
            closeButton: "MapSelectionModal_closeButton__nzLHG",
            content: "MapSelectionModal_content__S_0wV",
            instructions: "MapSelectionModal_instructions__SVIdV",
            mapContainer: "MapSelectionModal_mapContainer___8te1",
            coordinates: "MapSelectionModal_coordinates__UBCp7",
            actions: "MapSelectionModal_actions__eQhf6",
            footer: "MapSelectionModal_footer__RqeLQ",
            bounce: "MapSelectionModal_bounce__e0shr"
        }
    }
    ,
    35666: e => {
        e.exports = {
            modal_overlay: "RecommendationPreviewPopup_modal_overlay__qgJ2y",
            modal_container: "RecommendationPreviewPopup_modal_container__tNRba",
            modal_in: "RecommendationPreviewPopup_modal_in__a7pQf",
            close_button: "RecommendationPreviewPopup_close_button__HIob5",
            media_container: "RecommendationPreviewPopup_media_container__Xh8k0",
            media_content: "RecommendationPreviewPopup_media_content__lL1eB",
            media_item: "RecommendationPreviewPopup_media_item__OdUI5",
            media_item_visible: "RecommendationPreviewPopup_media_item_visible__lPJqR",
            media_item_hidden: "RecommendationPreviewPopup_media_item_hidden__f4Yif",
            media_image: "RecommendationPreviewPopup_media_image__lA6jH",
            media_counter: "RecommendationPreviewPopup_media_counter__DQcb2",
            no_media_placeholder: "RecommendationPreviewPopup_no_media_placeholder__pewZm",
            no_media_icon: "RecommendationPreviewPopup_no_media_icon__6ynzX",
            no_media_text: "RecommendationPreviewPopup_no_media_text__m0E9T",
            content_section: "RecommendationPreviewPopup_content_section__pkgn4",
            header_section: "RecommendationPreviewPopup_header_section__pcfFP",
            type_icon: "RecommendationPreviewPopup_type_icon__10BH6",
            title: "RecommendationPreviewPopup_title__928La",
            description: "RecommendationPreviewPopup_description__wEKpp",
            actions_section: "RecommendationPreviewPopup_actions_section__bLMmu",
            zoom_button: "RecommendationPreviewPopup_zoom_button__lciHw"
        }
    }
    ,
    3244: e => {
        e.exports = {
            container: "TripRecommendations_container__IS5mH",
            header: "TripRecommendations_header__uw_Hr",
            title: "TripRecommendations_title__wVYKA",
            description: "TripRecommendations_description__RA0wd",
            card_item: "TripRecommendations_card_item__RpkF4",
            hidden: "TripRecommendations_hidden__KnmPS",
            card_media: "TripRecommendations_card_media__8MhUr",
            card_title: "TripRecommendations_card_title__u394U",
            card_image_container: "TripRecommendations_card_image_container__Ri3dp",
            card_image: "TripRecommendations_card_image__DsVLq",
            card_image_placeholder: "TripRecommendations_card_image_placeholder__2xcMB",
            placeholder_icon: "TripRecommendations_placeholder_icon__8Kkk2",
            placeholder_text: "TripRecommendations_placeholder_text__WeAJ6",
            card_content: "TripRecommendations_card_content__ApMVb",
            card_type: "TripRecommendations_card_type__YIPNm",
            type_icon: "TripRecommendations_type_icon__MQC2z",
            zoom_button: "TripRecommendations_zoom_button___B12d",
            delete_button: "TripRecommendations_delete_button__vVayl"
        }
    }
    ,
    45616: e => {
        e.exports = {
            container: "TripRouteOptionsEntity_container___D3FJ",
            content_area: "TripRouteOptionsEntity_content_area__Bb6fL"
        }
    }
    ,
    20831: e => {
        e.exports = {
            container: "RelatedSeoContent_container__TNOxC",
            links_wrapper: "RelatedSeoContent_links_wrapper__AmIdO",
            link_inline: "RelatedSeoContent_link_inline__e5ASp",
            dot: "RelatedSeoContent_dot__Xvxjq"
        }
    }
    ,
    45094: e => {
        e.exports = {
            leg_videos_block: "styles_leg_videos_block__QSogj"
        }
    }
    ,
    56686: e => {
        e.exports = {
            media_block: "styles_media_block__7W42z",
            image_wrapper: "styles_image_wrapper__NYE_i"
        }
    }
    ,
    17085: e => {
        e.exports = {
            trip_legs_media_block: "TripLegsMediaBlock_trip_legs_media_block__zj6Bx"
        }
    }
    ,
    70313: e => {
        e.exports = {
            trip_videos_block: "TripVideosBlock_trip_videos_block__xcVP7",
            image_wrapper: "TripVideosBlock_image_wrapper__oEtU9"
        }
    }
    ,
    99771: e => {
        e.exports = {
            chat_close_button: "CloseButton_chat_close_button__A5Aky",
            chat_close_button_left: "CloseButton_chat_close_button_left__LhhuL",
            chat_close_button_right: "CloseButton_chat_close_button_right__yVRq2"
        }
    }
    ,
    39891: e => {
        e.exports = {
            rotate: "ExpandPanelButton_rotate__Zxv7C",
            expand_panel_button: "ExpandPanelButton_expand_panel_button__8y_O3"
        }
    }
    ,
    257: e => {
        e.exports = {
            video_panel: "VideoMarkerInfo_video_panel__88GPO",
            video_container: "VideoMarkerInfo_video_container__6jp9J",
            video_player: "VideoMarkerInfo_video_player__XGEtu",
            video_panel_close_button: "VideoMarkerInfo_video_panel_close_button__PPrJ0",
            video_panel_expand_button: "VideoMarkerInfo_video_panel_expand_button__j9N1X",
            video_counter: "VideoMarkerInfo_video_counter__hKstF",
            nav_button_left: "VideoMarkerInfo_nav_button_left__DYg4d",
            nav_button_right: "VideoMarkerInfo_nav_button_right__ToXRz"
        }
    }
    ,
    72652: e => {
        e.exports = {
            readMoreContainer: "ReadMore_readMoreContainer__cg3sl",
            content: "ReadMore_content__Kc84v",
            collapsed: "ReadMore_collapsed__G9NoH",
            expanded: "ReadMore_expanded__IzdsK",
            readMoreButton: "ReadMore_readMoreButton__n9ws8"
        }
    }
    ,
    42748: e => {
        e.exports = {
            input_container: "SearchInput_input_container__zsTef",
            input_and_button: "SearchInput_input_and_button__e4j0v",
            input: "SearchInput_input__FjV4n",
            send_button: "SearchInput_send_button__wOzV4",
            loader: "SearchInput_loader__eC7u4",
            spin: "SearchInput_spin__n3nJ5",
            loader_wrapper: "SearchInput_loader_wrapper___BeQt",
            lockedOverlay: "SearchInput_lockedOverlay__t1_8V",
            unlockButton: "SearchInput_unlockButton__8OduD",
            unlockButtonAsText: "SearchInput_unlockButtonAsText__NHEtn",
            locked_img: "SearchInput_locked_img__Ndo_v",
            blink: "SearchInput_blink__jaLra",
            shimmer: "SearchInput_shimmer__z26tf"
        }
    }
    ,
    7334: e => {
        e.exports = {
            container: "SimpleCarousel_container__V4oSp",
            carousel: "SimpleCarousel_carousel__n0B5v",
            carousel_item: "SimpleCarousel_carousel_item__MASx_",
            dots_container: "SimpleCarousel_dots_container__6zgAM",
            dot: "SimpleCarousel_dot__aFehk",
            controls_top: "SimpleCarousel_controls_top__0IA6s",
            controls_center: "SimpleCarousel_controls_center__35EyQ",
            controls_bottom: "SimpleCarousel_controls_bottom__jDB0E",
            control_btn_light: "SimpleCarousel_control_btn_light__BqxxK",
            control_btn_dark: "SimpleCarousel_control_btn_dark__mMwa0",
            control_btn_white: "SimpleCarousel_control_btn_white__CxmCO",
            control_btn_white_outline: "SimpleCarousel_control_btn_white_outline__Koj8K",
            control_btn_trnsp: "SimpleCarousel_control_btn_trnsp__O8Mae",
            active_dot: "SimpleCarousel_active_dot___Vjbb"
        }
    }
    ,
    56244: e => {
        e.exports = {
            container: "ToastNotification_container__BzGEA",
            wrapper: "ToastNotification_wrapper__bPqaZ",
            imageContainer: "ToastNotification_imageContainer__JwEg2",
            singleRowText: "ToastNotification_singleRowText__kXr_0"
        }
    }
    ,
    96332: e => {
        e.exports = {
            tooltipContainer: "Tooltip_tooltipContainer__Eplk8",
            tooltip: "Tooltip_tooltip__cXRjh",
            triangle: "Tooltip_triangle__R7_KM",
            "top-center": "Tooltip_top-center__qcwnD",
            "top-left": "Tooltip_top-left__Wp9h7",
            "top-right": "Tooltip_top-right__GLvbl",
            "bottom-center": "Tooltip_bottom-center___e__c",
            "bottom-left": "Tooltip_bottom-left__hiiEI",
            "bottom-right": "Tooltip_bottom-right__34C4e",
            "left-center": "Tooltip_left-center__z5cXz",
            "right-center": "Tooltip_right-center__V9L8x",
            "triangle-top-center": "Tooltip_triangle-top-center__BIwWu",
            "triangle-top-left": "Tooltip_triangle-top-left__tk0XH",
            "triangle-top-right": "Tooltip_triangle-top-right__MwKd7",
            "triangle-bottom-center": "Tooltip_triangle-bottom-center__0aCOh",
            "triangle-bottom-left": "Tooltip_triangle-bottom-left__h10YP",
            "triangle-bottom-right": "Tooltip_triangle-bottom-right__e0__h",
            "triangle-left-center": "Tooltip_triangle-left-center__wGvgh",
            "triangle-right-center": "Tooltip_triangle-right-center__lp9Pe"
        }
    }
    ,
    62004: e => {
        e.exports = {
            overlay: "VideoOverlay_overlay__XoSys",
            container: "VideoOverlay_container__gL_uB",
            closeButton: "VideoOverlay_closeButton__1wvNI",
            navButton: "VideoOverlay_navButton__9jYQd",
            navButtonLeft: "VideoOverlay_navButtonLeft__avrvT",
            navButtonRight: "VideoOverlay_navButtonRight__BH8Fe",
            carousel: "VideoOverlay_carousel__e_o8N",
            videoItem: "VideoOverlay_videoItem__XNLR_",
            videoCounter: "VideoOverlay_videoCounter__pX_4S",
            video: "VideoOverlay_video__sIaHi",
            image: "VideoOverlay_image__x_Tdb",
            videoInfo: "VideoOverlay_videoInfo__PiTgQ",
            creator: "VideoOverlay_creator__0hRnV",
            location: "VideoOverlay_location__gGaZj",
            mobileNavOverlay: "VideoOverlay_mobileNavOverlay__XwoxL",
            mobileNavButton: "VideoOverlay_mobileNavButton__HNs6U",
            mobileNavPrev: "VideoOverlay_mobileNavPrev__c_T9a",
            mobileNavNext: "VideoOverlay_mobileNavNext__sBnv7",
            fadeIn: "VideoOverlay_fadeIn__exycl"
        }
    }
    ,
    6025: e => {
        e.exports = {
            close_modal_button: "ItineraryMap_close_modal_button__dAXA6",
            open_transport_option_button: "ItineraryMap_open_transport_option_button__wqhto",
            open_modal_button: "ItineraryMap_open_modal_button__gxYHs",
            itinerary_routes_modal: "ItineraryMap_itinerary_routes_modal__y60O5"
        }
    }
    ,
    13454: e => {
        e.exports = {
            activity_marker: "DetailMarkers_activity_marker__QiGE3",
            hover: "DetailMarkers_hover__BM9QU",
            activity_icon: "DetailMarkers_activity_icon__F6eEo",
            hotel_marker: "DetailMarkers_hotel_marker__Jkmsv",
            mapboxgl_marker: "DetailMarkers_mapboxgl_marker__2PxHx",
            hotel_icon: "DetailMarkers_hotel_icon__GuQ0i",
            marker_label: "DetailMarkers_marker_label__glpxo",
            recommendation_marker: "DetailMarkers_recommendation_marker__jprrr",
            recommendation_icon: "DetailMarkers_recommendation_icon__ZnQJu"
        }
    }
    ,
    18113: e => {
        e.exports = {
            main_marker: "TripPageMarkers_main_marker__HjJ6W",
            sub_marker: "TripPageMarkers_sub_marker__P_YVT",
            main_marker_active: "TripPageMarkers_main_marker_active__fRR6z"
        }
    }
    ,
    433: e => {
        e.exports = {
            route__options: "RouteOptionCard_route__options__L6rfb",
            route__options_not_clickable: "RouteOptionCard_route__options_not_clickable__uL0T4",
            route__options_info: "RouteOptionCard_route__options_info___WLMd",
            route__options_transport: "RouteOptionCard_route__options_transport__YSSny",
            route__options_add: "RouteOptionCard_route__options_add__0N5cP",
            router__transport_icon: "RouteOptionCard_router__transport_icon__rIUiy"
        }
    }
    ,
    69339: e => {
        e.exports = {
            info: "TransportOptionDetails_info__E3mLR"
        }
    }
    ,
    24109: e => {
        e.exports = {
            container: "TransportOptionsIcons_container__vmSOs",
            carrierImage: "TransportOptionsIcons_carrierImage__KWia4",
            airlines_text: "TransportOptionsIcons_airlines_text__QJfhr"
        }
    }
    ,
    3631: e => {
        e.exports = {
            travel_options__title: "TripRouteOptions_travel_options__title__BpnTm",
            options: "TripRouteOptions_options__zZcWi",
            option: "TripRouteOptions_option__EE74H",
            option__info: "TripRouteOptions_option__info__g0pFD",
            option__info_link: "TripRouteOptions_option__info_link__VsXjo",
            option__info_left: "TripRouteOptions_option__info_left__DD98F",
            option__info_left_icons: "TripRouteOptions_option__info_left_icons__5Kfum",
            option__info_left_title: "TripRouteOptions_option__info_left_title__rFDOT",
            option__info_right: "TripRouteOptions_option__info_right__sp4g8",
            option__info_right_price: "TripRouteOptions_option__info_right_price__oOB2v",
            best__badge: "TripRouteOptions_best__badge__6zS05",
            select_option_button: "TripRouteOptions_select_option_button__zxoib",
            book_button: "TripRouteOptions_book_button__UgoYo",
            no_options_text: "TripRouteOptions_no_options_text__gCH_v",
            select_option_wrapper: "TripRouteOptions_select_option_wrapper__uLt4h",
            select_option_selected: "TripRouteOptions_select_option_selected__Iy57G"
        }
    }
    ,
    93113: e => {
        e.exports = {
            container: "PlansSeoContent_container__lSi1v",
            links_wrapper: "PlansSeoContent_links_wrapper__uncDr",
            link_inline: "PlansSeoContent_link_inline__PAPzo",
            dot: "PlansSeoContent_dot__Zv16r"
        }
    }
    ,
    74977: e => {
        e.exports = {
            poi_link: "PoiNode_poi_link__PKmTc"
        }
    }
}]);
