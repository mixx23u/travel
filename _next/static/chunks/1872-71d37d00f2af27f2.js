!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="161e55b4-9b34-40cd-a578-1dae782796ed",e._sentryDebugIdIdentifier="sentry-dbid-161e55b4-9b34-40cd-a578-1dae782796ed")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1872],{88541:(e,a,r)=>{"use strict";r.d(a,{A:()=>c});var l=r(74848),o=r(29965),n=r.n(o),i=r(96540),t=r(62322),s=r(95753);let c=e=>{let{size:a,border:r=!1,shadow:o=!1,borderWidth:c=2,borderColor:u="#FFF",loading:d="lazy",borderRadius:p,onClick:h}=e,g=(0,s.o)(),b=(0,i.useMemo)(()=>{if((null==u?void 0:u.toLowerCase())==="white")return"/logo_splash_white_new.webp";if(!(null==g?void 0:g.character))throw Error("LaylaAvatar: theme.character is undefined.");return a>150?g.character.large:a>80?g.character.medium:g.character.small},[g,a,u]),m=Number.isFinite(a)&&a>0?a:32,w="number"==typeof p?"".concat(p,"px"):p||"50%";return(0,l.jsx)(t.A,{onClick:h,sx:{width:m,height:m,boxShadow:o?"0px 12px 32px 0px rgba(0, 0, 0, 0.12)":void 0,border:r?"".concat(c,"px solid ").concat(u):void 0,backgroundColor:g.character.transparent?"transparent":void 0,borderRadius:w,cursor:h?"pointer":"default"},children:(0,l.jsx)(n(),{src:b,alt:"Layla avatar",height:m,width:m,loading:d,draggable:!1,style:{borderRadius:w},priority:"eager"===d})})}},4481:(e,a,r)=>{"use strict";r.d(a,{M:()=>o});var l=r(74848);let o=e=>{let{src:a,color:r,width:o,height:n,alt:i,objectFit:t,click:s,style:c={}}=e,u="string"==typeof a?a:a.src;return(0,l.jsx)("div",{onClick:s,role:"button","aria-label":i,style:{width:o,height:n,backgroundColor:r,WebkitMaskImage:"url(".concat(u,")"),maskImage:"url(".concat(u,")"),WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:t,maskSize:t,WebkitMaskPosition:"center",maskPosition:"center",maskType:"alpha",overflow:"hidden",...c}})}},14280:(e,a,r)=>{"use strict";r.d(a,{A:()=>c});var l=r(74848),o=r(95753),n=r(4481),i=r(13725),t=r(13473),s=r.n(t);let c=e=>{let{width:a,height:r,color:t,click:c}=e,u=(0,o.o)(),d=a>90?u.logos.large:a>40?u.logos.medium:u.logos.small,p=t||u.colors.primary,h=u.logos.fixedColor?(0,l.jsx)(i.A,{src:d,alt:"layla-logo",height:r,width:a,style:{objectFit:"contain",cursor:c?"pointer":"default"},onClick:c}):(0,l.jsx)(n.M,{src:d,alt:"layla-logo",height:r,width:a,objectFit:"contain",color:p,style:{cursor:c?"pointer":"default"},click:c});return(0,l.jsx)("div",{className:s().container,children:h})}},81872:(e,a,r)=>{"use strict";r.d(a,{A:()=>ec});var l=r(74848),o=r(96540),n=r(86715),i=r(14953),t=r.n(i),s=r(8299),c=r(9581),u=r(71975),d=r(79640),p=r(72352),h=r(60006),g=r(18584),b=r(95753),m=r(49573),w=r(40712),f=r(87853),k=r(98935),y=r(88541),v=r(14280),C=r(98097),P=r(4029),x=r(23174),A=r(65151),j=r(94828),S=r(98562),L=r(58727),_=r(82995),N=r(4053),M=r(60746),U=r(57539),R=r(9910),G=r(67034),T=r(43900),I=r(48441),B=r(88023),z=r(25508),E=r(40532),D=r(89599);let F=()=>{var e,a;let{isLoggedIn:r,user:l,setShowSignupPopup:n}=(0,u.A)(),{displayPaywall:i}=(0,I.M)(),{startTracking:t,setStartTracking:s,subscription:c,isNotSubscribed:d}=(0,p.R)(),{utmParameters:h}=(0,m.G)(),{showLoader:g,hideLoader:b}=(0,w.w)(),{tAsString:f}=(0,k.Ay)(),y=(0,B.A)(),[v,C]=(0,o.useState)(!1),P=(0,o.useCallback)(()=>{n({open:!0,trigger:"LoginButton"})},[n]),x=(0,o.useCallback)(async()=>{var e,a;if(!r){P();return}if(d){i(!0,"default");return}if(g(f("common.redirectingToCheckout")),null==c?void 0:null===(e=c.customer)||void 0===e?void 0:e.id){let e=await (0,z.oE)(c.customer.id,(0,D.yn)(window.location.href),void 0);if(null==e?void 0:e.url){y({event:"ManageSubscriptionPress"}),window.open(e.url,"_self");return}}let o="https://billing.stripe.com/p/login/3cseXf6kcahjdQA144";if(!o||o.length<=0){b();return}let n=new URL(o),t=Object.keys(h);for(let e=0;e<t.length;e++){let a=t[e],r=h[a];n.searchParams.append(a,r)}if(null==c?void 0:null===(a=c.customer)||void 0===a?void 0:a.email){n.searchParams.append("prefilled_email",c.customer.email),window.open(n.href,"_self");return}let s=null==l?void 0:l.uid;if(!s){b();return}(0,E.UC)("users_v2/".concat(s)).then(e=>{let a=null==e?void 0:e.email;a?(y({event:"ManageSubscriptionPress"}),n.searchParams.append("prefilled_email",a),window.open(n.href,"_self")):b()}).catch(()=>{b()})},[null==c?void 0:null===(e=c.customer)||void 0===e?void 0:e.email,null==c?void 0:null===(a=c.customer)||void 0===a?void 0:a.id,null==l?void 0:l.uid,d,r,P,i,g,f,y,b,h]),A=(0,o.useCallback)(async()=>{t?x():(null==s||s(!0),C(!0))},[t,s,x]);return(0,o.useEffect)(()=>{v&&void 0!==c&&(C(!1),x())},[v,c,x]),{handleSubscriptionClick:A,handleOpenSignUp:P}},W=()=>{let{pathname:e,push:a}=(0,n.useRouter)(),{logout:r}=(0,u.A)(),{utmParameters:l}=(0,m.G)();return{handleSignOut:(0,o.useCallback)(async()=>{await r(),"/"!==e&&await a({pathname:"/",query:l})},[r,e,a,l])}},q=e=>{let{onCreateNewTrip:a,onMyTripsClick:r,onCurrencyClick:n,onLanguageClick:i}=e,{user:t,isLoggedIn:s,currentUserCreatorData:c}=(0,u.A)(),{setShowReferralPopup:d}=(0,I.M)(),{currency:h}=(0,T.B)(),{utmParameters:b}=(0,m.G)(),{isMobile:w}=(0,g.U)(),{tAsString:f}=(0,k.Ay)(),{userSubscriptionCategory:y}=(0,p.R)(),{handleSubscriptionClick:v,handleOpenSignUp:B}=F(),{handleSignOut:z}=W(),E="active_subscriber"===y;return(0,o.useMemo)(()=>{let e=[{id:"new-trip",label:f("homepage.header.newTrip"),icon:(0,l.jsx)(C.A,{className:"h-6 w-6",color:"grey"}),onClick:a},{id:"my-trips",label:f("sidebar.profileMenu.myTrips"),icon:(0,l.jsx)(P.A,{className:"h-6 w-6",color:"grey"}),onClick:r}],o={id:"subscription",label:f("profilePage.subscription"),icon:(0,l.jsx)(x.A,{className:"h-6 w-6",color:"grey"}),onClick:v},u={id:"refer-friend",label:f("referral.menuItem"),icon:(0,l.jsx)(A.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>d(!0)},p={id:"settings",label:f("sidebar.profileMenu.settings"),icon:(0,l.jsx)(j.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>{let e=new URLSearchParams(b).toString(),a="".concat(window.location.origin,"/profile").concat(e?"?".concat(e):"");window.open(a,"_self")}},g=[{id:"about",label:f("sidebar.profileMenu.about"),icon:(0,l.jsx)(S.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>{let e=new URLSearchParams(b).toString(),a="".concat(window.location.origin,"/about").concat(e?"?".concat(e):"");window.open(a,"_blank","noopener,noreferrer")}},{id:"contact",label:f("sidebar.profileMenu.contact"),icon:(0,l.jsx)(L.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>{let e=new URLSearchParams(b).toString(),a="".concat(window.location.origin,"/contact").concat(e?"?".concat(e):"");window.open(a,"_blank","noopener,noreferrer")}},{id:"terms",label:f("sidebar.profileMenu.terms"),icon:(0,l.jsx)(_.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>{let e=new URLSearchParams(b).toString(),a="".concat(window.location.origin,"/terms").concat(e?"?".concat(e):"");window.open(a,"_blank","noopener,noreferrer")}}],m=[];if(w&&n&&m.push({id:"currency",label:"".concat(f("profilePage.currency")," (").concat(null!=h?h:"USD",")"),icon:(0,l.jsx)(N.A,{className:"h-6 w-6",color:"grey"}),onClick:n}),w&&i&&m.push({id:"language",label:f("profilePage.language"),icon:(0,l.jsx)(M.A,{className:"h-6 w-6",color:"grey"}),onClick:i}),!s)return[{id:"login",label:f("sidebar.profileMenu.login"),icon:(0,l.jsx)(U.A,{className:"h-6 w-6",color:"grey"}),onClick:B},{type:"separator"},...e,o,p,...m,{type:"separator"},...g];let k=[...e];return c&&t&&!t.anonymous&&k.push({id:"creator-profile",label:f("creator.profile.profile"),icon:(0,l.jsx)(R.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>{let e=new URLSearchParams(b).toString(),a="".concat(window.location.origin,"/creator/").concat(t.uid).concat(e?"?".concat(e):"");window.open(a,"_self")}}),c&&k.push({id:"creator-hub",label:f("creator.profile.creatorHub"),icon:(0,l.jsx)(x.A,{className:"h-6 w-6",color:"grey"}),onClick:()=>{let e=new URLSearchParams(b).toString(),a="".concat(window.location.origin,"/creator/").concat(null==t?void 0:t.uid,"/hub").concat(e?"?".concat(e):"");window.open(a,"_self")}}),c&&k.push({type:"separator"}),k.push(o),E&&k.push(u),k.push(p,...m),k.push({type:"separator"}),k.push(...g),k.push({type:"separator"}),k.push({id:"signout",label:f("sidebar.profileMenu.signOut"),icon:(0,l.jsx)(G.A,{className:"h-6 w-6"}),variant:"destructive",onClick:z}),k},[f,a,r,v,b,w,n,i,s,c,t,z,h,B,E,d])};var O=r(2783),H=r(57559);let X=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.CurrencyLanguageSelectionButton),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),J=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.Germany),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),Q=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.UnitedStates),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),Y=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.France),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),$=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.Italy),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),K=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.Portugal),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),V=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.Russia),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),Z=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.China),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),ee=t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.Spain),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),ea={en:Q,ar:t()(()=>Promise.all([r.e(8840),r.e(2211),r.e(2083),r.e(3881),r.e(2806),r.e(7393),r.e(5767)]).then(r.bind(r,85767)).then(e=>e.UnitedArabEmirates),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),de:J,es:ee,fr:Y,it:$,pt:K,ru:V,zh:Z},er=e=>({en:e("profilePage.languages.en"),ar:e("profilePage.languages.ar"),de:e("profilePage.languages.de"),es:e("profilePage.languages.es"),fr:e("profilePage.languages.fr"),it:e("profilePage.languages.it"),pt:e("profilePage.languages.pt"),ru:e("profilePage.languages.ru"),zh:e("profilePage.languages.zh")}),el=e=>{let{onCurrencyClick:a,onLanguageClick:r}=e,{tAsString:n}=(0,k.Ay)(),{currency:i,locale:t}=(0,T.B)(),s=(0,o.useMemo)(()=>{var e;let a=(0,H.H)(n)[(null==i?void 0:i.toLowerCase())||"usd"];return{code:(null==a?void 0:null===(e=a.code)||void 0===e?void 0:e.toUpperCase())||"USD",name:(null==a?void 0:a.symbol)||"$"}},[i,n]),c=(0,o.useMemo)(()=>{let e=t||"en",a=O.gW[e]||"us",r=er(n);return{countryCode:a,name:r[e]||r.en,flagIcon:ea[e]||ea.en}},[t,n]);return{currencyLanguageSelectionButton:(0,o.useMemo)(()=>(0,l.jsx)(X,{currency:s,language:c,onCurrencyClick:a,onLanguageClick:r}),[s,c,a,r])}};var eo=r(91106),en=r.n(eo),ei=r(20285);let et=t()(()=>r.e(7796).then(r.bind(r,57796)),{loadableGenerated:{webpack:()=>[57796]},ssr:!1}),es=t()(()=>r.e(9907).then(r.bind(r,19907)),{loadableGenerated:{webpack:()=>[19907]},ssr:!1}),ec=e=>{let{className:a,onLogoClick:r,onProfileClick:i,noSpacer:t,hasScrolled:C=!1}=e,[P,x]=(0,o.useState)(!1),[A,j]=(0,o.useState)(!1),{user:S,isLoggedIn:L}=(0,u.A)(),_=(0,s.A)(L),{isNotSubscribed:N,setStartTracking:M}=(0,p.R)(),{setStartTracking:U}=(0,h.J)(),{isMobile:R}=(0,g.U)(),{colors:G}=(0,b.o)(),{tAsString:T}=(0,k.Ay)(),{handleNewChat:I}=(0,d.Y)(),{chats:B}=(0,f.A2)(),{utmParameters:z}=(0,m.G)(),{showLoader:E}=(0,w.w)(),{push:D,pathname:F}=(0,n.useRouter)(),W=(0,o.useCallback)(()=>{I?I():(E(T("common.loading")),D({pathname:"/chat/new-chat",query:z}))},[I,E,T,D,z]),O=(0,o.useCallback)(()=>{E(T("common.loading")),B&&B.length<1?D({pathname:"/chat",query:z}):D({pathname:"/trips",query:z})},[D,E,T,z,B]),H=(0,o.useCallback)(()=>{if(i)i();else{if("/profile"===F)return;D({pathname:"/profile",query:z})}},[i,F,D,z]),X=q({onCreateNewTrip:W,onMyTripsClick:O,onCurrencyClick:()=>x(!0),onLanguageClick:()=>j(!0)}),J=(0,o.useMemo)(()=>{var e,a;return{name:(null==S?void 0:S.displayName)||(null==S?void 0:S.email)||"User",avatarUrl:(null==S?void 0:S.photoUrl)||void 0,initials:(null==S?void 0:null===(e=S.displayName)||void 0===e?void 0:e.charAt(0).toUpperCase())||(null==S?void 0:null===(a=S.email)||void 0===a?void 0:a.charAt(0).toUpperCase())||void 0,email:(null==S?void 0:S.email)||void 0,isLoggedIn:L,onClick:H}},[S,L,H]),{currencyLanguageSelectionButton:Q}=el({onCurrencyClick:()=>x(!0),onLanguageClick:()=>j(!0)});(0,o.useEffect)(()=>{if(_!==L&&L){null==M||M(!0),null==U||U(!0);return}_===L||L||(null==M||M(!1),null==U||U(!1))},[_,L,M,U]);let Y=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),D({pathname:ei.bw.home})},[D]),$=F===ei.bw.home&&!C;return(0,l.jsxs)("div",{className:t?"":"min-h-14",children:[(0,l.jsx)(c.j,{className:a,logo:r?(0,l.jsx)(en(),{href:"/",prefetch:!1,"aria-label":"Layla Travel",onClick:r,children:(0,l.jsx)(y.A,{size:32,border:!0,borderWidth:1,borderColor:$?"white":G.primary,loading:"eager",onClick:()=>{}})}):(0,l.jsx)(en(),{href:"/",prefetch:!1,"aria-label":"Layla Travel",className:"cursor-pointer",onClick:Y,children:(0,l.jsx)(y.A,{size:32,border:!0,borderWidth:1,borderColor:$?"white":G.primary,loading:"eager"})}),logoSymbol:(0,l.jsx)(v.A,{click:null!=r?r:Y,color:$?"white":G.primary,width:66,height:20}),showPrimeBadge:L&&!N,primeBadgeLabel:T("Premium"),showCreateNewTripButton:!1,currencyLanguageSelectionButton:!R&&Q,userProfile:J,userProfileMenuItems:X}),(0,l.jsx)(et,{isOpen:P,onClose:()=>x(!1)}),(0,l.jsx)(es,{isOpen:A,onClose:()=>j(!1)})]})}},13473:e=>{e.exports={container:"LaylaLogo_container__PnRkX"}}}]);