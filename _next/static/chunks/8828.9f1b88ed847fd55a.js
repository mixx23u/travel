!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="a382a18a-255e-4b2c-9eb2-8266d73af4d5",e._sentryDebugIdIdentifier="sentry-dbid-a382a18a-255e-4b2c-9eb2-8266d73af4d5")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8828],{70270:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s={src:"/_next/static/media/chevron_left.7de8e5c0.svg",height:16,width:16,blurWidth:0,blurHeight:0}},34973:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s={src:"/_next/static/media/chevron_right.dcb11c1b.svg",height:14,width:14,blurWidth:0,blurHeight:0}},78828:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>L});var s=t(74848),n=t(96540),l=t(34502),d=t(77222),o=t(16910),r=t.n(o),i=t(98935);let c=e=>{let{onClose:a,hideDragTab:t=!1}=e,{tAsString:n}=(0,i.Ay)();return(0,s.jsxs)("div",{className:r().container,children:[(0,s.jsxs)("div",{className:r().desktopLayout,children:[(0,s.jsx)(d.A,{onClick:a,customStyles:r().closeButton}),(0,s.jsx)("span",{className:r().title,children:n("trip.detailsModal.title")}),(0,s.jsx)("div",{className:r().spacer})]}),(0,s.jsxs)("div",{className:r().mobileLayout,children:[!t&&(0,s.jsx)("div",{className:r().dragTab}),(0,s.jsx)("span",{className:r().title,children:n("trip.detailsModal.title")})]})]})};var _=t(78942),m=t.n(_);let h=e=>{let{onClearAll:a,onSave:t,canSave:n,enabled:l}=e,{tAsString:d}=(0,i.Ay)(),o=n?l?m().saveEnabled:m().saveDisabled:l?m().nextEnabled:m().nextDisabled;return(0,s.jsxs)("div",{className:m().container,children:[(0,s.jsx)("button",{className:m().clearAll,onClick:a,children:d("trip.detailsModal.clearAll")}),(0,s.jsx)("button",{onClick:t,className:o,children:d(n?"trip.detailsModal.save":"trip.detailsModal.next")})]})};var u=t(12494),p=t.n(u),v=t(28097),x=t(86715),y=t(70270),g=t(34973),j=t(89906),N=t(13725),b=t(20285),D=t(10236),C=t.n(D);let S=e=>{let{start:a,end:t,monthsToDisplay:l=1,minDate:d,onChange:o}=e,{locale:r}=(0,x.useRouter)(),[i,c]=(0,n.useState)(null!=a?a:null!=d&&d>v.c9.now()?d:v.c9.now()),[_,m]=(0,n.useState)(a),[h,u]=(0,n.useState)(t),p=(0,n.useMemo)(()=>{let e=[];for(let a=0;a<7;a++){let t=0===a?7:a,s=v.c9.now().set({weekday:t});e.push(s.setLocale(r||b.Nm).toFormat("ccc"))}return e},[r]),D=e=>{c(i.plus({months:e}))},S=e=>!!_&&!!h&&e>_&&e<h,w=e=>{!_||_&&h?(m(e),u(void 0)):_&&!h&&(e>=_&&!e.hasSame(_,"day")?(u(e),o&&o(_,e)):(m(e),u(void 0)))},A=e=>{let a=e.setLocale(r||b.Nm);return"zh"===r?"".concat(a.monthLong," ").concat(a.year):"ja"===r?"".concat(a.month,"月 ").concat(a.year):a.toFormat("MMMM yyyy")},f=e=>(0,s.jsxs)("div",{className:C().monthHeader,children:[(0,s.jsxs)("div",{className:C().monthHeaderNavigation,children:[1===l||e.hasSame(i,"month")?(0,s.jsx)("div",{onClick:()=>D(-1),className:C().monthHeaderNavigationButton,children:(0,s.jsx)(N.A,{src:y.A,alt:"Previous month",width:10,height:10})}):(0,s.jsx)("div",{className:C().monthHeaderNavigationSpacer}),(0,s.jsx)("span",{className:C().monthHeaderNavigationTitle,children:A(e)}),1===l||e.hasSame(i.plus({month:l-1}),"month")?(0,s.jsx)("div",{onClick:()=>D(1),className:C().monthHeaderNavigationButton,children:(0,s.jsx)(N.A,{src:g.A,alt:"Next month",width:16,height:16})}):(0,s.jsx)("div",{className:C().monthHeaderNavigationSpacer})]}),(0,s.jsx)("div",{className:C().monthHeaderWeekdays,children:p.map((e,a)=>(0,s.jsx)("div",{className:C().monthHeaderWeekday,children:e},a))})]}),k=e=>{let{year:a,month:t}=e,n=v.c9.fromObject({year:a,month:t,day:1}),l=v.c9.fromObject({year:a,month:t,day:1}).plus({month:1}).minus({days:1}),d=n.weekday,o=l.day,r=[];for(let e=d-1;e>=0;e--){let s=v.c9.fromObject({year:a,month:t,day:1}).minus({days:e+1});r.push({date:s,currentMonth:!1})}let i=[];for(let e=1;e<=o;e++){let s=v.c9.fromObject({year:a,month:t,day:e});i.push({date:s,currentMonth:!0})}let c=r.length+i.length,m=[],u=(7-c%7)%7;for(let e=1;e<=u;e++){let s=v.c9.fromObject({year:a,month:t,day:1}).plus({month:1}).plus({days:e-1});m.push({date:s,currentMonth:!1})}let p=[...r,...i,...m],x=[];for(let e=0;e<p.length;e+=7)x.push({days:p.slice(e,e+7),weekNumber:p[e].date.weekNumber});return(0,s.jsx)("div",{className:C().days,children:x.map((e,a)=>(0,s.jsx)("div",{className:C().weekOfDays,children:e.days.map((e,a)=>{let{date:t,currentMonth:n}=e,l=_&&t.hasSame(_,"day"),d=h&&t.hasSame(h,"day"),o=!l&&!d&&S(t),r=(0,j.A)({[C().dayRangeStart]:n&&l&&h,[C().dayRangeEnd]:n&&d,[C().dayRange]:n&&o}),i=(0,j.A)(C().day,{[C().dayDisabled]:!n,[C().dayEnabled]:n,[C().daySelected]:n&&(l||d)});return(0,s.jsxs)("div",{className:C().dayContainer,onClick:()=>w(t),children:[(0,s.jsx)("div",{className:r}),(0,s.jsx)("div",{className:i,children:t.toFormat("d")})]},a)})},a))})};return(0,s.jsx)("div",{className:C().container,children:Array.from({length:l},(e,a)=>(0,s.jsxs)("div",{className:C().month,children:[f(i.plus({months:a})),k(i.plus({months:a}))]},a))})};var w=t(18584),A=t(76426),f=t.n(A);let k=e=>{let{data:a,onChange:t,onExpand:n,expanded:l}=e,{tAsString:d}=(0,i.Ay)(),{isMobile:o}=(0,w.U)(),{locale:r}=(0,x.useRouter)(),c=e=>{let a=e.setLocale(r||"en");return"zh"===r?"".concat(a.day," ").concat(a.monthShort):"ja"===r?"".concat(a.day," ").concat(a.month,"月"):a.toFormat("d MMM")};if(!l){let e="";return a.start?(e+=c(a.start),a.end&&(e+=" - ".concat(c(a.end)))):e=d("trip.detailsModal.dates.selectDates"),(0,s.jsxs)("div",{className:f().containerClosed,onClick:n,children:[(0,s.jsx)("span",{className:f().label,children:d("trip.detailsModal.dates.titleCollapsed")}),(0,s.jsx)("span",{className:f().value,children:e})]})}return(0,s.jsxs)("div",{className:f().containerOpened,children:[(0,s.jsx)("div",{className:f().title,children:d("trip.detailsModal.dates.title")}),(0,s.jsx)(S,{minDate:v.c9.now(),monthsToDisplay:o?1:2,onChange:(e,a)=>{t({start:e,end:a})},start:a.start,end:a.end})]})};var R=t(94191),M=t(80042),H=t.n(M);let E=e=>{let{data:a,onChange:t,onExpand:n,expanded:l}=e,{tAsString:d}=(0,i.Ay)();if(!l){let e="";return a.rooms&&a.rooms>0&&(e+=d("trip.detailsModal.roomsAndGuests.roomsWithCount",{count:a.rooms})),a.adults&&a.adults>0&&(e.length>0&&(e+=", "),e+=d("trip.detailsModal.roomsAndGuests.adultsWithCount",{count:a.adults})),a.children&&a.children>0&&(e.length>0&&(e+=", "),e+=d("trip.detailsModal.roomsAndGuests.childrenWithCount",{count:a.children})),(0,s.jsxs)("div",{className:H().containerClosed,onClick:n,children:[(0,s.jsx)("span",{className:H().label,children:d("trip.detailsModal.roomsAndGuests.title")}),(0,s.jsx)("span",{className:H().value,children:e})]})}let o=a.rooms||0,r=a.adults||0,c=a.children||0,_=(e,a)=>(0,s.jsx)("div",{className:H().valueDown,onClick:e>0?()=>a(e-1):void 0,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,s.jsx)("path",{d:"M3.33594 8H12.6693",stroke:e>0?"black":"#DCDCE2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),m=(e,a)=>(0,s.jsx)("div",{className:H().valueUp,onClick:()=>a(e+1),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,s.jsx)("path",{d:"M7.99988 3.33398V12.6673M3.33203 8.00065H12.6654",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h=(e,a)=>(0,s.jsxs)("div",{className:H().valueSection,children:[_(e,a),(0,s.jsx)("span",{className:H().value,children:e}),m(e,a)]}),u=(e,a,t,n)=>(0,s.jsxs)("div",{className:H().section,children:[(0,s.jsxs)("div",{className:H().labelBlock,children:[(0,s.jsx)("div",{className:H().label,children:e}),n&&(0,s.jsx)("div",{className:H().info,children:n})]}),h(a,t)]});return(0,s.jsxs)("div",{className:H().containerOpened,children:[(0,s.jsx)("div",{className:H().title,children:d("trip.detailsModal.roomsAndGuests.title")}),(0,s.jsxs)("div",{className:H().content,children:[u(d("trip.detailsModal.roomsAndGuests.rooms"),o,e=>t({...a,rooms:e})),(0,s.jsx)(R.A,{className:H().divider}),u(d("trip.detailsModal.roomsAndGuests.adults"),r,e=>t({...a,adults:e}),d("trip.detailsModal.roomsAndGuests.adultsInfo")),(0,s.jsx)(R.A,{className:H().divider}),u(d("trip.detailsModal.roomsAndGuests.children"),c,e=>t({...a,children:e}),d("trip.detailsModal.roomsAndGuests.childrenInfo"))]})]})},G=e=>{let{initialDates:a,initialRoomsAndGuests:t,onChange:l,datesExpanded:d,setDatesExpanded:o,roomsAndGuestsExpanded:r,setRoomsAndGuestsExpanded:i}=e,[c,_]=(0,n.useState)(a||{}),[m,h]=(0,n.useState)(t||{rooms:1,adults:1});return(0,s.jsxs)("div",{className:p().container,children:[(0,s.jsx)(k,{expanded:d,onExpand:()=>{o(!0),i(!1)},data:c,onChange:e=>{_(e),l&&l(e,m)}}),(0,s.jsx)(E,{expanded:r,onExpand:()=>{i(!0),o(!1)},data:m,onChange:e=>{h(e),l&&l(c,e)}})]})};var T=t(28781),O=t.n(T),B=t(88023),W=t(69235);let L=e=>{let{initialDates:a,initialRoomsAndGuests:t,onSave:d,onClose:o,open:r=!0}=e,[i,_]=(0,n.useState)(0),[m,u]=(0,n.useState)(a||{}),[p,v]=(0,n.useState)(t||{rooms:1,adults:1}),[x,y]=(0,n.useState)(!0),[g,j]=(0,n.useState)(!1),N=(0,B.A)(),{isMobile:b}=(0,w.U)();(0,n.useEffect)(()=>{a&&u(a)},[a]),(0,n.useEffect)(()=>{t&&v(t)},[t]);let D=(e,a)=>{u(e),v(a)},C=()=>{u({}),v({rooms:1,adults:1}),_(e=>e+1),y(!0),j(!1),N({event:"ModifyTripDetailsClearAll"})},S=(0,n.useCallback)(()=>{if(x){y(!1),j(!0),_(e=>e+1);return}d&&d(m,p),o&&o(),N({event:"ModifyTripDetailsSave"})},[m,p,d,o,x]),A=x?!!m.start&&!!m.end:(p.rooms||0)>0,f=(0,W.A)((0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().backdrop,onClick:o}),(0,s.jsxs)("div",{className:O().container,children:[(0,s.jsx)(c,{onClose:o}),(0,s.jsx)("div",{className:O().content_wrapper,children:(0,s.jsx)(G,{initialDates:m,initialRoomsAndGuests:p,onChange:D,datesExpanded:x,setDatesExpanded:y,roomsAndGuestsExpanded:g,setRoomsAndGuestsExpanded:j},i)}),(0,s.jsx)("div",{className:O().footer_wrapper,children:(0,s.jsx)(h,{onClearAll:C,onSave:S,canSave:g,enabled:A})})]})]}),"trip-details-modal");return b?(0,s.jsxs)(l._s,{open:r,onOpenChange:e=>!e&&(null==o?void 0:o()),direction:"bottom",children:[(0,s.jsx)(l.QP,{className:O().drawer_overlay}),(0,s.jsxs)(l.zj,{className:"z-9999 border-none min-h-[85vh] ".concat(O().drawer_content),children:[(0,s.jsx)(c,{onClose:o,hideDragTab:!0}),(0,s.jsx)("div",{className:O().content_wrapper,children:(0,s.jsx)(G,{initialDates:m,initialRoomsAndGuests:p,onChange:D,datesExpanded:x,setDatesExpanded:y,roomsAndGuestsExpanded:g,setRoomsAndGuestsExpanded:j},i)}),(0,s.jsx)("div",{className:O().footer_wrapper,children:(0,s.jsx)(h,{onClearAll:C,onSave:S,canSave:g,enabled:A})})]})]}):r?f:null}},28781:e=>{e.exports={backdrop:"TripDetailsModal_backdrop__g461S",container:"TripDetailsModal_container__pvdXR",content_wrapper:"TripDetailsModal_content_wrapper__hcrpB",footer_wrapper:"TripDetailsModal_footer_wrapper__h3xwI",drawer_overlay:"TripDetailsModal_drawer_overlay__M12Ok",drawer_content:"TripDetailsModal_drawer_content__m8FRA"}},12494:e=>{e.exports={container:"Content_container__K2U_j"}},76426:e=>{e.exports={containerClosed:"DateSelector_containerClosed__PY05t",label:"DateSelector_label__foS1R",value:"DateSelector_value__eni2t",containerOpened:"DateSelector_containerOpened__NBU_e",title:"DateSelector_title__vHbWM",info:"DateSelector_info__t8JPW","value-down":"DateSelector_value-down__hTr1D","value-up":"DateSelector_value-up__7mXQb"}},78942:e=>{e.exports={container:"Footer_container__4MMU8",clearAll:"Footer_clearAll__ImOfq",nextDisabled:"Footer_nextDisabled__v9_S3",nextEnabled:"Footer_nextEnabled__N6pBX",saveDisabled:"Footer_saveDisabled__2_oir",saveEnabled:"Footer_saveEnabled__5Rgb0"}},16910:e=>{e.exports={container:"Header_container__CH8eN",desktopLayout:"Header_desktopLayout__rvYEw",mobileLayout:"Header_mobileLayout__5hlIy",dragTab:"Header_dragTab__q57BY",title:"Header_title__lTi79",closeButton:"Header_closeButton__TdA3C",spacer:"Header_spacer__qwTfY"}},80042:e=>{e.exports={containerClosed:"RoomsAndGuestsSelector_containerClosed__8mMEh",label:"RoomsAndGuestsSelector_label___6mox",value:"RoomsAndGuestsSelector_value__gOroO",containerOpened:"RoomsAndGuestsSelector_containerOpened__SM6kr",title:"RoomsAndGuestsSelector_title__EMpzA",content:"RoomsAndGuestsSelector_content__EHqCo",section:"RoomsAndGuestsSelector_section__5ek9T",valueSection:"RoomsAndGuestsSelector_valueSection__IlUDV",labelBlock:"RoomsAndGuestsSelector_labelBlock__uiojw",info:"RoomsAndGuestsSelector_info__mMoge",valueDown:"RoomsAndGuestsSelector_valueDown__0JGVl",valueUp:"RoomsAndGuestsSelector_valueUp__26mkV",divider:"RoomsAndGuestsSelector_divider__RTnEc"}},10236:e=>{e.exports={container:"DateRangeCalendar_container__N9DXt",month:"DateRangeCalendar_month__C4_Pm",monthHeader:"DateRangeCalendar_monthHeader__yU6DA",monthHeaderNavigation:"DateRangeCalendar_monthHeaderNavigation__GvB3k",monthHeaderNavigationButton:"DateRangeCalendar_monthHeaderNavigationButton__Ux_dY",monthHeaderNavigationSpacer:"DateRangeCalendar_monthHeaderNavigationSpacer__xo0GH",monthHeaderNavigationTitle:"DateRangeCalendar_monthHeaderNavigationTitle__vkweE",monthHeaderWeekdays:"DateRangeCalendar_monthHeaderWeekdays__e1Lye",monthHeaderWeekday:"DateRangeCalendar_monthHeaderWeekday__Z6Gtz",days:"DateRangeCalendar_days__gf_Uw",weekOfDays:"DateRangeCalendar_weekOfDays___Fs1h",dayContainer:"DateRangeCalendar_dayContainer__dtRN4",day:"DateRangeCalendar_day__CbtEc",dayEnabled:"DateRangeCalendar_dayEnabled__KhMjB",dayDisabled:"DateRangeCalendar_dayDisabled__c_mki",daySelected:"DateRangeCalendar_daySelected__qcI5d",dayRange:"DateRangeCalendar_dayRange__bgW7S",dayRangeStart:"DateRangeCalendar_dayRangeStart__SzOx7",dayRangeEnd:"DateRangeCalendar_dayRangeEnd__BlxOB"}}}]);